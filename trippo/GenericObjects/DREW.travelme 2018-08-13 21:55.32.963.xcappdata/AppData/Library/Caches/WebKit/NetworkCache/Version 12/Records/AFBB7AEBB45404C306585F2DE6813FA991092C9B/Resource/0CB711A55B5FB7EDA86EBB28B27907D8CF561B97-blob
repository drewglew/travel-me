!function(){var a,b,c;!function(d){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=b&&b.split("/"),p=s.map,q=p&&p["*"]||{};if(a){for(a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),"."===a[0].charAt(0)&&o&&(n=o.slice(0,o.length-1),a=n.concat(a)),k=0;k<a.length;k++)if("."===(m=a[k]))a.splice(k,1),k-=1;else if(".."===m){if(0===k||1===k&&".."===a[2]||".."===a[k-1])continue;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}if((o||q)&&p){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),o)for(l=o.length;l>0;l-=1)if((e=p[o.slice(0,l).join("/")])&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&q&&q[d]&&(i=q[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,b){return function(){var c=v.call(arguments,0);return"string"!=typeof c[0]&&1===c.length&&c.push(null),n.apply(d,c.concat([a,b]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var b=r[a];delete r[a],t[a]=!0,m.apply(d,b)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return void 0!==b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,b,c,f){var h,k,l,m,n,s,u=[],v=typeof c;if(f=f||a,"undefined"===v||"function"===v){for(b=!b.length&&c.length?["require","exports","module"]:b,n=0;n<b.length;n+=1)if(m=o(b[n],f),"require"===(k=m.f))u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=c?c.apply(q[a],u):void 0,a&&(h&&h.exports!==d&&h.exports!==q[a]?q[a]=h.exports:l===d&&s||(q[a]=l))}else a&&(q[a]=c)},a=b=n=function(a,b,c,e,f){if("string"==typeof a)return p[a]?p[a](b):j(o(a,b).f);if(!a.splice){if(s=a,s.deps&&n(s.deps,s.callback),!b)return;b.splice?(a=b,b=c,c=null):a=d}return b=b||function(){},"function"==typeof c&&(c=e,e=f),e?m(d,a,b,c):setTimeout(function(){m(d,a,b,c)},4),n},n.config=function(a){return n(a)},a._defined=q,c=function(a,b,c){if("string"!=typeof a)throw new Error("See almond README: incorrect module build, no module name");b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},c.amd={jQuery:!0}}(),c("node_modules/@bower_components/almond/almond",function(){}),function(a,b,c,d){"use strict";function e(a){return("string"==typeof a||a instanceof String)&&(a=a.replace(/^['\\\/"]+|(;\s?})+|['\\\/"]+$/g,"")),a}function f(a){this.selector=a,this.query=""}(function(b){var c=a("head");c.prepend(a.map(b,function(a){if(0===c.has("."+a).length)return'<meta class="'+a+'" />'}))})(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),a(function(){"undefined"!=typeof FastClick&&void 0!==c.body&&FastClick.attach(c.body)});var g=function(b,d){if("string"==typeof b){if(d){var e;if(d.jquery){if(!(e=d[0]))return d}else e=d;return a(e.querySelectorAll(b))}return a(c.querySelectorAll(b))}return a(b,d)},h=function(a){var b=[];return a||b.push("data"),this.namespace.length>0&&b.push(this.namespace),b.push(this.name),b.join("-")},i=function(a){for(var b=a.split("-"),c=b.length,d=[];c--;)0!==c?d.push(b[c]):this.namespace.length>0?d.push(this.namespace,b[c]):d.push(b[c]);return d.reverse().join("-")},j=function(b,c){var d=this,e=function(){var e=g(this),f=!e.data(d.attr_name(!0)+"-init");e.data(d.attr_name(!0)+"-init",a.extend({},d.settings,c||b,d.data_options(e))),f&&d.events(this)};if(g(this.scope).is("["+this.attr_name()+"]")?e.call(this.scope):g("["+this.attr_name()+"]",this.scope).each(e),"string"==typeof b)return this[b].call(this,c)},k=function(a,b){function c(){b(a[0])}function d(){if(this.one("load",c),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=this.attr("src"),b=a.match(/\?/)?"&":"?";b+="random="+(new Date).getTime(),this.attr("src",a+b)}}if(!a.attr("src"))return void c();a[0].complete||4===a[0].readyState?c():d.call(a)};b.matchMedia||(b.matchMedia=function(){var a=b.styleMedia||b.media;if(!a){var d=c.createElement("style"),e=c.getElementsByTagName("script")[0],f=null;d.type="text/css",d.id="matchmediajs-test",e.parentNode.insertBefore(d,e),f="getComputedStyle"in b&&b.getComputedStyle(d,null)||d.currentStyle,a={matchMedium:function(a){var b="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return d.styleSheet?d.styleSheet.cssText=b:d.textContent=b,"1px"===f.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a){function c(){d&&(g(c),i&&a.fx.tick())}for(var d,e=0,f=["webkit","moz"],g=b.requestAnimationFrame,h=b.cancelAnimationFrame,i=void 0!==a.fx;e<f.length&&!g;e++)g=b[f[e]+"RequestAnimationFrame"],h=h||b[f[e]+"CancelAnimationFrame"]||b[f[e]+"CancelRequestAnimationFrame"];g?(b.requestAnimationFrame=g,b.cancelAnimationFrame=h,i&&(a.fx.timer=function(b){b()&&a.timers.push(b)&&!d&&(d=!0,c())},a.fx.stop=function(){d=!1})):(b.requestAnimationFrame=function(a){var c=(new Date).getTime(),d=Math.max(0,16-(c-e)),f=b.setTimeout(function(){a(c+d)},d);return e=c+d,f},b.cancelAnimationFrame=function(a){clearTimeout(a)})}(a),f.prototype.toString=function(){return this.query||(this.query=g(this.selector).css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""))},b.Foundation={name:"Foundation",version:"5.5.3",media_queries:{small:new f(".foundation-mq-small"),"small-only":new f(".foundation-mq-small-only"),medium:new f(".foundation-mq-medium"),"medium-only":new f(".foundation-mq-medium-only"),large:new f(".foundation-mq-large"),"large-only":new f(".foundation-mq-large-only"),xlarge:new f(".foundation-mq-xlarge"),"xlarge-only":new f(".foundation-mq-xlarge-only"),xxlarge:new f(".foundation-mq-xxlarge")},stylesheet:a("<style></style>").appendTo("head")[0].sheet,global:{namespace:d},init:function(a,c,d,e,f){var h=[a,d,e,f],i=[];if(this.rtl=/rtl/i.test(g("html").attr("dir")),this.scope=a||this.scope,this.set_namespace(),c&&"string"==typeof c&&!/reflow/i.test(c))this.libs.hasOwnProperty(c)&&i.push(this.init_lib(c,h));else for(var j in this.libs)i.push(this.init_lib(j,c));return g(b).load(function(){g(b).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),a},init_lib:function(b,c){return this.libs.hasOwnProperty(b)?(this.patch(this.libs[b]),c&&c.hasOwnProperty(b)?(void 0!==this.libs[b].settings?a.extend(!0,this.libs[b].settings,c[b]):void 0!==this.libs[b].defaults&&a.extend(!0,this.libs[b].defaults,c[b]),this.libs[b].init.apply(this.libs[b],[this.scope,c[b]])):(c=c instanceof Array?c:new Array(c),this.libs[b].init.apply(this.libs[b],c))):function(){}},patch:function(a){a.scope=this.scope,a.namespace=this.global.namespace,a.rtl=this.rtl,a.data_options=this.utils.data_options,a.attr_name=h,a.add_namespace=i,a.bindings=j,a.S=this.utils.S},inherit:function(a,b){for(var c=b.split(" "),d=c.length;d--;)this.utils.hasOwnProperty(c[d])&&(a[c[d]]=this.utils[c[d]])},set_namespace:function(){var b=this.global.namespace===d?a(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=b===d||/false/i.test(b)?"":b},libs:{},utils:{S:g,throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;null==c&&(c=setTimeout(function(){a.apply(d,e),c=null},b))}},debounce:function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},data_options:function(b,c){function d(a){return!isNaN(a-0)&&null!==a&&""!==a&&!1!==a&&!0!==a}function e(b){return"string"==typeof b?a.trim(b):b}c=c||"options";var f,g,h,i={},j=function(a){var b=Foundation.global.namespace;return b.length>0?a.data(b+"-"+c):a.data(c)},k=j(b);if("object"==typeof k)return k;for(h=(k||":").split(";"),f=h.length;f--;)g=h[f].split(":"),g=[g[0],g.slice(1).join(":")],/true/i.test(g[1])&&(g[1]=!0),/false/i.test(g[1])&&(g[1]=!1),d(g[1])&&(-1===g[1].indexOf(".")?g[1]=parseInt(g[1],10):g[1]=parseFloat(g[1])),2===g.length&&g[0].length>0&&(i[e(g[0])]=e(g[1]));return i},register_media:function(b,c){Foundation.media_queries[b]===d&&(a("head").append('<meta class="'+c+'"/>'),Foundation.media_queries[b]=e(a("."+c).css("font-family")))},add_custom_rule:function(a,b){if(b===d&&Foundation.stylesheet)Foundation.stylesheet.insertRule(a,Foundation.stylesheet.cssRules.length);else{Foundation.media_queries[b]!==d&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[b]+"{ "+a+" }",Foundation.stylesheet.cssRules.length)}},image_loaded:function(a,b){function c(a){for(var b=a.length,c=b-1;c>=0;c--)if(a.attr("height")===d)return!1;return!0}var e=this,f=a.length;(0===f||c(a))&&b(a),a.each(function(){k(e.S(this),function(){0===(f-=1)&&b(a)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(a){return b.matchMedia(a).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},a.fn.foundation=function(){var a=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(a)),this})}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.abide={name:"abide",version:"5.5.3",settings:{live_validate:!0,validate_on_blur:!0,focus_on_invalid:!0,error_labels:!0,error_class:"error",timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/([-;:&=\+\$,\w]+@{1})?([-A-Za-z0-9\.]+)+:?(\d+)?((\/[-\+~%\/\.\w]+)?\??([-\+=&;%@\.\w]+)?#?([\w]+)?)?/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(a,b,d){return c.getElementById(a.getAttribute(this.add_namespace("data-equalto"))).value===a.value}}},timer:null,init:function(a,b,c){this.bindings(b,c)},events:function(b){function c(a,b){clearTimeout(d.timer),d.timer=setTimeout(function(){d.validate([a],b)}.bind(a),f.timeout)}var d=this,e=d.S(b).attr("novalidate","novalidate"),f=e.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid"),e.off(".abide").on("submit.fndtn.abide",function(a){var b=/ajax/i.test(d.S(this).attr(d.attr_name()));return d.validate(d.S(this).find("input, textarea, select").not(":hidden, [data-abide-ignore]").get(),a,b)}).on("validate.fndtn.abide",function(a){"manual"===f.validate_on&&d.validate([a.target],a)}).on("reset",function(b){return d.reset(a(this),b)}).find("input, textarea, select").not(":hidden, [data-abide-ignore]").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(a){var b=this.getAttribute("id"),d=e.find('[data-equalto="'+b+'"]');f.validate_on_blur&&!0===f.validate_on_blur&&c(this,a),void 0!==d.get(0)&&d.val().length&&c(d.get(0),a),"change"===f.validate_on&&c(this,a)}).on("keydown.fndtn.abide",function(a){var b=this.getAttribute("id"),d=e.find('[data-equalto="'+b+'"]');f.live_validate&&!0===f.live_validate&&9!=a.which&&c(this,a),void 0!==d.get(0)&&d.val().length&&c(d.get(0),a),"tab"===f.validate_on&&9===a.which?c(this,a):"change"===f.validate_on&&c(this,a)}).on("focus",function(b){navigator.userAgent.match(/iPad|iPhone|Android|BlackBerry|Windows Phone|webOS/i)&&a("html, body").animate({scrollTop:a(b.target).offset().top},100)})},reset:function(b,c){var d=this;b.removeAttr(d.invalid_attr),a("["+d.invalid_attr+"]",b).removeAttr(d.invalid_attr),a("."+d.settings.error_class,b).not("small").removeClass(d.settings.error_class),a(":input",b).not(":button, :submit, :reset, :hidden, [data-abide-ignore]").val("").removeAttr(d.invalid_attr)},validate:function(a,b,c){for(var d=this.parse_patterns(a),e=d.length,f=this.S(a[0]).closest("form"),g=/submit/.test(b.type),h=0;h<e;h++)if(!d[h]&&(g||c))return this.settings.focus_on_invalid&&a[h].focus(),f.trigger("invalid.fndtn.abide"),this.S(a[h]).closest("form").attr(this.invalid_attr,""),!1;return(g||c)&&f.trigger("valid.fndtn.abide"),f.removeAttr(this.invalid_attr),!c},parse_patterns:function(a){for(var b=a.length,c=[];b--;)c.push(this.pattern(a[b]));return this.check_validation_and_apply_styles(c)},pattern:function(a){var b=a.getAttribute("type"),c="string"==typeof a.getAttribute("required"),d=a.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(d)&&d.length>0?[a,this.settings.patterns[d],c]:d.length>0?[a,new RegExp(d),c]:this.settings.patterns.hasOwnProperty(b)?[a,this.settings.patterns[b],c]:(d=/.*/,[a,d,c])},check_validation_and_apply_styles:function(b){var c=b.length,d=[];if(0==c)return d;var e=this.S(b[0][0]).closest("[data-"+this.attr_name(!0)+"]");for(e.data(this.attr_name(!0)+"-init");c--;){var f,g,h=b[c][0],i=b[c][2],j=h.value.trim(),k=this.S(h).parent(),l=h.getAttribute(this.add_namespace("data-abide-validator")),m="radio"===h.type,n="checkbox"===h.type,o=this.S('label[for="'+h.getAttribute("id")+'"]'),p=!i||h.value.length>0,q=[];if(h.getAttribute(this.add_namespace("data-equalto"))&&(l="equalTo"),f=k.is("label")?k.parent():k,m&&i)q.push(this.valid_radio(h,i));else if(n&&i)q.push(this.valid_checkbox(h,i));else if(l){for(var r=l.split(" "),s=!0,t=!0,u=0;u<r.length;u++)g=this.settings.validators[r[u]].apply(this,[h,i,f]),q.push(g),t=g&&s,s=g;t?(this.S(h).removeAttr(this.invalid_attr),f.removeClass("error"),o.length>0&&this.settings.error_labels&&o.removeClass(this.settings.error_class).removeAttr("role"),a(h).triggerHandler("valid")):(this.S(h).attr(this.invalid_attr,""),f.addClass("error"),o.length>0&&this.settings.error_labels&&o.addClass(this.settings.error_class).attr("role","alert"),a(h).triggerHandler("invalid"))}else if(b[c][1].test(j)&&p||!i&&h.value.length<1||a(h).attr("disabled")?q.push(!0):q.push(!1),q=[q.every(function(a){return a})],q[0])this.S(h).removeAttr(this.invalid_attr),h.setAttribute("aria-invalid","false"),h.removeAttribute("aria-describedby"),f.removeClass(this.settings.error_class),o.length>0&&this.settings.error_labels&&o.removeClass(this.settings.error_class).removeAttr("role"),a(h).triggerHandler("valid");else{this.S(h).attr(this.invalid_attr,""),h.setAttribute("aria-invalid","true");var v=f.find("small."+this.settings.error_class,"span."+this.settings.error_class),w=v.length>0?v[0].id:"";w.length>0&&h.setAttribute("aria-describedby",w),f.addClass(this.settings.error_class),o.length>0&&this.settings.error_labels&&o.addClass(this.settings.error_class).attr("role","alert"),a(h).triggerHandler("invalid")}d=d.concat(q)}return d},valid_checkbox:function(b,c){var b=this.S(b),d=b.is(":checked")||!c||b.get(0).getAttribute("disabled");return d?(b.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class),a(b).triggerHandler("valid")):(b.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),a(b).triggerHandler("invalid")),d},valid_radio:function(b,c){for(var d=b.getAttribute("name"),e=this.S(b).closest("[data-"+this.attr_name(!0)+"]").find("[name='"+d+"']"),f=e.length,g=!1,h=!1,i=0;i<f;i++)e[i].getAttribute("disabled")?(h=!0,g=!0):e[i].checked?g=!0:h&&(g=!1);for(var i=0;i<f;i++)g?(this.S(e[i]).removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class),a(e[i]).triggerHandler("valid")):(this.S(e[i]).attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),a(e[i]).triggerHandler("invalid"));return g},valid_equal:function(a,b,d){var e=c.getElementById(a.getAttribute(this.add_namespace("data-equalto"))).value,f=a.value,g=e===f;return g?(this.S(a).removeAttr(this.invalid_attr),d.removeClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.removeClass(this.settings.error_class)):(this.S(a).attr(this.invalid_attr,""),d.addClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.addClass(this.settings.error_class)),g},valid_oneof:function(a,b,c,d){var a=this.S(a),e=this.S("["+this.add_namespace("data-oneof")+"]"),f=e.filter(":checked").length>0;if(f?a.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):a.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),!d){var g=this;e.each(function(){g.valid_oneof.call(g,this,null,null,!0)})}return f},reflow:function(a,b){var c=this,d=c.S("["+this.attr_name()+"]").attr("novalidate","novalidate");c.S(d).each(function(a,b){c.events(b)})}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.5.3",settings:{content_class:"content",active_class:"active",multi_expand:!1,toggleable:!0,callback:function(){}},init:function(a,b,c){this.bindings(b,c)},events:function(b){var c=this,d=this.S;c.create(this.S(b)),d(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > dd > a, ["+this.attr_name()+"] > li > a",function(b){var e=d(this).closest("["+c.attr_name()+"]"),f=c.attr_name()+"="+e.attr(c.attr_name()),g=e.data(c.attr_name(!0)+"-init")||c.settings,h=d("#"+this.href.split("#")[1]),i=a("> dd, > li",e),j=i.children("."+g.content_class),k=j.filter("."+g.active_class);if(b.preventDefault(),e.attr(c.attr_name())&&(j=j.add("["+f+"] dd > ."+g.content_class+", ["+f+"] li > ."+g.content_class),i=i.add("["+f+"] dd, ["+f+"] li")),g.toggleable&&h.is(k))return h.parent("dd, li").toggleClass(g.active_class,!1),h.toggleClass(g.active_class,!1),d(this).attr("aria-expanded",function(a,b){return"true"===b?"false":"true"}),g.callback(h),h.triggerHandler("toggled",[e]),void e.triggerHandler("toggled",[h]);g.multi_expand||(j.removeClass(g.active_class),i.removeClass(g.active_class),i.children("a").attr("aria-expanded","false")),h.addClass(g.active_class).parent().addClass(g.active_class),g.callback(h),h.triggerHandler("toggled",[e]),e.triggerHandler("toggled",[h]),d(this).attr("aria-expanded","true")})},create:function(b){var c=this,d=b,e=a("> .accordion-navigation",d),f=d.data(c.attr_name(!0)+"-init")||c.settings;e.children("a").attr("aria-expanded","false"),e.has("."+f.content_class+"."+f.active_class).addClass(f.active_class).children("a").attr("aria-expanded","true"),f.multi_expand&&b.attr("aria-multiselectable","true")},toggle:function(a){var a=void 0!==a?a:{},c=void 0!==a.selector?a.selector:"",d=void 0!==a.toggle_state?a.toggle_state:"",e=void 0!==a.$accordion?a.$accordion:this.S(this.scope).closest("["+this.attr_name()+"]"),f=e.find("> dd"+c+", > li"+c);if(f.length<1)return b.console,!1;var g=this.S,h=this.settings.active_class;f.each(function(){var a=g(this),b=a.hasClass(h);(b&&"close"===d||!b&&"open"===d||""===d)&&a.find("> a").trigger("click.fndtn.accordion")})},open:function(a){var a=void 0!==a?a:{};a.toggle_state="open",this.toggle(a)},close:function(a){var a=void 0!==a?a:{};a.toggle_state="close",this.toggle(a)},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.alert={name:"alert",version:"5.5.3",settings:{callback:function(){}},init:function(a,b,c){this.bindings(b,c)},events:function(){var b=this,c=this.S;a(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] .close",function(a){var d=c(this).closest("["+b.attr_name()+"]"),e=d.data(b.attr_name(!0)+"-init")||b.settings;a.preventDefault(),Modernizr.csstransitions?(d.addClass("alert-close"),d.on("transitionend webkitTransitionEnd oTransitionEnd",function(a){c(this).trigger("close.fndtn.alert").remove(),e.callback()})):d.fadeOut(300,function(){c(this).trigger("close.fndtn.alert").remove(),e.callback()})})},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.clearing={name:"clearing",version:"5.5.3",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div><img class="clearing-preload-next" style="display: none" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><img class="clearing-preload-prev" style="display: none" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" />'},close_selectors:".clearing-close, div.clearing-blackout",open_selectors:"",skip_selector:"",touch_label:"",init:!1,locked:!1},init:function(a,b,c){var d=this;Foundation.inherit(this,"throttle image_loaded"),this.bindings(b,c),d.S(this.scope).is("["+this.attr_name()+"]")?this.assemble(d.S("li",this.scope)):d.S("["+this.attr_name()+"]",this.scope).each(function(){d.assemble(d.S("li",this))})},events:function(d){var e=this,f=e.S,g=a(".scroll-container");g.length>0&&(this.scope=g),f(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+"] li "+this.settings.open_selectors,function(a,b,c){var b=b||f(this),c=c||b,d=b.next("li"),g=b.closest("["+e.attr_name()+"]").data(e.attr_name(!0)+"-init"),h=f(a.target);a.preventDefault(),g||(e.init(),g=b.closest("["+e.attr_name()+"]").data(e.attr_name(!0)+"-init")),c.hasClass("visible")&&b[0]===c[0]&&d.length>0&&e.is_open(b)&&(c=d,h=f("img",c)),e.open(h,b,c),e.update_paddles(c)}).on("click.fndtn.clearing",".clearing-main-next",function(a){e.nav(a,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(a){e.nav(a,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(a){Foundation.libs.clearing.close(a,this)}),a(c).on("keydown.fndtn.clearing",function(a){e.keydown(a)}),f(b).off(".clearing").on("resize.fndtn.clearing",function(){e.resize()}),this.swipe_events(d)},swipe_events:function(a){var b=this,c=b.S;c(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(a){a.touches||(a=a.originalEvent);var b={start_page_x:a.touches[0].pageX,start_page_y:a.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:d};c(this).data("swipe-transition",b),a.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(a){if(a.touches||(a=a.originalEvent),!(a.touches.length>1||a.scale&&1!==a.scale)){var d=c(this).data("swipe-transition");if(void 0===d&&(d={}),d.delta_x=a.touches[0].pageX-d.start_page_x,Foundation.rtl&&(d.delta_x=-d.delta_x),void 0===d.is_scrolling&&(d.is_scrolling=!!(d.is_scrolling||Math.abs(d.delta_x)<Math.abs(a.touches[0].pageY-d.start_page_y))),!d.is_scrolling&&!d.active){a.preventDefault();var e=d.delta_x<0?"next":"prev";d.active=!0,b.nav(a,e)}}}).on("touchend.fndtn.clearing",".visible-img",function(a){c(this).data("swipe-transition",{}),a.stopPropagation()})},assemble:function(b){var c=b.parent();if(!c.parent().hasClass("carousel")){c.after('<div id="foundationClearingHolder"></div>');var d=c.detach(),e="";if(null!=d[0]){e=d[0].outerHTML;var f=this.S("#foundationClearingHolder"),g=c.data(this.attr_name(!0)+"-init"),h={grid:'<div class="carousel">'+e+"</div>",viewing:g.templates.viewing},i='<div class="clearing-assembled"><div>'+h.viewing+h.grid+"</div></div>",j=this.settings.touch_label;Modernizr.touch&&(i=a(i).find(".clearing-touch-label").html(j).end()),f.after(i).remove()}}},open:function(b,d,e){function f(){setTimeout(function(){this.image_loaded(m,function(){1!==m.outerWidth()||o?g.call(this,m):f.call(this)}.bind(this))}.bind(this),100)}function g(b){var c=a(b);c.css("visibility","visible"),c.trigger("imageVisible"),i.css("overflow","hidden"),j.addClass("clearing-blackout"),k.addClass("clearing-container"),l.show(),this.fix_height(e).caption(h.S(".clearing-caption",l),h.S("img",e)).center_and_label(b,n).shift(d,e,function(){e.closest("li").siblings().removeClass("visible"),e.closest("li").addClass("visible")}),l.trigger("opened.fndtn.clearing")}var h=this,i=a(c.body),j=e.closest(".clearing-assembled"),k=h.S("div",j).first(),l=h.S(".visible-img",k),m=h.S("img",l).not(b),n=h.S(".clearing-touch-label",k),o=!1,p={};a("body").on("touchmove",function(a){a.preventDefault()}),m.error(function(){o=!0}),this.locked()||(l.trigger("open.fndtn.clearing"),p=this.load(b),p.interchange?m.attr("data-interchange",p.interchange).foundation("interchange","reflow"):m.attr("src",p.src).attr("data-interchange",""),m.css("visibility","hidden"),f.call(this))},close:function(b,d){b.preventDefault();var e,f,g=function(a){return/blackout/.test(a.selector)?a:a.closest(".clearing-blackout")}(a(d)),h=a(c.body);return d===b.target&&g&&(h.css("overflow",""),e=a("div",g).first(),f=a(".visible-img",e),f.trigger("close.fndtn.clearing"),this.settings.prev_index=0,a("ul["+this.attr_name()+"]",g).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),e.removeClass("clearing-container"),f.hide(),f.trigger("closed.fndtn.clearing")),a("body").off("touchmove"),!1},is_open:function(a){return a.parent().prop("style").length>0},keydown:function(b){var c=a(".clearing-blackout ul["+this.attr_name()+"]"),d=this.rtl?37:39,e=this.rtl?39:37;b.which===d&&this.go(c,"next"),b.which===e&&this.go(c,"prev"),27===b.which&&this.S("a.clearing-close").trigger("click.fndtn.clearing")},nav:function(b,c){var d=a("ul["+this.attr_name()+"]",".clearing-blackout");b.preventDefault(),this.go(d,c)},resize:function(){var b=a("img",".clearing-blackout .visible-img"),c=a(".clearing-touch-label",".clearing-blackout");b.length&&(this.center_and_label(b,c),b.trigger("resized.fndtn.clearing"))},fix_height:function(a){var b=a.parent().children(),c=this;return b.each(function(){var a=c.S(this),b=a.find("img");a.height()>b.outerHeight()&&a.addClass("fix-height")}).closest("ul").width(100*b.length+"%"),this},update_paddles:function(a){a=a.closest("li");var b=a.closest(".carousel").siblings(".visible-img");a.next().length>0?this.S(".clearing-main-next",b).removeClass("disabled"):this.S(".clearing-main-next",b).addClass("disabled"),a.prev().length>0?this.S(".clearing-main-prev",b).removeClass("disabled"):this.S(".clearing-main-prev",b).addClass("disabled")},center_and_label:function(a,b){return!this.rtl&&b.length>0?b.css({marginLeft:-b.outerWidth()/2,marginTop:-a.outerHeight()/2-b.outerHeight()-10}):b.css({marginRight:-b.outerWidth()/2,marginTop:-a.outerHeight()/2-b.outerHeight()-10,left:"auto",right:"50%"}),this},load:function(a){var b,c,d;return"A"===a[0].nodeName?(b=a.attr("href"),c=a.data("clearing-interchange")):(d=a.closest("a"),b=d.attr("href"),c=d.data("clearing-interchange")),this.preload(a),{src:b||a.attr("src"),interchange:b?c:a.data("clearing-interchange")}},preload:function(a){this.img(a.closest("li").next(),"next").img(a.closest("li").prev(),"prev")},img:function(b,c){if(b.length){var d,e,f,g=a(".clearing-preload-"+c),h=this.S("a",b);h.length?(d=h.attr("href"),e=h.data("clearing-interchange")):(f=this.S("img",b),d=f.attr("src"),e=f.data("clearing-interchange")),e?g.attr("data-interchange",e):(g.attr("src",d),g.attr("data-interchange",""))}return this},caption:function(a,b){var c=b.attr("data-caption");if(c){a.get(0).innerHTML=c,a.show()}else a.text("").hide();return this},go:function(a,b){var c=this.S(".visible",a),d=c[b]();this.settings.skip_selector&&0!=d.find(this.settings.skip_selector).length&&(d=d[b]()),d.length&&this.S("img",d).trigger("click.fndtn.clearing",[c,d]).trigger("change.fndtn.clearing")},shift:function(a,b,c){var d,e=b.parent(),f=this.settings.prev_index||b.index(),g=this.direction(e,a,b),h=this.rtl?"right":"left",i=parseInt(e.css("left"),10),j=b.outerWidth(),k={};b.index()===f||/skip/.test(g)?/skip/.test(g)&&(d=b.index()-this.settings.up_count,this.lock(),d>0?(k[h]=-d*j,e.animate(k,300,this.unlock())):(k[h]=0,e.animate(k,300,this.unlock()))):/left/.test(g)?(this.lock(),k[h]=i+j,e.animate(k,300,this.unlock())):/right/.test(g)&&(this.lock(),k[h]=i-j,e.animate(k,300,this.unlock())),c()},direction:function(a,b,c){var d,e=this.S("li",a),f=e.outerWidth()+e.outerWidth()/4,g=Math.floor(this.S(".clearing-container").outerWidth()/f)-1,h=e.index(c);return this.settings.up_count=g,d=this.adjacent(this.settings.prev_index,h)?h>g&&h>this.settings.prev_index?"right":h>g-1&&h<=this.settings.prev_index&&"left":"skip",this.settings.prev_index=h,d},adjacent:function(a,b){for(var c=b+1;c>=b-1;c--)if(c===a)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing"),this.S(b).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.5.3",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:!1,hover_timeout:150,opened:function(){},closed:function(){}},init:function(b,c,d){Foundation.inherit(this,"throttle"),a.extend(!0,this.settings,c,d),this.bindings(c,d)},events:function(d){var e=this,f=e.S;f(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(b){(f(this).data(e.attr_name(!0)+"-init")||e.settings).is_hover&&!Modernizr.touch||(b.preventDefault(),f(this).parent("[data-reveal-id]").length&&b.stopPropagation(),e.toggle(a(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(a){var b,c,d=f(this);clearTimeout(e.timeout),d.data(e.data_attr())?(b=f("#"+d.data(e.data_attr())),c=d):(b=d,
c=f("["+e.attr_name()+'="'+b.attr("id")+'"]'));var g=c.data(e.attr_name(!0)+"-init")||e.settings;f(a.currentTarget).data(e.data_attr())&&g.is_hover&&e.closeall.call(e),g.is_hover&&e.open.apply(e,[b,c])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(a){var b,c=f(this);if(c.data(e.data_attr()))b=c.data(e.data_attr(!0)+"-init")||e.settings;else var d=f("["+e.attr_name()+'="'+f(this).attr("id")+'"]'),b=d.data(e.attr_name(!0)+"-init")||e.settings;e.timeout=setTimeout(function(){c.data(e.data_attr())?b.is_hover&&e.close.call(e,f("#"+c.data(e.data_attr()))):b.is_hover&&e.close.call(e,c)}.bind(this),b.hover_timeout)}).on("click.fndtn.dropdown",function(b){var d=f(b.target).closest("["+e.attr_name()+"-content]");if(d.find("a").length>0&&"false"!==d.attr("aria-autoclose")&&e.close.call(e,f("["+e.attr_name()+"-content]")),(b.target===c||a.contains(c.documentElement,b.target))&&!(f(b.target).closest("["+e.attr_name()+"]").length>0))return!f(b.target).data("revealId")&&d.length>0&&(f(b.target).is("["+e.attr_name()+"-content]")||a.contains(d.first()[0],b.target))?void b.stopPropagation():void e.close.call(e,f("["+e.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+e.attr_name()+"-content]",function(){e.settings.closed.call(this)}),f(b).off(".dropdown").on("resize.fndtn.dropdown",e.throttle(function(){e.resize.call(e)},50)),this.resize()},close:function(b){var c=this;b.each(function(d){(a("["+c.attr_name()+"="+b[d].id+"]")||a("aria-controls="+b[d].id+"]")).attr("aria-expanded","false"),c.S(this).hasClass(c.settings.active_class)&&(c.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(c.settings.active_class).prev("["+c.attr_name()+"]").removeClass(c.settings.active_class).removeData("target"),c.S(this).trigger("closed.fndtn.dropdown",[b]))}),b.removeClass("f-open-"+this.attr_name(!0))},closeall:function(){var b=this;a.each(b.S(".f-open-"+this.attr_name(!0)),function(){b.close.call(b,b.S(this))})},open:function(a,b){this.css(a.addClass(this.settings.active_class),b),a.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),a.data("target",b.get(0)).trigger("opened.fndtn.dropdown",[a,b]),a.attr("aria-hidden","false"),b.attr("aria-expanded","true"),a.focus(),a.addClass("f-open-"+this.attr_name(!0))},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(a){if(!a.hasClass(this.settings.disabled_class)){var b=this.S("#"+a.data(this.data_attr()));0!==b.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(b)),b.hasClass(this.settings.active_class)?(this.close.call(this,b),b.data("target")!==a.get(0)&&this.open.call(this,b,a)):this.open.call(this,b,a))}},resize:function(){var b=this.S("["+this.attr_name()+"-content].open"),c=a(b.data("target"));b.length&&c.length&&this.css(b,c)},css:function(a,b){var c=Math.max((b.width()-a.width())/2,8),d=b.data(this.attr_name(!0)+"-init")||this.settings,e=a.parent().css("overflow-y")||a.parent().css("overflow");if(this.clear_idx(),this.small()){var f=this.dirs.bottom.call(a,b,d);a.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:f.top}),a.css(Foundation.rtl?"right":"left",c)}else if("visible"!==e){var g=b[0].offsetTop+b[0].offsetHeight;a.attr("style","").css({position:"absolute",top:g}),a.css(Foundation.rtl?"right":"left",c)}else this.style(a,b,d);return a},style:function(b,c,d){var e=a.extend({position:"absolute"},this.dirs[d.align].call(b,c,d));b.attr("style","").css(e)},dirs:{_base:function(a,d){var e=this.offsetParent(),f=e.offset(),g=a.offset();g.top-=f.top,g.left-=f.left,g.missRight=!1,g.missTop=!1,g.missLeft=!1,g.leftRightFlag=!1;var h,i=b.innerWidth;h=c.getElementsByClassName("row")[0]?c.getElementsByClassName("row")[0].clientWidth:i;var j=(i-h)/2;if(!this.hasClass("mega")&&!d.ignore_repositioning){var k=this.outerWidth(),l=a.offset().left;a.offset().top<=this.outerHeight()&&(g.missTop=!0,i-j,g.leftRightFlag=!0),l+k>l+j&&l-j>k&&(g.missRight=!0,g.missLeft=!1),l-k<=0&&(g.missLeft=!0,g.missRight=!1)}return g},top:function(a,b){var c=Foundation.libs.dropdown,d=c.dirs._base.call(this,a,b);return this.addClass("drop-top"),1==d.missTop&&(d.top=d.top+a.outerHeight()+this.outerHeight(),this.removeClass("drop-top")),1==d.missRight&&(d.left=d.left-this.outerWidth()+a.outerWidth()),(a.outerWidth()<this.outerWidth()||c.small()||this.hasClass(b.mega_menu))&&c.adjust_pip(this,a,b,d),Foundation.rtl?{left:d.left-this.outerWidth()+a.outerWidth(),top:d.top-this.outerHeight()}:{left:d.left,top:d.top-this.outerHeight()}},bottom:function(a,b){var c=Foundation.libs.dropdown,d=c.dirs._base.call(this,a,b);return 1==d.missRight&&(d.left=d.left-this.outerWidth()+a.outerWidth()),(a.outerWidth()<this.outerWidth()||c.small()||this.hasClass(b.mega_menu))&&c.adjust_pip(this,a,b,d),c.rtl?{left:d.left-this.outerWidth()+a.outerWidth(),top:d.top+a.outerHeight()}:{left:d.left,top:d.top+a.outerHeight()}},left:function(a,b){var c=Foundation.libs.dropdown.dirs._base.call(this,a,b);return this.addClass("drop-left"),1==c.missLeft&&(c.left=c.left+this.outerWidth(),c.top=c.top+a.outerHeight(),this.removeClass("drop-left")),{left:c.left-this.outerWidth(),top:c.top}},right:function(a,b){var c=Foundation.libs.dropdown.dirs._base.call(this,a,b);this.addClass("drop-right"),1==c.missRight?(c.left=c.left-this.outerWidth(),c.top=c.top+a.outerHeight(),this.removeClass("drop-right")):c.triggeredRight=!0;var d=Foundation.libs.dropdown;return(a.outerWidth()<this.outerWidth()||d.small()||this.hasClass(b.mega_menu))&&d.adjust_pip(this,a,b,c),{left:c.left+a.outerWidth(),top:c.top}}},adjust_pip:function(a,b,c,d){var e=Foundation.stylesheet,f=8;a.hasClass(c.mega_class)?f=d.left+b.outerWidth()/2-8:this.small()&&(f+=d.left-8),this.rule_idx=e.cssRules.length;var g=".f-dropdown.open:before",h=".f-dropdown.open:after",i="left: "+f+"px;",j="left: "+(f-1)+"px;";1==d.missRight&&(f=a.outerWidth()-23,g=".f-dropdown.open:before",h=".f-dropdown.open:after",i="left: "+f+"px;",j="left: "+(f-1)+"px;"),1==d.triggeredRight&&(g=".f-dropdown.open:before",h=".f-dropdown.open:after",i="left:-12px;",j="left:-14px;"),e.insertRule?(e.insertRule([g,"{",i,"}"].join(" "),this.rule_idx),e.insertRule([h,"{",j,"}"].join(" "),this.rule_idx+1)):(e.addRule(g,i,this.rule_idx),e.addRule(h,j,this.rule_idx+1))},clear_idx:function(){var a=Foundation.stylesheet;void 0!==this.rule_idx&&(a.deleteRule(this.rule_idx),a.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(b).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.5.3",settings:{use_tallest:!0,before_height_change:a.noop,after_height_change:a.noop,equalize_on_stack:!1,act_on_hidden_el:!1},init:function(a,b,c){Foundation.inherit(this,"image_loaded"),this.bindings(b,c),this.reflow()},events:function(){this.S(b).off(".equalizer").on("resize.fndtn.equalizer",function(a){this.reflow()}.bind(this))},equalize:function(b){var c,d,e=!1,f=b.data("equalizer"),g=b.data(this.attr_name(!0)+"-init")||this.settings;if(c=g.act_on_hidden_el?f?b.find("["+this.attr_name()+'-watch="'+f+'"]'):b.find("["+this.attr_name()+"-watch]"):f?b.find("["+this.attr_name()+'-watch="'+f+'"]:visible'):b.find("["+this.attr_name()+"-watch]:visible"),0!==c.length&&(g.before_height_change(),b.trigger("before-height-change.fndth.equalizer"),c.height("inherit"),!1!==g.equalize_on_stack||(d=c.first().offset().top,c.each(function(){if(a(this).offset().top!==d)return e=!0,!1}),!e))){var h=c.map(function(){return a(this).outerHeight(!1)}).get();if(g.use_tallest){var i=Math.max.apply(null,h);c.css("height",i)}else{var j=Math.min.apply(null,h);c.css("height",j)}g.after_height_change(),b.trigger("after-height-change.fndtn.equalizer")}},reflow:function(){var b=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var c=a(this),d=c.data("equalizer-mq"),e=!0;d&&(d="is_"+d.replace(/-/g,"_"),Foundation.utils.hasOwnProperty(d)&&(e=!1)),b.image_loaded(b.S("img",this),function(){if(e||Foundation.utils[d]())b.equalize(c);else{c.find("["+b.attr_name()+"-watch]:visible").css("height","auto")}})})}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.5.3",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{default:"only screen",small:Foundation.media_queries.small,"small-only":Foundation.media_queries["small-only"],medium:Foundation.media_queries.medium,"medium-only":Foundation.media_queries["medium-only"],large:Foundation.media_queries.large,"large-only":Foundation.media_queries["large-only"],xlarge:Foundation.media_queries.xlarge,"xlarge-only":Foundation.media_queries["xlarge-only"],xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(b,c,d){if(null!==b&&/IMG/.test(b[0].nodeName)){var e=a.each(b,function(){this.src=c});if(new RegExp(c,"i").test(e))return;return b.attr("src",c),d(b[0].src)}var f=this;if(b.data(this.data_attr+"-last-path")!=c)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(c)?(a(b).css("background-image","url("+c+")"),b.data("interchange-last-path",c),d(c)):a.get(c,function(a){b.html(a),b.data(f.data_attr+"-last-path",c),d()})}}},init:function(b,c,d){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),a.extend(!0,this.settings,c,d),this.bindings(c,d),this.reflow()},get_media_hash:function(){var a="";for(var b in this.settings.named_queries)a+=matchMedia(this.settings.named_queries[b]).matches.toString();return a},events:function(){var c,d=this;return a(b).off(".interchange").on("resize.fndtn.interchange",d.throttle(function(){var a=d.get_media_hash();a!==c&&d.resize(),c=a},50)),this},resize:function(){var b=this.cache;if(!this.images_loaded||!this.nodes_loaded)return void setTimeout(a.proxy(this.resize,this),50);for(var c in b)if(b.hasOwnProperty(c)){var d=this.results(c,b[c]);d&&this.settings.directives[d.scenario[1]].call(this,d.el,d.scenario[0],function(a){if(arguments[0]instanceof Array)var b=arguments[0];else var b=Array.prototype.slice.call(arguments,0);return function(){a.el.trigger(a.scenario[1],b)}}(d))}},results:function(a,b){var c=b.length;if(c>0)for(var d=this.S("["+this.add_namespace("data-uuid")+'="'+a+'"]');c--;){var e,f=b[c][2];if(e=this.settings.named_queries.hasOwnProperty(f)?matchMedia(this.settings.named_queries[f]):matchMedia(f),e.matches)return{el:d,scenario:b[c]}}return!1},load:function(a,b){return(void 0===this["cached_"+a]||b)&&this["update_"+a](),this["cached_"+a]},update_images:function(){var a=this.S("img["+this.data_attr+"]"),b=a.length,c=b,d=0,e=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===b;c--;){if(d++,a[c]){(a[c].getAttribute(e)||"").length>0&&this.cached_images.push(a[c])}d===b&&(this.images_loaded=!0,this.enhance("images"))}return this},update_nodes:function(){var a=this.S("["+this.data_attr+"]").not("img"),b=a.length,c=b,d=0,e=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===b;c--;){d++;(a[c].getAttribute(e)||"").length>0&&this.cached_nodes.push(a[c]),d===b&&(this.nodes_loaded=!0,this.enhance("nodes"))}return this},enhance:function(c){for(var d=this["cached_"+c].length;d--;)this.object(a(this["cached_"+c][d]));return a(b).trigger("resize.fndtn.interchange")},convert_directive:function(a){var b=this.trim(a);return b.length>0?b:"replace"},parse_scenario:function(a){var b=a[0].match(/(.+),\s*(\w+)\s*$/),c=a[1].match(/(.*)\)/);if(b)var d=b[1],e=b[2];else var f=a[0].split(/,\s*$/),d=f[0],e="";return[this.trim(d),this.convert_directive(e),this.trim(c[1])]},object:function(a){var b=this.parse_data_attr(a),c=[],d=b.length;if(d>0)for(;d--;){var e=b[d].split(/,\s?\(/);if(e.length>1){var f=this.parse_scenario(e);c.push(f)}}return this.store(a,c)},store:function(a,b){var c=this.random_str(),d=a.data(this.add_namespace("uuid",!0));return this.cache[d]?this.cache[d]:(a.attr(this.add_namespace("data-uuid"),c),this.cache[c]=b)},trim:function(b){return"string"==typeof b?a.trim(b):b},set_data_attr:function(a){return a?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(a){for(var b=a.attr(this.attr_name()).split(/\[(.*?)\]/),c=b.length,d=[];c--;)b[c].replace(/[\W\d]+/,"").length>4&&d.push(b[c]);return d},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.joyride={name:"joyride",version:"5.5.3",defaults:{expose:!1,modal:!0,keyboard:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,prev_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",abort_on_close:!0,tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',prev_button:'<a href="#" class="small button joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(b,c,d){Foundation.inherit(this,"throttle random_str"),this.settings=this.settings||a.extend({},this.defaults,d||c),this.bindings(c,d)},go_next:function(){this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())},go_prev:function(){this.settings.$li.prev().length<1||(this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(null,!0),this.startTimer()):(this.hide(),this.show(null,!0)))},events:function(){var c=this;a(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(a){a.preventDefault(),this.go_next()}.bind(this)).on("click.fndtn.joyride",".joyride-prev-tip",function(a){a.preventDefault(),this.go_prev()}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(a){a.preventDefault(),this.end(this.settings.abort_on_close)}.bind(this)).on("keyup.fndtn.joyride",function(a){if(this.settings.keyboard&&this.settings.riding)switch(a.which){case 39:a.preventDefault(),this.go_next();break;case 37:a.preventDefault(),this.go_prev();break;case 27:a.preventDefault(),this.end(this.settings.abort_on_close)}}.bind(this)),a(b).off(".joyride").on("resize.fndtn.joyride",c.throttle(function(){if(a("["+c.attr_name()+"]").length>0&&c.settings.$next_tip&&c.settings.riding){if(c.settings.exposed.length>0){a(c.settings.exposed).each(function(){var b=a(this);c.un_expose(b),c.expose(b)})}c.is_phone()?c.pos_phone():c.pos_default(!1)}},100))},start:function(){var b=this,c=a("["+this.attr_name()+"]",this.scope),d=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],e=d.length;!c.length>0||(this.settings.init||this.events(),this.settings=c.data(this.attr_name(!0)+"-init"),this.settings.$content_el=c,this.settings.$body=a(this.settings.tip_container),this.settings.body_offset=a(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,this.settings.riding=!0,"function"!=typeof a.cookie&&(this.settings.cookie_monster=!1),(!this.settings.cookie_monster||this.settings.cookie_monster&&!a.cookie(this.settings.cookie_name))&&(this.settings.$tip_content.each(function(c){var f=a(this);this.settings=a.extend({},b.defaults,b.data_options(f));for(var g=e;g--;)b.settings[d[g]]=parseInt(b.settings[d[g]],10);b.create({$li:f,index:c})}),!this.settings.start_timer_on_click&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")))},resume:function(){this.set_li(),this.show()},tip_template:function(b){var c,d;return b.tip_class=b.tip_class||"",c=a(this.settings.template.tip).addClass(b.tip_class),d=a.trim(a(b.li).html())+this.prev_button_text(b.prev_button_text,b.index)+this.button_text(b.button_text)+this.settings.template.link+this.timer_instance(b.index),c.append(a(this.settings.template.wrapper)),c.first().attr(this.add_namespace("data-index"),b.index),a(".joyride-content-wrapper",c).append(d),c[0]},timer_instance:function(b){return 0===b&&this.settings.start_timer_on_click&&this.settings.timer>0||0===this.settings.timer?"":a(this.settings.template.timer)[0].outerHTML},button_text:function(b){return this.settings.tip_settings.next_button?(b=a.trim(b)||"Next",b=a(this.settings.template.button).append(b)[0].outerHTML):b="",b},prev_button_text:function(b,c){return this.settings.tip_settings.prev_button?(b=a.trim(b)||"Previous",b=0==c?a(this.settings.template.prev_button).append(b).addClass("disabled")[0].outerHTML:a(this.settings.template.prev_button).append(b)[0].outerHTML):b="",b},create:function(b){this.settings.tip_settings=a.extend({},this.settings,this.data_options(b.$li));var c=b.$li.attr(this.add_namespace("data-button"))||b.$li.attr(this.add_namespace("data-text")),d=b.$li.attr(this.add_namespace("data-button-prev"))||b.$li.attr(this.add_namespace("data-prev-text")),e=b.$li.attr("class"),f=a(this.tip_template({tip_class:e,index:b.index,button_text:c,prev_button_text:d,li:b.$li}));a(this.settings.tip_container).append(f)},show:function(b,c){var e=null;if(this.settings.$li===d||-1===a.inArray(this.settings.$li.index(),this.settings.pause_after))if(this.settings.paused?this.settings.paused=!1:this.set_li(b,c),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0){if(b&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=a.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],!/body/i.test(this.settings.$target.selector)&&!this.settings.expose){var f=a(".joyride-modal-bg");/pop/i.test(this.settings.tipAnimation)?f.hide():f.fadeOut(this.settings.tipAnimationFadeSpeed),this.scroll_to()}this.is_phone()?this.pos_phone(!0):this.pos_default(!0),e=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(e.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),setTimeout(function(){e.animate({width:e.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&(e.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){e.animate({width:e.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip}else this.settings.$li&&this.settings.$target.length<1?this.show(b,c):this.end();else this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||a(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(a.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(a,b){a?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=b?this.settings.$li.prev():this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=a(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){var b=this.settings.$li.attr(this.add_namespace("data-class")),d=this.settings.$li.attr(this.add_namespace("data-id")),e=function(){return d?a(c.getElementById(d)):b?a("."+b).first():a("body")};this.settings.$target=e()},scroll_to:function(){var c,d;c=a(b).height()/2,0!=(d=Math.ceil(this.settings.$target.offset().top-c+this.settings.$next_tip.outerHeight()))&&a("html, body").stop().animate({scrollTop:d},this.settings.scroll_speed,"swing")},paused:function(){return-1===a.inArray(this.settings.$li.index()+1,this.settings.pause_after)},restart:function(){this.hide(),this.settings.$li=d,this.show("init")},pos_default:function(a){var b=this.settings.$next_tip.find(".joyride-nub"),c=Math.ceil(b.outerWidth()/2),d=Math.ceil(b.outerHeight()/2),e=a||!1;if(e&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector))this.settings.$li.length&&this.pos_modal(b);else{var f=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,g=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0;this.bottom()?(this.rtl?this.settings.$next_tip.css({top:this.settings.$target.offset().top+d+this.settings.$target.outerHeight()+f,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+g}):this.settings.$next_tip.css({top:this.settings.$target.offset().top+d+this.settings.$target.outerHeight()+f,left:this.settings.$target.offset().left+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"top")):this.top()?(this.rtl?this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-d+f,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}):this.settings.$next_tip.css({top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-d+f,left:this.settings.$target.offset().left+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+f,left:this.settings.$target.outerWidth()+this.settings.$target.offset().left+c+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top+f,left:this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-c+g}),this.nub_position(b,this.settings.tip_settings.nub_position,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(b.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())}e&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(b){var c=this.settings.$next_tip.outerHeight(),d=(this.settings.$next_tip.offset(),this.settings.$target.outerHeight()),e=a(".joyride-nub",this.settings.$next_tip),f=Math.ceil(e.outerHeight()/2),g=b||!1;e.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),g&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(e):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-c-f}),e.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+d+f}),e.addClass("top")),g&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(a){this.center(),a.hide(),this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var b=a(".joyride-modal-bg");if(b.length<1){var b=a(this.settings.template.modal);b.appendTo("body")}/pop/i.test(this.settings.tip_animation)?b.show():b.fadeIn(this.settings.tip_animation_fade_speed)}},expose:function(){var c,d,e,f,g,h="expose-"+this.random_str(6);if(arguments.length>0&&arguments[0]instanceof a)e=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;e=this.settings.$target}if(e.length<1)return b.console,!1;c=a(this.settings.template.expose),this.settings.$body.append(c),c.css({top:e.offset().top,left:e.offset().left,width:e.outerWidth(!0),height:e.outerHeight(!0)}),d=a(this.settings.template.expose_cover),f={zIndex:e.css("z-index"),position:e.css("position")},g=null==e.attr("class")?"":e.attr("class"),e.css("z-index",parseInt(c.css("z-index"))+1),"static"==f.position&&e.css("position","relative"),e.data("expose-css",f),e.data("orig-class",g),e.attr("class",g+" "+this.settings.expose_add_class),d.css({top:e.offset().top,left:e.offset().left,width:e.outerWidth(!0),height:e.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(d),c.addClass(h),d.addClass(h),e.data("expose",h),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,e),this.add_exposed(e)},un_expose:function(){var c,d,e,f,g,h=!1;if(arguments.length>0&&arguments[0]instanceof a)d=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;d=this.settings.$target}if(d.length<1)return b.console,!1;c=d.data("expose"),e=a("."+c),arguments.length>1&&(h=arguments[1]),!0===h?a(".joyride-expose-wrapper,.joyride-expose-cover").remove():e.remove(),f=d.data("expose-css"),"auto"==f.zIndex?d.css("z-index",""):d.css("z-index",f.zIndex),f.position!=d.css("position")&&("static"==f.position?d.css("position",""):d.css("position",f.position)),g=d.data("orig-class"),d.attr("class",g),d.removeData("orig-classes"),d.removeData("expose"),d.removeData("expose-z-index"),this.remove_exposed(d)},add_exposed:function(b){this.settings.exposed=this.settings.exposed||[],b instanceof a||"object"==typeof b?this.settings.exposed.push(b[0]):"string"==typeof b&&this.settings.exposed.push(b)},remove_exposed:function(b){var c,d;for(b instanceof a?c=b[0]:"string"==typeof b&&(c=b),this.settings.exposed=this.settings.exposed||[],d=this.settings.exposed.length;d--;)if(this.settings.exposed[d]==c)return void this.settings.exposed.splice(d,1)},center:function(){var c=a(b);return this.settings.$next_tip.css({top:(c.height()-this.settings.$next_tip.outerHeight())/2+c.scrollTop(),left:(c.width()-this.settings.$next_tip.outerWidth())/2+c.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(c){if(0===c.length)return[!1,!1,!1,!1];var d=a(b),e=d.height()/2,f=Math.ceil(this.settings.$target.offset().top-e+this.settings.$next_tip.outerHeight()),g=d.width()+d.scrollLeft(),h=d.height()+f,i=d.height()+d.scrollTop(),j=d.scrollTop();return f<j&&(j=f<0?0:f),h>i&&(i=h),[c.offset().top<j,g<c.offset().left+c.outerWidth(),i<c.offset().top+c.outerHeight(),d.scrollLeft()>c.offset().left]},visible:function(a){for(var b=a.length;b--;)if(a[b])return!1;return!0},nub_position:function(a,b,c){"auto"===b?a.addClass(c):a.addClass(b)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(b){this.settings.cookie_monster&&a.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),a(this.scope).off("keyup.joyride"),this.settings.$next_tip.data("closed",!0),this.settings.riding=!1,a(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),void 0!==b&&!1!==b||(this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip)),a(".joyride-tip-guide").remove()},off:function(){a(this.scope).off(".joyride"),a(b).off(".joyride"),a(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),a(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate)},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.5.3",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0,offset_by_height:!0,duration:700,easing:"swing"},init:function(a,b,c){Foundation.inherit(this,"throttle"),this.bindings(b,c)},events:function(){var b=this,c=b.S,d=b.settings;b.set_expedition_position(),c(b.scope).off(".magellan").on("click.fndtn.magellan","["+b.add_namespace("data-magellan-arrival")+"] a[href*=#]",function(c){var d=this.hostname===location.hostname||!this.hostname,e=b.filterPathname(location.pathname)===b.filterPathname(this.pathname),f=this.hash.replace(/(:|\.|\/)/g,"\\$1"),g=this;if(d&&e&&f){c.preventDefault();var h=a(this).closest("["+b.attr_name()+"]"),i=h.data("magellan-expedition-init"),j=this.hash.split("#").join(""),k=a('a[name="'+j+'"]');0===k.length&&(k=a("#"+j));var l=k.offset().top-i.destination_threshold+1;i.offset_by_height&&(l-=h.outerHeight()),a("html, body").stop().animate({scrollTop:l},i.duration,i.easing,function(){history.pushState?history.pushState(null,null,g.pathname+g.search+"#"+j):location.hash=g.pathname+g.search+"#"+j})}}).on("scroll.fndtn.magellan",b.throttle(this.check_for_arrivals.bind(this),d.throttle_delay))},check_for_arrivals:function(){var a=this;a.update_arrivals(),a.update_expedition_positions()},set_expedition_position:function(){var b=this;a("["+this.attr_name()+"=fixed]",b.scope).each(function(c,d){var e,f,g=a(this),h=g.data("magellan-expedition-init"),i=g.attr("styles")
;g.attr("style",""),e=g.offset().top+h.threshold,f=parseInt(g.data("magellan-fixed-top")),isNaN(f)||(b.settings.fixed_top=f),g.data(b.data_attr("magellan-top-offset"),e),g.attr("style",i)})},update_expedition_positions:function(){var c=this,d=a(b).scrollTop();a("["+this.attr_name()+"=fixed]",c.scope).each(function(){var b=a(this),e=b.data("magellan-expedition-init"),f=b.attr("style"),g=b.data("magellan-top-offset");if(d+c.settings.fixed_top>=g){var h=b.prev("["+c.add_namespace("data-magellan-expedition-clone")+"]");0===h.length&&(h=b.clone(),h.removeAttr(c.attr_name()),h.attr(c.add_namespace("data-magellan-expedition-clone"),""),b.before(h)),b.css({position:"fixed",top:e.fixed_top}).addClass("fixed")}else b.prev("["+c.add_namespace("data-magellan-expedition-clone")+"]").remove(),b.attr("style",f).css("position","").css("top","").removeClass("fixed")})},update_arrivals:function(){var c=this,d=a(b).scrollTop();a("["+this.attr_name()+"]",c.scope).each(function(){var b=a(this),e=b.data(c.attr_name(!0)+"-init"),f=c.offsets(b,d),g=b.find("["+c.add_namespace("data-magellan-arrival")+"]"),h=!1;f.each(function(a,d){if(d.viewport_offset>=d.top_offset){return b.find("["+c.add_namespace("data-magellan-arrival")+"]").not(d.arrival).removeClass(e.active_class),d.arrival.addClass(e.active_class),h=!0,!0}}),h||g.removeClass(e.active_class)})},offsets:function(b,c){var d=this,e=b.data(d.attr_name(!0)+"-init"),f=c;return b.find("["+d.add_namespace("data-magellan-arrival")+"]").map(function(c,g){var h=a(this).data(d.data_attr("magellan-arrival")),i=a("["+d.add_namespace("data-magellan-destination")+"="+h+"]");if(i.length>0){var j=i.offset().top-e.destination_threshold;return e.offset_by_height&&(j-=b.outerHeight()),j=Math.floor(j),{destination:i,arrival:a(this),top_offset:j,viewport_offset:f}}}).sort(function(a,b){return a.top_offset<b.top_offset?-1:a.top_offset>b.top_offset?1:0})},data_attr:function(a){return this.namespace.length>0?this.namespace+"-"+a:a},off:function(){this.S(this.scope).off(".magellan"),this.S(b).off(".magellan")},filterPathname:function(a){return a=a||"",a.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},reflow:function(){var b=this;a("["+b.add_namespace("data-magellan-expedition-clone")+"]",b.scope).remove()}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.5.3",settings:{open_method:"move",close_on_click:!1},init:function(a,b,c){this.bindings(b,c)},events:function(){var b=this,c=b.S,d="",e="",f="",g="",h="";"move"===this.settings.open_method?(d="move-",e="right",f="left",g="top",h="bottom"):"overlap_single"===this.settings.open_method?(d="offcanvas-overlap-",e="right",f="left",g="top",h="bottom"):"overlap"===this.settings.open_method&&(d="offcanvas-overlap"),c(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(f){b.click_toggle_class(f,d+e),"overlap"!==b.settings.open_method&&c(".left-submenu").removeClass(d+e),a(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(f){var g=b.get_settings(f),h=c(this).parent();!g.close_on_click||h.hasClass("has-submenu")||h.hasClass("back")?c(this).parent().hasClass("has-submenu")?(f.preventDefault(),c(this).siblings(".left-submenu").toggleClass(d+e)):h.hasClass("back")&&(f.preventDefault(),h.parent().removeClass(d+e)):(b.hide.call(b,d+e,b.get_wrapper(f)),h.parent().removeClass(d+e)),a(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(e){b.click_toggle_class(e,d+f),"overlap"!==b.settings.open_method&&c(".right-submenu").removeClass(d+f),a(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(e){var g=b.get_settings(e),h=c(this).parent();!g.close_on_click||h.hasClass("has-submenu")||h.hasClass("back")?c(this).parent().hasClass("has-submenu")?(e.preventDefault(),c(this).siblings(".right-submenu").toggleClass(d+f)):h.hasClass("back")&&(e.preventDefault(),h.parent().removeClass(d+f)):(b.hide.call(b,d+f,b.get_wrapper(e)),h.parent().removeClass(d+f)),a(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".top-off-canvas-toggle",function(e){b.click_toggle_class(e,d+h),"overlap"!==b.settings.open_method&&c(".top-submenu").removeClass(d+h),a(".top-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".top-off-canvas-menu a",function(e){var f=b.get_settings(e),g=c(this).parent();!f.close_on_click||g.hasClass("has-submenu")||g.hasClass("back")?c(this).parent().hasClass("has-submenu")?(e.preventDefault(),c(this).siblings(".top-submenu").toggleClass(d+h)):g.hasClass("back")&&(e.preventDefault(),g.parent().removeClass(d+h)):(b.hide.call(b,d+h,b.get_wrapper(e)),g.parent().removeClass(d+h)),a(".top-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".bottom-off-canvas-toggle",function(e){b.click_toggle_class(e,d+g),"overlap"!==b.settings.open_method&&c(".bottom-submenu").removeClass(d+g),a(".bottom-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".bottom-off-canvas-menu a",function(e){var f=b.get_settings(e),h=c(this).parent();!f.close_on_click||h.hasClass("has-submenu")||h.hasClass("back")?c(this).parent().hasClass("has-submenu")?(e.preventDefault(),c(this).siblings(".bottom-submenu").toggleClass(d+g)):h.hasClass("back")&&(e.preventDefault(),h.parent().removeClass(d+g)):(b.hide.call(b,d+g,b.get_wrapper(e)),h.parent().removeClass(d+g)),a(".bottom-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(g){b.click_remove_class(g,d+f),c(".right-submenu").removeClass(d+f),e&&(b.click_remove_class(g,d+e),c(".left-submenu").removeClass(d+f)),a(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(c){b.click_remove_class(c,d+f),a(".left-off-canvas-toggle").attr("aria-expanded","false"),e&&(b.click_remove_class(c,d+e),a(".right-off-canvas-toggle").attr("aria-expanded","false"))}).on("click.fndtn.offcanvas",".exit-off-canvas",function(e){b.click_remove_class(e,d+g),c(".bottom-submenu").removeClass(d+g),h&&(b.click_remove_class(e,d+h),c(".top-submenu").removeClass(d+g)),a(".bottom-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(c){b.click_remove_class(c,d+g),a(".top-off-canvas-toggle").attr("aria-expanded","false"),h&&(b.click_remove_class(c,d+h),a(".bottom-off-canvas-toggle").attr("aria-expanded","false"))})},toggle:function(a,b){b=b||this.get_wrapper(),b.is("."+a)?this.hide(a,b):this.show(a,b)},show:function(a,b){b=b||this.get_wrapper(),b.trigger("open.fndtn.offcanvas"),b.addClass(a)},hide:function(a,b){b=b||this.get_wrapper(),b.trigger("close.fndtn.offcanvas"),b.removeClass(a)},click_toggle_class:function(a,b){a.preventDefault();var c=this.get_wrapper(a);this.toggle(b,c)},click_remove_class:function(a,b){a.preventDefault();var c=this.get_wrapper(a);this.hide(b,c)},get_settings:function(a){return this.S(a.target).closest("["+this.attr_name()+"]").data(this.attr_name(!0)+"-init")||this.settings},get_wrapper:function(a){var b=this.S(a?a.target:this.scope).closest(".off-canvas-wrap");return 0===b.length&&(b=this.S(".off-canvas-wrap")),b},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";var e=function(){},f=function(e,f){if(e.hasClass(f.slides_container_class))return this;var j,k,l,m,n,o,p=this,q=e,r=0,s=!1;p.slides=function(){return q.children(f.slide_selector)},p.slides().first().addClass(f.active_slide_class),p.update_slide_number=function(b){f.slide_number&&(k.find("span:first").text(parseInt(b)+1),k.find("span:last").text(p.slides().length)),f.bullets&&(l.children().removeClass(f.bullets_active_class),a(l.children().get(b)).addClass(f.bullets_active_class))},p.update_active_link=function(b){var c=a('[data-orbit-link="'+p.slides().eq(b).attr("data-orbit-slide")+'"]');c.siblings().removeClass(f.bullets_active_class),c.addClass(f.bullets_active_class)},p.build_markup=function(){q.wrap('<div class="'+f.container_class+'"></div>'),j=q.parent(),q.addClass(f.slides_container_class),f.stack_on_small&&j.addClass(f.stack_on_small_class),f.navigation_arrows&&(j.append(a('<a href="#"><span></span></a>').addClass(f.prev_class)),j.append(a('<a href="#"><span></span></a>').addClass(f.next_class))),f.timer&&(m=a("<div>").addClass(f.timer_container_class),m.append("<span>"),m.append(a("<div>").addClass(f.timer_progress_class)),m.addClass(f.timer_paused_class),j.append(m)),f.slide_number&&(k=a("<div>").addClass(f.slide_number_class),k.append("<span></span> "+f.slide_number_text+" <span></span>"),j.append(k)),f.bullets&&(l=a("<ol>").addClass(f.bullets_container_class),j.append(l),l.wrap('<div class="orbit-bullets-container"></div>'),p.slides().each(function(b,c){var d=a("<li>").attr("data-orbit-slide",b).on("click",p.link_bullet);l.append(d)}))},p._goto=function(b,c){if(b===r)return!1;"object"==typeof o&&o.restart();var d=p.slides(),e="next";if(s=!0,b<r&&(e="prev"),b>=d.length){if(!f.circular)return!1;b=0}else if(b<0){if(!f.circular)return!1;b=d.length-1}var g=a(d.get(r)),h=a(d.get(b));g.css("zIndex",2),g.removeClass(f.active_slide_class),h.css("zIndex",4).addClass(f.active_slide_class),q.trigger("before-slide-change.fndtn.orbit"),f.before_slide_change(),p.update_active_link(b);var i=function(){var a=function(){r=b,s=!1,!0===c&&(o=p.create_timer(),o.start()),p.update_slide_number(r),q.trigger("after-slide-change.fndtn.orbit",[{slide_number:r,total_slides:d.length}]),f.after_slide_change(r,d.length)};q.outerHeight()!=h.outerHeight()&&f.variable_height?q.animate({height:h.outerHeight()},250,"linear",a):a()};if(1===d.length)return i(),!1;var j=function(){"next"===e&&n.next(g,h,i),"prev"===e&&n.prev(g,h,i)};h.outerHeight()>q.outerHeight()&&f.variable_height?q.animate({height:h.outerHeight()},250,"linear",j):j()},p.next=function(a){a.stopImmediatePropagation(),a.preventDefault(),p._goto(r+1)},p.prev=function(a){a.stopImmediatePropagation(),a.preventDefault(),p._goto(r-1)},p.link_custom=function(b){b.preventDefault();var c=a(this).attr("data-orbit-link");if("string"==typeof c&&""!=(c=a.trim(c))){var d=j.find("[data-orbit-slide="+c+"]");-1!=d.index()&&p._goto(d.index())}},p.link_bullet=function(b){var c=a(this).attr("data-orbit-slide");if("string"==typeof c&&""!=(c=a.trim(c)))if(isNaN(parseInt(c))){var d=j.find("[data-orbit-slide="+c+"]");-1!=d.index()&&p._goto(d.index()+1)}else p._goto(parseInt(c))},p.timer_callback=function(){p._goto(r+1,!0)},p.compute_dimensions=function(){var b=a(p.slides().get(r)),c=b.outerHeight();f.variable_height||p.slides().each(function(){a(this).outerHeight()>c&&(c=a(this).outerHeight())}),q.height(c)},p.create_timer=function(){return new g(j.find("."+f.timer_container_class),f,p.timer_callback)},p.stop_timer=function(){"object"==typeof o&&o.stop()},p.toggle_timer=function(){j.find("."+f.timer_container_class).hasClass(f.timer_paused_class)?(void 0===o&&(o=p.create_timer()),o.start()):"object"==typeof o&&o.stop()},p.init=function(){p.build_markup(),f.timer&&(o=p.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),o.start)),n=new i(f,q),"slide"===f.animation&&(n=new h(f,q)),j.on("click","."+f.next_class,p.next),j.on("click","."+f.prev_class,p.prev),f.next_on_click&&j.on("click","."+f.slides_container_class+" [data-orbit-slide]",p.link_bullet),j.on("click",p.toggle_timer),f.swipe&&j.on("touchstart.fndtn.orbit",function(a){a.touches||(a=a.originalEvent);var b={start_page_x:a.touches[0].pageX,start_page_y:a.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:d};j.data("swipe-transition",b),a.stopPropagation()}).on("touchmove.fndtn.orbit",function(a){if(a.touches||(a=a.originalEvent),!(a.touches.length>1||a.scale&&1!==a.scale)){var b=j.data("swipe-transition");if(void 0===b&&(b={}),b.delta_x=a.touches[0].pageX-b.start_page_x,void 0===b.is_scrolling&&(b.is_scrolling=!!(b.is_scrolling||Math.abs(b.delta_x)<Math.abs(a.touches[0].pageY-b.start_page_y))),!b.is_scrolling&&!b.active){a.preventDefault();var c=b.delta_x<0?r+1:r-1;b.active=!0,p._goto(c)}}}).on("touchend.fndtn.orbit",function(a){j.data("swipe-transition",{}),a.stopPropagation()}),j.on("mouseenter.fndtn.orbit",function(a){f.timer&&f.pause_on_hover&&p.stop_timer()}).on("mouseleave.fndtn.orbit",function(a){f.timer&&f.resume_on_mouseout&&o.start()}),a(c).on("click","[data-orbit-link]",p.link_custom),a(b).on("load resize",p.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),p.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),function(){j.prev("."+f.preloader_class).css("display","none"),p.update_slide_number(0),p.update_active_link(0),q.trigger("ready.fndtn.orbit")})},p.init()},g=function(a,b,c){var d,e,f=this,g=b.timer_speed,h=a.find("."+b.timer_progress_class),i=-1;this.update_progress=function(a){var b=h.clone();b.attr("style",""),b.css("width",a+"%"),h.replaceWith(b),h=b},this.restart=function(){clearTimeout(e),a.addClass(b.timer_paused_class),i=-1,f.update_progress(0)},this.start=function(){if(!a.hasClass(b.timer_paused_class))return!0;i=-1===i?g:i,a.removeClass(b.timer_paused_class),d=(new Date).getTime(),h.animate({width:"100%"},i,"linear"),e=setTimeout(function(){f.restart(),c()},i),a.trigger("timer-started.fndtn.orbit")},this.stop=function(){if(a.hasClass(b.timer_paused_class))return!0;clearTimeout(e),a.addClass(b.timer_paused_class);var c=(new Date).getTime();i-=c-d;var h=100-i/g*100;f.update_progress(h),a.trigger("timer-stopped.fndtn.orbit")}},h=function(b,c){var d=b.animation_speed,e=1===a("html[dir=rtl]").length,f=e?"marginRight":"marginLeft",g={};g[f]="0%",this.next=function(a,b,c){a.animate({marginLeft:"-100%"},d),b.animate(g,d,function(){a.css(f,"100%"),c()})},this.prev=function(a,b,c){a.animate({marginLeft:"100%"},d),b.css(f,"-100%"),b.animate(g,d,function(){a.css(f,"100%"),c()})}},i=function(b,c){var d=b.animation_speed;a("html[dir=rtl]").length;this.next=function(a,b,c){b.css({margin:"0%",opacity:"0.01"}),b.animate({opacity:"1"},d,"linear",function(){a.css("margin","100%"),c()})},this.prev=function(a,b,c){b.css({margin:"0%",opacity:"0.01"}),b.animate({opacity:"1"},d,"linear",function(){a.css("margin","100%"),c()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.5.3",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,next_on_click:!0,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:e,after_slide_change:e},init:function(a,b,c){this.bindings(b,c)},events:function(a){var b=new f(this.S(a),this.S(a).data("orbit-init"));this.S(a).data(this.name+"-instance",b)},reflow:function(){var a=this;if(a.S(a.scope).is("[data-orbit]")){a.S(a.scope).data(a.name+"-instance").compute_dimensions()}else a.S("[data-orbit]",a.scope).each(function(b,c){var d=a.S(c);a.data_options(d);d.data(a.name+"-instance").compute_dimensions()})}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";function e(a){var b=/fade/i.test(a),c=/pop/i.test(a);return{animate:b||c,pop:c,fade:b}}var f=[];Foundation.libs.reveal={name:"reveal",version:"5.5.3",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",multiple_opened:!1,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},on_ajax_error:a.noop,bg:a(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(b,c,d){a.extend(!0,this.settings,c,d),this.bindings(c,d)},events:function(a){var b=this,d=b.S;return d(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(a){if(a.preventDefault(),!b.locked){var c=d(this),e=c.data(b.data_attr("reveal-ajax")),f=c.data(b.data_attr("reveal-replace-content"));if(b.locked=!0,void 0===e)b.open.call(b,c);else{var g=!0===e?c.attr("href"):e;b.open.call(b,c,{url:g},{replaceContentSel:f})}}}),d(c).on("click.fndtn.reveal",this.close_targets(),function(a){if(a.preventDefault(),!b.locked){var c=d("["+b.attr_name()+"].open").data(b.attr_name(!0)+"-init")||b.settings,e=d(a.target)[0]===d("."+c.bg_class)[0];if(e){if(!c.close_on_background_click)return;a.stopPropagation()}b.locked=!0,b.close.call(b,e?d("["+b.attr_name()+"].open:not(.toback)"):d(this).closest("["+b.attr_name()+"]"))}}),d("["+b.attr_name()+"]",this.scope).length>0?d(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):d(this.scope).on("open.fndtn.reveal","["+b.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+b.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+b.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+b.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+b.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+b.attr_name()+"]",this.close_video),!0},key_up_on:function(a){var b=this;return b.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(a){var c=b.S("["+b.attr_name()+"].open"),d=c.data(b.attr_name(!0)+"-init")||b.settings;d&&27===a.which&&d.close_on_esc&&!b.locked&&b.close.call(b,c)}),!0},key_up_off:function(a){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(c,e){var g,h=this;c?void 0!==c.selector?g=h.S("#"+c.data(h.data_attr("reveal-id"))).first():(g=h.S(this.scope),e=c):g=h.S(this.scope);var i=g.data(h.attr_name(!0)+"-init");if(i=i||this.settings,g.hasClass("open")&&c!==d&&c.attr("data-reveal-id")==g.attr("id"))return h.close(g);if(!g.hasClass("open")){var j=h.S("["+h.attr_name()+"].open");void 0===g.data("css-top")&&g.data("css-top",parseInt(g.css("top"),10)).data("offset",this.cache_offset(g)),g.attr("tabindex","0").attr("aria-hidden","false"),this.key_up_on(g),g.on("open.fndtn.reveal",function(a){a.namespace}),g.on("open.fndtn.reveal").trigger("open.fndtn.reveal"),j.length<1&&this.toggle_bg(g,!0),"string"==typeof e&&(e={url:e});var k=function(){j.length>0&&(i.multiple_opened?h.to_back(j):h.hide(j,i.css.close)),i.multiple_opened&&f.push(g),h.show(g,i.css.open)};if(void 0!==e&&e.url){var l=void 0!==e.success?e.success:null;a.extend(e,{success:function(b,c,d){if(a.isFunction(l)){var e=l(b,c,d);"string"==typeof e&&(b=e)}"undefined"!=typeof options&&void 0!==options.replaceContentSel?g.find(options.replaceContentSel).html(b):g.html(b),h.S(g).foundation("section","reflow"),h.S(g).children().foundation(),k()}}),i.on_ajax_error!==a.noop&&a.extend(e,{error:i.on_ajax_error}),a.ajax(e)}else k()}h.S(b).trigger("resize")},close:function(b){var b=b&&b.length?b:this.S(this.scope),c=this.S("["+this.attr_name()+"].open"),d=b.data(this.attr_name(!0)+"-init")||this.settings,e=this;if(c.length>0)if(b.removeAttr("tabindex","0").attr("aria-hidden","true"),this.locked=!0,this.key_up_off(b),b.trigger("close.fndtn.reveal"),(d.multiple_opened&&1===c.length||!d.multiple_opened||b.length>1)&&(e.toggle_bg(b,!1),e.to_front(b)),d.multiple_opened){var g=b.is(":not(.toback)");e.hide(b,d.css.close,d),g?f.pop():f=a.grep(f,function(a){var c=a[0]===b[0];return c&&e.to_front(b),!c}),f.length>0&&e.to_front(f[f.length-1])}else e.hide(c,d.css.close,d)},close_targets:function(){var a="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?a+", ."+this.settings.bg_class:a},toggle_bg:function(b,c){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=a("<div />",{class:this.settings.bg_class}).appendTo("body").hide());var e=this.settings.bg.filter(":visible").length>0;c!=e&&((c==d?e:!c)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(c,d){if(d){var f=c.data(this.attr_name(!0)+"-init")||this.settings,g=f.root_element,h=this;if(0===c.parent(g).length){var i=c.wrap('<div style="display: none;" />').parent();c.on("closed.fndtn.reveal.wrapped",function(){c.detach().appendTo(i),c.unwrap().unbind("closed.fndtn.reveal.wrapped")}),c.detach().appendTo(g)}var j=e(f.animation);if(j.animate||(this.locked=!1),j.pop){d.top=a(b).scrollTop()-c.data("offset")+"px";var k={top:a(b).scrollTop()+c.data("css-top")+"px",opacity:1};return setTimeout(function(){return c.css(d).animate(k,f.animation_speed,"linear",function(){h.locked=!1,c.trigger("opened.fndtn.reveal")}).addClass("open")},f.animation_speed/2)}if(d.top=a(b).scrollTop()+c.data("css-top")+"px",j.fade){var k={opacity:1};return setTimeout(function(){return c.css(d).animate(k,f.animation_speed,"linear",function(){h.locked=!1,c.trigger("opened.fndtn.reveal")}).addClass("open")},f.animation_speed/2)}return c.css(d).show().css({opacity:1}).addClass("open").trigger("opened.fndtn.reveal")}var f=this.settings;return e(f.animation).fade?c.fadeIn(f.animation_speed/2):(this.locked=!1,c.show())},to_back:function(a){a.addClass("toback")},to_front:function(a){a.removeClass("toback")},hide:function(c,d){if(d){var f=c.data(this.attr_name(!0)+"-init"),g=this;f=f||this.settings;var h=e(f.animation);if(h.animate||(this.locked=!1),h.pop){var i={top:-a(b).scrollTop()-c.data("offset")+"px",opacity:0};return setTimeout(function(){return c.animate(i,f.animation_speed,"linear",function(){g.locked=!1,c.css(d).trigger("closed.fndtn.reveal")}).removeClass("open")},f.animation_speed/2)}if(h.fade){var i={opacity:0};return setTimeout(function(){return c.animate(i,f.animation_speed,"linear",function(){g.locked=!1,c.css(d).trigger("closed.fndtn.reveal")}).removeClass("open")},f.animation_speed/2)}return c.hide().css(d).removeClass("open").trigger("closed.fndtn.reveal")}var f=this.settings;return e(f.animation).fade?c.fadeOut(f.animation_speed/2):c.hide()},close_video:function(b){var c=a(".flex-video",b.target),d=a("iframe",c);d.length>0&&(d.attr("data-src",d[0].src),d.attr("src",d.attr("src")),c.hide())},open_video:function(b){var c=a(".flex-video",b.target),e=c.find("iframe");if(e.length>0){if("string"==typeof e.attr("data-src"))e[0].src=e.attr("data-src");else{var f=e[0].src;e[0].src=d,e[0].src=f}c.show()}},data_attr:function(a){return this.namespace.length>0?this.namespace+"-"+a:a},cache_offset:function(a){var b=a.show().height()+parseInt(a.css("top"),10)+a.scrollY;return a.hide(),b},off:function(){a(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.slider={name:"slider",version:"5.5.3",settings:{start:0,end:100,step:1,precision:2,initial:null,display_selector:"",vertical:!1,trigger_input_change:!1,on_change:function(){}},cache:{},init:function(a,b,c){Foundation.inherit(this,"throttle"),this.bindings(b,c),this.reflow()},events:function(){var c=this;a(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+c.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(b){c.cache.active||(b.preventDefault(),c.set_active_slider(a(b.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(d){if(c.cache.active)if(d.preventDefault(),a.data(c.cache.active[0],"settings").vertical){var e=0;d.pageY||(e=b.scrollY),c.calculate_position(c.cache.active,c.get_cursor_position(d,"y")+e)}else c.calculate_position(c.cache.active,c.get_cursor_position(d,"x"))}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(d){if(!c.cache.active){var e="slider"===a(d.target).attr("role")?a(d.target):a(d.target).closest(".range-slider").find("[role='slider']");if(e.length&&!e.parent().hasClass("disabled")&&!e.parent().attr("disabled"))if(c.set_active_slider(e),a.data(c.cache.active[0],"settings").vertical){var f=0;d.pageY||(f=b.scrollY),c.calculate_position(c.cache.active,c.get_cursor_position(d,"y")+f)}else c.calculate_position(c.cache.active,c.get_cursor_position(d,"x"))}c.remove_active_slider()}).on("change.fndtn.slider",function(a){c.settings.on_change()}),c.S(b).on("resize.fndtn.slider",c.throttle(function(a){c.reflow()},300)),this.S("["+this.attr_name()+"]").each(function(){var b=a(this),d=b.children(".range-slider-handle")[0],e=c.initialize_settings(d);""!=e.display_selector&&a(e.display_selector).each(function(){a(this).attr("value")&&a(this).off("change").on("change",function(){b.foundation("slider","set_value",a(this).val())})})})},get_cursor_position:function(a,b){var c,d="page"+b.toUpperCase(),e="client"+b.toUpperCase();return void 0!==a[d]?c=a[d]:void 0!==a.originalEvent[e]?c=a.originalEvent[e]:a.originalEvent.touches&&a.originalEvent.touches[0]&&void 0!==a.originalEvent.touches[0][e]?c=a.originalEvent.touches[0][e]:a.currentPoint&&void 0!==a.currentPoint[b]&&(c=a.currentPoint[b]),c},set_active_slider:function(a){this.cache.active=a},remove_active_slider:function(){this.cache.active=null},calculate_position:function(b,c){var d=this,e=a.data(b[0],"settings"),f=(a.data(b[0],"handle_l"),a.data(b[0],"handle_o"),a.data(b[0],"bar_l")),g=a.data(b[0],"bar_o");requestAnimationFrame(function(){var a;a=Foundation.rtl&&!e.vertical?d.limit_to((g+f-c)/f,0,1):d.limit_to((c-g)/f,0,1),a=e.vertical?1-a:a;var h=d.normalized_value(a,e.start,e.end,e.step,e.precision);d.set_ui(b,h)})},set_ui:function(b,c){var d=a.data(b[0],"settings"),e=a.data(b[0],"handle_l"),f=a.data(b[0],"bar_l"),g=this.normalized_percentage(c,d.start,d.end),h=g*(f-e)-1,i=100*g,j=b.parent(),k=b.parent().children("input[type=hidden]");Foundation.rtl&&!d.vertical&&(h=-h),h=d.vertical?-h+f-e+1:h,this.set_translate(b,h,d.vertical),d.vertical?b.siblings(".range-slider-active-segment").css("height",i+"%"):b.siblings(".range-slider-active-segment").css("width",i+"%"),j.attr(this.attr_name(),c).trigger("change.fndtn.slider"),k.val(c),d.trigger_input_change&&k.trigger("change.fndtn.slider"),b[0].hasAttribute("aria-valuemin")||b.attr({"aria-valuemin":d.start,"aria-valuemax":d.end}),b.attr("aria-valuenow",c),""!=d.display_selector&&a(d.display_selector).each(function(){this.hasAttribute("value")?a(this).val(c):a(this).text(c)})},normalized_percentage:function(a,b,c){return Math.min(1,(a-b)/(c-b))},normalized_value:function(a,b,c,d,e){var f=c-b,g=a*f;return((g-g%d)/d*d+(g%d>=.5*d?d:0)+b).toFixed(e)},set_translate:function(b,c,d){d?a(b).css("-webkit-transform","translateY("+c+"px)").css("-moz-transform","translateY("+c+"px)").css("-ms-transform","translateY("+c+"px)").css("-o-transform","translateY("+c+"px)").css("transform","translateY("+c+"px)"):a(b).css("-webkit-transform","translateX("+c+"px)").css("-moz-transform","translateX("+c+"px)").css("-ms-transform","translateX("+c+"px)").css("-o-transform","translateX("+c+"px)").css("transform","translateX("+c+"px)")},limit_to:function(a,b,c){return Math.min(Math.max(a,b),c)},initialize_settings:function(b){var c,d=a.extend({},this.settings,this.data_options(a(b).parent()));return null===d.precision&&(c=(""+d.step).match(/\.([\d]*)/),d.precision=c&&c[1]?c[1].length:0),d.vertical?(a.data(b,"bar_o",a(b).parent().offset().top),a.data(b,"bar_l",a(b).parent().outerHeight()),a.data(b,"handle_o",a(b).offset().top),a.data(b,"handle_l",a(b).outerHeight())):(a.data(b,"bar_o",a(b).parent().offset().left),a.data(b,"bar_l",a(b).parent().outerWidth()),a.data(b,"handle_o",a(b).offset().left),a.data(b,"handle_l",a(b).outerWidth())),a.data(b,"bar",a(b).parent()),a.data(b,"settings",d)},set_initial_position:function(b){var c=a.data(b.children(".range-slider-handle")[0],"settings"),d="number"!=typeof c.initial||isNaN(c.initial)?Math.floor(.5*(c.end-c.start)/c.step)*c.step+c.start:c.initial,e=b.children(".range-slider-handle");this.set_ui(e,d)},set_value:function(b){var c=this;a("["+c.attr_name()+"]",this.scope).each(function(){a(this).attr(c.attr_name(),b)}),a(this.scope).attr(c.attr_name())&&a(this.scope).attr(c.attr_name(),b),c.reflow()},reflow:function(){var b=this;b.S("["+this.attr_name()+"]").each(function(){var c=a(this).children(".range-slider-handle")[0],d=a(this).attr(b.attr_name());b.initialize_settings(c),d?b.set_ui(a(c),parseFloat(d)):b.set_initial_position(a(this))})}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.tab={name:"tab",version:"5.5.3",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(a,b,c){var d=this;(0,this.S)("["+this.attr_name()+"] > .active > a",this.scope).each(function(){d.default_tab_hashes.push(this.hash)}),this.bindings(b,c),this.handle_location_hash_change()},events:function(){var a=this,c=this.S,d=function(b,d){c(d).closest("["+a.attr_name()+"]").data(a.attr_name(!0)+"-init").is_hover&&!Modernizr.touch||(9!==(b.keyCode||b.which)&&(b.preventDefault(),b.stopPropagation()),a.toggle_active_tab(c(d).parent()))};c(this.scope).off(".tab").on("keydown.fndtn.tab","["+this.attr_name()+"] > * > a",function(a){var b=a.keyCode||a.which;if(13===b||32===b){d(a,this)}}).on("click.fndtn.tab","["+this.attr_name()+"] > * > a",function(a){d(a,this)}).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(b){c(this).closest("["+a.attr_name()+"]").data(a.attr_name(!0)+"-init").is_hover&&a.toggle_active_tab(c(this).parent())}),c(b).on("hashchange.fndtn.tab",function(b){b.preventDefault(),a.handle_location_hash_change()})},handle_location_hash_change:function(){var b=this,c=this.S;c("["+this.attr_name()+"]",this.scope).each(function(){var e=c(this).data(b.attr_name(!0)+"-init");if(e.deep_linking){var f;if(""!=(f=e.scroll_to_content?b.scope.location.hash:b.scope.location.hash.replace("fndtn-",""))){var g=c(f);if(g.hasClass("content")&&g.parent().hasClass("tabs-content"))b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href="+f+"]").parent());else{var h=g.closest(".content").attr("id");h!=d&&b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href=#"+h+"]").parent(),f)}}else for(var i=0;i<b.default_tab_hashes.length;i++)b.toggle_active_tab(a("["+b.attr_name()+"] > * > a[href="+b.default_tab_hashes[i]+"]").parent())}})},toggle_active_tab:function(e,f){var g=this,h=g.S,i=e.closest("["+this.attr_name()+"]"),j=e.find("a"),k=e.children("a").first(),l="#"+k.attr("href").split("#")[1],m=h(l),n=e.siblings(),o=i.data(this.attr_name(!0)+"-init"),p=function(b){var d,e=a(this),f=a(this).parents("li").prev().children('[role="tab"]'),g=a(this).parents("li").next().children('[role="tab"]');switch(b.keyCode){case 37:d=f;break;case 39:d=g;break;default:d=!1}d.length&&(e.attr({tabindex:"-1","aria-selected":null}),d.attr({tabindex:"0","aria-selected":!0}).focus()),a('[role="tabpanel"]').attr("aria-hidden","true"),a("#"+a(c.activeElement).attr("href").substring(1)).attr("aria-hidden",null)},q=function(a){(a!==(o.scroll_to_content?g.default_tab_hashes[0]:"fndtn-"+g.default_tab_hashes[0].replace("#",""))||b.location.hash)&&(b.location.hash=a)};k.data("tab-content")&&(l="#"+k.data("tab-content").split("#")[1],m=h(l)),o.deep_linking&&(o.scroll_to_content?(q(f||l),
f==d||f==l?e.parent()[0].scrollIntoView():h(l)[0].scrollIntoView()):q(f!=d?"fndtn-"+f.replace("#",""):"fndtn-"+l.replace("#",""))),e.addClass(o.active_class).triggerHandler("opened"),j.attr({"aria-selected":"true",tabindex:0}),n.removeClass(o.active_class),n.find("a").attr({"aria-selected":"false"}),m.siblings().removeClass(o.active_class).attr({"aria-hidden":"true"}),m.addClass(o.active_class).attr("aria-hidden","false").removeAttr("tabindex"),o.callback(e),m.triggerHandler("toggled",[m]),i.triggerHandler("toggled",[e]),j.off("keydown").on("keydown",p)},data_attr:function(a){return this.namespace.length>0?this.namespace+"-"+a:a},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.5.3",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,fade_in_duration:150,fade_out_duration:150,show_on:"all",tip_template:function(a,b){return'<span data-selector="'+a+'" id="'+a+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+b+'<span class="nub"></span></span>'}},cache:{},init:function(a,b,c){Foundation.inherit(this,"random_str"),this.bindings(b,c)},should_show:function(b,c){var d=a.extend({},this.settings,this.data_options(b));return"all"===d.show_on||(!(!this.small()||"small"!==d.show_on)||(!(!this.medium()||"medium"!==d.show_on)||!(!this.large()||"large"!==d.show_on)))},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(b){function c(a,b,c){a.timer||(c?(a.timer=null,e.showTip(b)):a.timer=setTimeout(function(){a.timer=null,e.showTip(b)}.bind(a),e.settings.hover_delay))}function d(a,b){a.timer&&(clearTimeout(a.timer),a.timer=null),e.hide(b)}var e=this,f=e.S;e.create(this.S(b)),a(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(b){var g=f(this),h=a.extend({},e.settings,e.data_options(g));if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&f(b.target).is("a"))return!1;if(/mouse/i.test(b.type)&&e.ie_touch(b))return!1;if(g.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&b.preventDefault(),e.hide(g);else{if(h.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type))return;if(!h.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&(b.preventDefault(),f(h.tooltip_class+".open").hide(),!0,a(".open["+e.attr_name()+"]").length>0)){var i=f(a(".open["+e.attr_name()+"]")[0]);e.hide(i)}/enter|over/i.test(b.type)?c(this,g):"mouseout"===b.type||"mouseleave"===b.type?d(this,g):c(this,g,!0)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(b){if(/mouse/i.test(b.type)&&e.ie_touch(b))return!1;"touch"==a(this).data("tooltip-open-event-type")&&"mouseleave"==b.type||("mouse"==a(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(b.type)?e.convert_to_touch(a(this)):d(this,a(this)))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(a){d(this,f(this))})},ie_touch:function(a){return!1},showTip:function(a){var b=this.getTip(a);if(this.should_show(a,b))return this.show(a)},getTip:function(b){var c=this.selector(b),d=a.extend({},this.settings,this.data_options(b)),e=null;return c&&(e=this.S('span[data-selector="'+c+'"]'+d.tooltip_class)),"object"==typeof e&&e},selector:function(a){var b=a.attr(this.attr_name())||a.attr("data-selector");return"string"!=typeof b&&(b=this.random_str(6),a.attr("data-selector",b).attr("aria-describedby",b)),b},create:function(c){var d=this,e=a.extend({},this.settings,this.data_options(c)),f=this.settings.tip_template;"string"==typeof e.tip_template&&b.hasOwnProperty(e.tip_template)&&(f=b[e.tip_template]);var g=a(f(this.selector(c),a("<div></div>").html(c.attr("title")).html())),h=this.inheritable_classes(c);g.addClass(h).appendTo(e.append_to),Modernizr.touch&&(g.append('<span class="tap-to-close">'+e.touch_close_text+"</span>"),g.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(a){d.hide(c)})),c.removeAttr("title").attr("title","")},reposition:function(b,c,d){var e,f,g,h;c.css("visibility","hidden").show(),e=b.data("width"),f=c.children(".nub"),g=f.outerHeight(),f.outerWidth(),this.small()?c.css({width:"100%"}):c.css({width:e||"auto"}),h=function(a,b,c,d,e,f){return a.css({top:b||"auto",bottom:d||"auto",left:e||"auto",right:c||"auto"}).end()};var i=b.offset().top,j=b.offset().left,k=b.outerHeight();if(h(c,i+k+10,"auto","auto",j),this.small())h(c,i+k+10,"auto","auto",12.5,a(this.scope).width()),c.addClass("tip-override"),h(f,-g,"auto","auto",j);else{Foundation.rtl&&(f.addClass("rtl"),j=j+b.outerWidth()-c.outerWidth()),h(c,i+k+10,"auto","auto",j),f.attr("style")&&f.removeAttr("style"),c.removeClass("tip-override");var l=c.outerHeight();d&&d.indexOf("tip-top")>-1?(Foundation.rtl&&f.addClass("rtl"),h(c,i-l,"auto","auto",j).removeClass("tip-override")):d&&d.indexOf("tip-left")>-1?(h(c,i+k/2-l/2,"auto","auto",j-c.outerWidth()-g).removeClass("tip-override"),f.removeClass("rtl")):d&&d.indexOf("tip-right")>-1&&(h(c,i+k/2-l/2,"auto","auto",j+b.outerWidth()+g).removeClass("tip-override"),f.removeClass("rtl"))}c.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(b){var c=a.extend({},this.settings,this.data_options(b)),d=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(c.additional_inheritable_classes),e=b.attr("class"),f=e?a.map(e.split(" "),function(b,c){if(-1!==a.inArray(b,d))return b}).join(" "):"";return a.trim(f)},convert_to_touch:function(b){var c=this,d=c.getTip(b),e=a.extend({},c.settings,c.data_options(b));0===d.find(".tap-to-close").length&&(d.append('<span class="tap-to-close">'+e.touch_close_text+"</span>"),d.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(a){c.hide(b)})),b.data("tooltip-open-event-type","touch")},show:function(a){var b=this.getTip(a);"touch"==a.data("tooltip-open-event-type")&&this.convert_to_touch(a),this.reposition(a,b,a.attr("class")),a.addClass("open"),b.fadeIn(this.settings.fade_in_duration)},hide:function(a){var b=this.getTip(a);b.fadeOut(this.settings.fade_out_duration,function(){b.find(".tap-to-close").remove(),b.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),a.removeClass("open")})},off:function(){var b=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(c){a("["+b.attr_name()+"]").eq(c).attr("title",a(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document),function(a,b,c,d){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.5.3",settings:{index:0,start_offset:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all",dropdown_autoclose:!0},init:function(b,c,d){Foundation.inherit(this,"add_custom_rule register_media throttle");var e=this;e.register_media("topbar","foundation-mq-topbar"),this.bindings(c,d),e.S("["+this.attr_name()+"]",this.scope).each(function(){var b=a(this),c=b.data(e.attr_name(!0)+"-init");e.S("section, .top-bar-section",this);b.data("index",0);var d=b.parent();d.hasClass("fixed")||e.is_sticky(b,d,c)?(e.settings.sticky_class=c.sticky_class,e.settings.sticky_topbar=b,b.data("height",d.outerHeight()),b.data("stickyoffset",d.offset().top)):b.data("height",b.outerHeight()),c.assembled||e.assemble(b),c.is_hover?e.S(".has-dropdown",b).addClass("not-click"):e.S(".has-dropdown",b).removeClass("not-click"),e.add_custom_rule(".f-topbar-fixed { padding-top: "+b.data("height")+"px }"),d.hasClass("fixed")&&e.S("body").addClass("f-topbar-fixed")})},is_sticky:function(a,b,c){var d=b.hasClass(c.sticky_class),e=matchMedia(Foundation.media_queries.small).matches,f=matchMedia(Foundation.media_queries.medium).matches,g=matchMedia(Foundation.media_queries.large).matches;return!(!d||"all"!==c.sticky_on)||(!(!(d&&this.small()&&-1!==c.sticky_on.indexOf("small")&&e)||f||g)||(!(!(d&&this.medium()&&-1!==c.sticky_on.indexOf("medium")&&e&&f)||g)||!!(d&&this.large()&&-1!==c.sticky_on.indexOf("large")&&e&&f&&g)))},toggle:function(c){var d,e=this;d=c?e.S(c).closest("["+this.attr_name()+"]"):e.S("["+this.attr_name()+"]");var f=d.data(this.attr_name(!0)+"-init"),g=e.S("section, .top-bar-section",d);e.breakpoint()&&(e.rtl?(g.css({right:"0%"}),a(">.name",g).css({right:"100%"})):(g.css({left:"0%"}),a(">.name",g).css({left:"100%"})),e.S("li.moved",g).removeClass("moved"),d.data("index",0),d.toggleClass("expanded").css("height","")),f.scrolltop?d.hasClass("expanded")?d.parent().hasClass("fixed")&&(f.scrolltop?(d.parent().removeClass("fixed"),d.addClass("fixed"),e.S("body").removeClass("f-topbar-fixed"),b.scrollTo(0,0)):d.parent().removeClass("expanded")):d.hasClass("fixed")&&(d.parent().addClass("fixed"),d.removeClass("fixed"),e.S("body").addClass("f-topbar-fixed")):(e.is_sticky(d,d.parent(),f)&&d.parent().addClass("fixed"),d.parent().hasClass("fixed")&&(d.hasClass("expanded")?(d.addClass("fixed"),d.parent().addClass("expanded"),e.S("body").addClass("f-topbar-fixed")):(d.removeClass("fixed"),d.parent().removeClass("expanded"),e.update_sticky_positioning())))},timer:null,events:function(c){var d=this,e=this.S;e(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(a){a.preventDefault(),d.toggle(this)}).on("click.fndtn.topbar contextmenu.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(b){var c=a(this).closest("li"),e=c.closest("["+d.attr_name()+"]"),f=e.data(d.attr_name(!0)+"-init");if(f.dropdown_autoclose&&f.is_hover){a(this).closest(".hover").removeClass("hover")}!d.breakpoint()||c.hasClass("back")||c.hasClass("has-dropdown")||d.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(b){var c=e(this),f=e(b.target),g=c.closest("["+d.attr_name()+"]"),h=g.data(d.attr_name(!0)+"-init");if(f.data("revealId"))return void d.toggle();d.breakpoint()||h.is_hover&&!Modernizr.touch||(b.stopImmediatePropagation(),c.hasClass("hover")?(c.removeClass("hover").find("li").removeClass("hover"),c.parents("li.hover").removeClass("hover")):(c.addClass("hover"),a(c).siblings().removeClass("hover"),"A"===f[0].nodeName&&f.parent().hasClass("has-dropdown")&&b.preventDefault()))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(a){if(d.breakpoint()){a.preventDefault();var b=e(this),c=b.closest("["+d.attr_name()+"]"),f=c.find("section, .top-bar-section"),g=(b.next(".dropdown").outerHeight(),b.closest("li"));c.data("index",c.data("index")+1),g.addClass("moved"),d.rtl?(f.css({right:-100*c.data("index")+"%"}),f.find(">.name").css({right:100*c.data("index")+"%"})):(f.css({left:-100*c.data("index")+"%"}),f.find(">.name").css({left:100*c.data("index")+"%"})),c.css("height",b.siblings("ul").outerHeight(!0)+c.data("height"))}}),e(b).off(".topbar").on("resize.fndtn.topbar",d.throttle(function(){d.resize.call(d)},50)).trigger("resize.fndtn.topbar").load(function(){e(this).trigger("resize.fndtn.topbar")}),e("body").off(".topbar").on("click.fndtn.topbar",function(a){e(a.target).closest("li").closest("li.hover").length>0||e("["+d.attr_name()+"] li.hover").removeClass("hover")}),e(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(a){a.preventDefault();var b=e(this),c=b.closest("["+d.attr_name()+"]"),f=c.find("section, .top-bar-section"),g=(c.data(d.attr_name(!0)+"-init"),b.closest("li.moved")),h=g.parent();c.data("index",c.data("index")-1),d.rtl?(f.css({right:-100*c.data("index")+"%"}),f.find(">.name").css({right:100*c.data("index")+"%"})):(f.css({left:-100*c.data("index")+"%"}),f.find(">.name").css({left:100*c.data("index")+"%"})),0===c.data("index")?c.css("height",""):c.css("height",h.outerHeight(!0)+c.data("height")),setTimeout(function(){g.removeClass("moved")},300)}),e(this.scope).find(".dropdown a").focus(function(){a(this).parents(".has-dropdown").addClass("hover")}).blur(function(){a(this).parents(".has-dropdown").removeClass("hover")})},resize:function(){var a=this;a.S("["+this.attr_name()+"]").each(function(){var b,d=a.S(this),e=d.data(a.attr_name(!0)+"-init"),f=d.parent("."+a.settings.sticky_class);if(!a.breakpoint()){var g=d.hasClass("expanded");d.css("height","").removeClass("expanded").find("li").removeClass("hover"),g&&a.toggle(d)}a.is_sticky(d,f,e)&&(f.hasClass("fixed")?(f.removeClass("fixed"),b=f.offset().top,a.S(c.body).hasClass("f-topbar-fixed")&&(b-=d.data("height")),d.data("stickyoffset",b),f.addClass("fixed")):(b=f.offset().top,d.data("stickyoffset",b)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(b){var c=this,d=b.data(this.attr_name(!0)+"-init"),e=c.S("section, .top-bar-section",b);e.detach(),c.S(".has-dropdown>a",e).each(function(){var b,e=c.S(this),f=e.siblings(".dropdown"),g=e.attr("href");f.find(".title.back").length||(b=a(1==d.mobile_show_parent_link&&g?'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link hide-for-medium-up"><a class="parent-link js-generated" href="'+g+'">'+e.html()+"</a></li>":'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),1==d.custom_back_text?a("h5>a",b).html(d.back_text):a("h5>a",b).html("&laquo; "+e.html()),f.prepend(b))}),e.appendTo(b),this.sticky(),this.assembled(b)},assembled:function(b){b.data(this.attr_name(!0),a.extend({},b.data(this.attr_name(!0)),{assembled:!0}))},height:function(b){var c=0,d=this;return a("> li",b).each(function(){c+=d.S(this).outerHeight(!0)}),c},sticky:function(){var a=this;this.S(b).on("scroll",function(){a.update_sticky_positioning()})},update_sticky_positioning:function(){var a="."+this.settings.sticky_class,c=this.S(b),d=this;if(d.settings.sticky_topbar&&d.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var e=this.settings.sticky_topbar.data("stickyoffset")+this.settings.start_offset;d.S(a).hasClass("expanded")||(c.scrollTop()>e?d.S(a).hasClass("fixed")||(d.S(a).addClass("fixed"),d.S("body").addClass("f-topbar-fixed")):c.scrollTop()<=e&&d.S(a).hasClass("fixed")&&(d.S(a).removeClass("fixed"),d.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(b).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,window,window.document),c("foundation",function(){}),c("breakpoints",{small:["0em","40em"],medium:["40.063em","59.875em"],large:["59.938em","90em"]}),c("checkViewport",[],function(){"use strict";return{isSmallViewport:function(){return window.matchMedia(Foundation.media_queries["small-only"]).matches},isMediumViewport:function(){return window.matchMedia(Foundation.media_queries["medium-only"]).matches},isLargeViewport:function(){return window.matchMedia(Foundation.media_queries["large-only"]).matches}}}),c("modal",["jquery"],function(a){"use strict";var b,c,d=".nt-js-launch-modal",e=".nt-js-close-modal",f=".nt-js-modal",g=a(f),h=a(".nt-main-wrapper:first()"),i="active",j=f+"."+i,k=a("html").hasClass("fixed-supported"),l=function(b){if(c&&c.is(":visible"))return c.focus(),void(c=null);a('[href="#'+b+'"]').first().focus()},m=function(c){var d=!1;q=!1;var e=function(d){var e=parseInt(a("body").css("top"));k?(d.css({position:"fixed"}),setTimeout(function(){d.fadeOut(function(){a(this).removeAttr("style"),l(c)}),d.removeClass(i),d.removeAttr("tabindex","-1"),d.trigger("modalclose"),jQuery("html, body").css({"overflow-y":""}),a(window).scrollTop(b)},50)):(d.css("top",b).fadeOut(function(){a(this).css("top",0),l(c)}),d.removeClass(i),d.trigger("modalClose"),jQuery("html, body").css({"overflow-y":""}),a(window).scrollTop(b)),a(window).scrollTop(e)};o(!1),c?(g.each(function(){a(this).attr("id")===c?(d=!0,e(a(this))):a(this).hide()}),d||a("a:first").focus()):g.hide(),a(".nt-main-back-to-top").show()},n=function(a){q=!1,m(a)},o=function(b){b?a("#main-content, .nt-main-wrapper > aside, .nt-footer-wrapper").hide():a("#main-content, .nt-main-wrapper > aside, .nt-footer-wrapper").show()},p=function(a){},q=!1,r=function(d,e){m(),q=!0,b=a(window).scrollTop(),p(d),c=e||null,a(".nt-main-back-to-top").hide(),k?a("#"+d).css({position:"fixed","-webkit-backface-visibility":"hidden","z-index":"9999"}).addClass(i).fadeIn(function(){if(g=a(this),g.attr("tabindex","-1"),g.focus(),g.css("top",0).focus(),a(window).scrollTop(b),jQuery("html, body").css({"overflow-y":"hidden"}),navigator.userAgent.match(/(iPhone|iPod|iPad)/i)){var c=a(".property-modal"),d=a(".nt-inline-heading"),e=a(".nt-modal-panel");c.css({height:"100%","padding-top":"2em","padding-bottom":"2em"}),d.css({position:"relative"}),e.css({overflow:"auto"})}}):a("#"+d).css("top",b).addClass(i).fadeIn(function(){g=a(this),a(window).scrollTop(b)})},s=function(){h.append(a("#main-content, .nt-main-wrapper > aside, .nt-footer-wrapper").find(f))},t=function(b,c){var d=!0;a(document).on("focusin",function(e){d&&b.each(function(){!a(this).hasClass(c)||a(this).is(":focus")||a(this).find(e.target).length||(e.preventDefault(),d=!1,a(this).focus(),d=!0)})})},u=null,v=function(){s(),history.pushState&&window.addEventListener("popstate",function(b){if(b.state&&b.state.modalId&&0==q)u=a("#"+b.state.modalId),r(b.state.modalId,null);else if(null!==u){var c=a(u).closest(".nt-js-modal").attr("id");n(c),u=null}b.preventDefault()}),a("body").off("click.modal",d).on("click.modal",d,function(b){if(!0===q)return void b.preventDefault();q=!0;var c=a(this).attr("href").replace("#","");if(history.pushState&&(null==history.state||void 0===history.state.modalId)){var d="";a(this).find(".nt-visitor-information-text")&&(d=a(this).find(".nt-visitor-information-text").text());var e={modalId:c};d=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+d,history.pushState(e,"modal",d)}u=a("#"+c),r(c,a(this)),b.preventDefault()}),a("body").off("click.modal",e).on("click.modal",e,function(b){if(!1===q)return void b.preventDefault();if(q=!1,history.pushState)history.back();else{var c=a(u).closest(".nt-js-modal").attr("id");n(c),u=null}b.preventDefault()}),a(window).on("resize.modal",function(){var b=null;a(g).each(function(c,d){a(d).hasClass(i)&&(b=a(d))}),null!==b&&p(b.attr("id"))}),t(g,i),a(window).on("keydown",function(b){!1!==q&&a(j).length&&27==b.keyCode&&(history.pushState?history.back():n(a(j).attr("id")))})};return{init:function(a){0!==a.length&&v()},open:r}}),c("iframeEvents",["jquery"],function(a){"use strict";var b=".nt-js-launch-iframe",c=".nt-js-close-iframe",d=function(a){var b,c=window,d=a.split(".");for(b=0;b<d.length-1;b++)if(void 0==(c=c[d[b]]))return;return c[d[d.length-1]]},e=function(b){var c,e=a(b).find("script:first");e.length&&e.data("onload")&&(c=d(e.data("onload")),a.isFunction(c)&&c())},f=function(b){var c,e=a(b).find("script:first");e.length&&e.data("onclose")&&(c=d(e.data("onclose")),a.isFunction(c)&&c())},g=function(){a("body").on("click.iframeOpen",b,function(b){b.preventDefault,e(a(this).attr("href"))}),a("body").on("click.iframeClose",c,function(b){var c=a(this).closest(".nt-modal").attr("id");b.preventDefault,f("#"+c)})};return{init:function(a){0!==a.length&&g()},onOpen:e}}),c("jsLink",["jquery","modal","iframeEvents"],function(a,b,c){"use strict";var d=function(){a("body").on("click.jsLink",".nt-js-link",function(d){var e,f,g=a(this).find("a:first"),h=g.attr("href");a(d.target).is("a")||(d.preventDefault(),e=g.hasClass("nt-js-launch-modal"),f=g.hasClass("nt-js-launch-iframe"),h&&e?(b.open(h.substring(1),g),f&&c.onOpen(h)):h&&(window.location.href=h))})};return{init:function(a){0!==a.length&&d()}}}),c("jsSocialLink",["jquery"],function(a){"use strict";var b=function(a,b,c){var d=window.screenLeft?window.screenLeft:window.screenX,e=window.screenTop?window.screenTop:window.screenY,f=d+window.innerWidth/2-b/2,g=e+window.innerHeight/2-c/2,h="width="+b+", height="+c+", top="+g+", left="+f;return window.open(a,"_blank",h)},c=function(){a(".nt-js-social-link").on("click",function(c){var d=a(this).attr("href");d&&0===d.indexOf("http")&&d&&null!==b(d,600,400)&&c.preventDefault()}),a(".nt-js-social-calendar-link").on("click",function(b){var c=a(this).attr("href");b.preventDefault(),a(this).toggleClass("active",!a(c).hasClass("social-calendar-active")),a(c).toggleClass("social-calendar-active",!a(c).hasClass("social-calendar-active"))})};return{init:function(a){0!==a.length&&c()}}}),c("setParentHeight",["jquery"],function(a){"use strict";function b(b,c){var d="lte-vh",e="gt-vh",f=function(a){a?c.removeClass(d).addClass(e):c.removeClass(e).addClass(d)},g=function(a){c.css("height",a+"px")};this.update=function(){var c=a(window).height(),d=b.height();g(Math.floor(d)),f(d>c)},this.init=function(){a(window).on("load resize",this.update),this.update()}}var c=[],d=function(d){d.each(function(){c.unshift(new b(a(this),a(this).parent())),c[0].init()})};return{init:function(a){0!==a.length&&d(a)},updateAll:function(){a.each(c,function(a,b){b.update()})}}}),c("gotoSmooth",["jquery"],function(a){"use strict";var b=!1,c=function(c,d,e){var d=d||0,e=e||2e3;b||c.length&&(navigator.userAgent.match(/iemobile/i)?a(document).scrollTop(c.offset().top-d):(b=!0,a("html, body").animate({scrollTop:c.offset().top-d},e),setTimeout(function(){b=!1,c.attr("tabindex",0),c.focus()},e)))},d=function(){a(".nt-js-goto-smooth").off("click.goto").on("click.goto",function(b){var d=b.currentTarget.hash;b.preventDefault(),c(a(d))})};return{init:function(a){0!==a.length&&d()},gotoElement:c}}),c("secondaryMenu",["jquery","checkViewport","setParentHeight","gotoSmooth"],function(a,b,c,d){"use strict";var e=function(){var e=a(".nt-js-secondary-menu a"),f=function(a){a.closest(".nt-js-set-parent-height").length&&c.updateAll()},g=function(){e.parent().parent().removeClass("active")},h=function(a,b,c){var c=c||function(){},e=b.hasClass("active");g(),e||(b.addClass("active"),a&&a.length&&setTimeout(function(){d.gotoElement(a,70,1e3)},100)),c(b)};e.on("click.secondary-menu",function(c){c.preventDefault();var d=a(this).parent(),e=a(a(this).attr("href"));d.hasClass("nt-js-medium-vp-enable")&&b.isMediumViewport()?h(e,d.parent(),f):b.isSmallViewport()&&h(e,d.parent(),f)})};return{init:function(a){0!==a.length&&e()}}}),c("gotoNextModule",["jquery"],function(a){"use strict";var b=!1,c=1200,d=!1,e=function(){a("body").on("click",".nt-js-goto-next-module",f)},f=function(b){var e=a(b.currentTarget),f=e.parents(".nt-module"),g=f.next();g&&!d&&(navigator.userAgent.match(/iemobile/i)?a(document).scrollTop(g.offset().top):(d=!0,a("html, body").animate({scrollTop:g.offset().top},c,function(){g.attr("tabindex",0),g.focus(),d=!1})))};return{init:function(){b||(e(),b=!0)}}}),c("stick",["jquery"],function(a){"use strict";var b,c=".nt-js-stick",d=0,e=function(){var b=3,c=!0;return function(){return b>0&&(b-=1,c=a("html").hasClass("fixed-supported")),c}}(),f=function(b){var d,e=-1;return b.find(".nt-js-stick-child").each(function(){d=a(this).height(),d=d+a(this).offset().top-a(this).closest(c).offset().top,d-=parseInt(a(this).css("top"),10),e=d>e?d:e}),e},g=function(a){var c=a.offset().top,e=c+a.innerHeight(),g=0;return a.innerHeight()<=b?-1:(d>c&&g++,1===g&&!a.hasClass("stick-active")&&f(a)>=b?-1:((a.hasClass("nt-js-stick-end")&&d+b>=e||d>e)&&g++,g))},h=function(){var c=g(a(this)),d=0;a(this).toggleClass("stick-active",1===c),-1!==c&&(2===c&&(d=a(this).innerHeight()-b),a(this).find(".nt-js-stick-child").length&&a(this).find(".nt-js-stick-child").css("top",d+"px"))},i=function(){d=a(window).scrollTop(),a(c).each(h),e||k()},j=function(){b=a(window).height(),i()},k=function(){a(window).off("resize.stick").off("scroll.stick"),a(".stick-active").removeClass("stick-active")},l=function(){j(),a(window).on("resize.stick",j).on("scroll.stick",i)};return{init:function(a){0!==a.length&&l()}}}),c("stickItem",["jquery"],function(a){"use strict";function b(a,b,c){this.$el=a,this.height=b,this.scrollTop=c}var c,d,e=".nt-js-stick-item, .nt-js-stick-item-end",f="stick-item-active",g=0,h=[],i=function(){var b=3,c=!0;return function(){return b>0&&(b-=1,c=a("html").hasClass("fixed-supported")),c}}(),j=function(){var b;return a.each(h,function(a,c){c.scrollTop<g&&(b=c.$el)}),b||!1},k=function(){var b=j();!b||b.hasClass("nt-js-stick-item-end")?a(e).removeClass(f):b.hasClass(f)||(a(e).removeClass(f),b.addClass(f))},l=function(){g=a(window).scrollTop(),k(),i||p()},m=function(){var c;h=[],a(e).each(function(){c=new b(a(this),a(this).height(),a(this).offset().top),h.push(c)}),h.sort(function(a,b){return parseFloat(a.scrollTop)-parseFloat(b.scrollTop)})},n=function(){c=a(window).height(),m(),l()},o=function(){clearInterval(d),d=setInterval(n,500)},p=function(){a("img").off("load.stickItem"),a(window).off("resize.stickItem").off("scroll.stickItem"),a(".stick-item-active").removeClass("stick-item-active")},q=function(){n(),a("img").on("load.stickItem",o),a(window).on("resize.stickItem",n).on("scroll.stickItem",l)};return{init:function(a){0!==a.length&&q()}}}),c("vhOpacity",["jquery"],function(a){"use strict";var b,c,d,e,f=".nt-js-vh-opacity",g=".nt-js-vh-opacity-item",h=0,i=.35,j=function(){var b=a(this).offset().top,c=0;b<d?c=1:b<e&&(c=1-(b-d)/(e-d)),a(this).find(g).css("opacity",c)},k=function(){h=a(window).scrollTop(),d=h+c,e=h+b-c,a(f).each(j)},l=function(){b=a(window).height(),c=b*i,k()},m=function(){l(),a(window).resize(l).scroll(k)};return{init:function(a){0!==a.length&&m()}}}),c("print",["jquery"],function(a){"use strict";var b=function(a){a.preventDefault(),window.print?window.print():window.alert("Cannot print from this device")},c=function(){a(".nt-js-print").off("click.print").on("click.print",b)};return{init:function(a){0!==a.length&&c()}}}),c("toggle",["jquery"],function(a){"use strict";var b,c="toggle-active",d="toggle-active-1000",f=function(a){var f;if(void 0!==(f=a.attr("aria-expanded")?a:a.children("[aria-expanded]"))&&!1!==f){f.attr("aria-expanded",function(a,b){return"true"==b?"false":"true"});var g=f.children("span[aria-hidden][class=nt-image-information-credit]");void 0!==g&&!1!==g&&g.attr("aria-hidden",function(a,b){return"true"==b?"false":"true"})}a.hasClass("nt-js-disable-link")&&e.preventDefault(),clearTimeout(b),a.hasClass(c)?(a.removeClass(d),b=setTimeout(function(){a.removeClass(c)},50)):(a.addClass(c),b=setTimeout(function(){a.addClass(d)},1e3))},g=function(){a(".nt-js-toggle").attr("tabindex","0")},h=function(){g(),a("body").off("click.toggle",".nt-js-toggle").on("click.toggle",".nt-js-toggle",function(b){a(this).blur(),f(a(this))}),a("body").off("keyup.toggle",".nt-js-toggle").on("keyup.toggle",".nt-js-toggle",function(b){13===b.keyCode&&f(a(this))})};return{init:function(a){0!==a.length&&h()}}}),c("imageLoadListener",["jquery"],function(a){"use strict";return{imageLoadListener:function(b,c,d){var e,f=b.find("img"),g=200,h=0;c=c||function(){},d=d||c;var i=function(){h++,clearInterval(e),h===f.length?d():e=setInterval(function(){clearInterval(e),c()},g)};f.one("load",i).one("error",i).each(function(){this.complete&&a(this).load()})}}}),c("readMore",["jquery"],function(a){"use strict";var b={collapsed:"nt-js-read-more--collapsed",expanded:"nt-js-read-more--expanded",expandButton:"nt-js-read-more__expand-button"},c=function(a){return a["border-box"===a.css("box-sizing")?"innerHeight":"height"]()},d=function(a,c){f(a)||(a.css({height:c+"px","overflow-y":"hidden"}),a.addClass(b.collapsed),a.removeClass(b.expanded))},e=function(a,c){g(a)||(a.removeClass(b.collapsed),a.animate({height:a.get(0).scrollHeight},200,null,function(){a.css({"overflow-y":""}),a.addClass(b.expanded),c&&c(a)}))},f=function(a){return a.hasClass(b.collapsed)||a.find("."+b.collapsed).length>0},g=function(a){return a.hasClass(b.expanded)||a.find("."+b.expanded).length>0},h=function(a,c,d){var f=a.find(c||"."+b.expandButton);f.click(function(b){e(a,d),f.hide(),b.preventDefault()})};return{makeExpandable:function(b,e,f,g,i){var j=a(b),k=[];if(j.length){j.sort(function(b,d){return c(a(b))>c(a(d))?1:-1});for(var l=0;l<j.length;l++){var m=a(j[l]),n=c(m);n<e+f?e=Math.max(e,n):k.push(m)}for(var l=0;l<k.length;l++)d(k[l],e),h(k[l],g,i)}},isCollapsedItem:f,isExpandedItem:g}}),c("equalHeight",["jquery","checkViewport","imageLoadListener","readMore"],function(a,b,c,d){"use strict";var e=function(a,b){var c,d,e,f=a.attr("style")||"",g=[];for(c=f.split(";"),d=0;d<c.length;d++)e=c[d].split(":"),e[0].replace(" ","")!=b&&g.push(c[d]);a.attr("style",g.join(";"))},f=function(b,c){var d=0;return b.each(function(){var b,e=a(this);e.find(c).length&&(e=e.find(c).first()),b="border-box"===e.css("box-sizing")?"innerHeight":"height",e[b]()>d&&(d=e[b]())}),d},g=function(b,c){b.each(function(){var b=a(this);b.find(c).length&&(b=b.find(c).first()),d.isCollapsedItem(b)||e(b,"height")})},h=function(b,c,d){b.each(function(){var b=a(this);b.find(d).length&&(b=b.find(d).first()),b.css("height",c+"px")})},i=function(c,e){if(c=c.filter(function(){return!d.isExpandedItem(a(this))}),!(c.length<2)){var i;g(c,e),b.isSmallViewport()||(i=f(c,e))&&h(c,i,e)}},j=function(b,c){var d,e=100;a(window).resize(function(){clearInterval(d),d=setInterval(function(){clearInterval(d),c()},e)})},k=function(){var b,d=".nt-js-equal-height",e=".nt-js-equal-height-inner",f="has-equal-height",g=a(d);g.each(function(){a(this).hasClass("nt-js-apply-to-parent-height")?a(this).parent().parent().attr("data-"+f,!0):a(this).parent().attr("data-"+f,!0)}),b=a("[data-"+f+'="true"]'),b.each(function(){var b=a(this).find(d);c.imageLoadListener(b,function(){i(b,e)}),j(b,function(){i(b,e)}),i(b,e)})};return{init:function(a){0!==a.length&&k()},setToGreatestHeight:i}}),c("tabs",["jquery","equalHeight","gotoSmooth"],function(a,b,c){"use strict";var d={prime:function(b){b.find("a").each(function(){var b=a(this);if(b.hasClass("tabs-exclude"))return!0;var c=a(b.attr("href"));b.attr("role","tab"),b.attr("aria-controls",b.attr("href").replace("#","")),b.attr("aria-selected",b.hasClass("active")),b.attr("id")||b.attr("id",b.attr("href").replace("#","tab")),c.attr("role","tabpanel"),c.attr("aria-labelledby",b.attr("id")),c.attr("aria-hidden",!c.is(":visible"))})},resizeListener:function(b){var c,d=function(){b.find("a").each(function(){var b=a(this);if(b.hasClass("tabs-exclude"))return!0;var c=a(b.attr("href"));c.attr("aria-hidden",!c.is(":visible"))})};a(window).on("resize",function(){clearInterval(c),c=setInterval(d,200)})},updateTab:function(b){b.closest(".nt-tabs, .nt-tabs-inline").find("a").each(function(){var b=a(this);b.attr("aria-selected",b.hasClass("active"))})},updateTabPanel:function(b){b.closest(".nt-tab-content-group").find(".nt-tab-content").each(function(){var b=a(this);b.attr("aria-hidden",!b.is(":visible"))})}},e=function(a){var b=a.closest(".nt-tab-content-group"),c=b.find(".nt-tab-content"),d="active";b.css("min-height",b.innerHeight()+"px"),c.removeClass(d),a.addClass(d),setTimeout(function(){b.css("min-height",0)},100)},f=function(a){var b="active";a.closest(".nt-tabs, .nt-tabs-inline").find("a").removeClass(b),a.addClass(b)},g=function(a){var c=a.closest(".nt-tab-content-group").find(".nt-tab-content");c.find(".nt-js-equal-height").length&&b.setToGreatestHeight(c.find(".nt-js-equal-height"),".nt-js-equal-height-inner")},h=function(a){c.gotoElement(a,120,800)},i=(function(){if(a(".js-mobile-tabs").length){
var b=a(".js-mobile-tabs");a("<select id='mobile-tab-results-view' />").appendTo(b),a(".js-mobile-tabs a").each(function(){var b=a(this);a("<option />",{value:b.attr("href"),text:b.text()}).appendTo(".js-mobile-tabs select")});a(".js-mobile-tabs select").change(function(){i(a(this))})}}(),function(b,c){var i=b;if(i.hasClass("tabs-exclude"))return!0;if(i.is("a")){var j=i.attr("href");a(".js-mobile-tabs").length&&a(".js-mobile-tabs select").val(i.attr("href"))}if(a(".js-mobile-tabs").length&&i.is("select")){var j=i.val();i=a("a[href="+i.val()+"]")}c.preventDefault(),f(i),e(a(j)),d.updateTab(i),d.updateTabPanel(a(j)),g(a(j)),i.hasClass("nt-disable-scroll")||h(a(j))}),j=function(){var b=a(".nt-tabs, .nt-tabs-inline");d.prime(b),d.resizeListener(b),b.find("a").on("click",function(b){i(a(this),b)})};return{init:function(a){0!==a.length&&j()}}}),c("volunteerStoryItem",["jquery"],function(a){"use strict";var b=a(".nt-volunteers .nt-volunteer"),c=a(".nt-volunteer-stories .nt-js-selected-quote"),d=function(){c.html(a(".nt-volunteers .nt-volunteer.volunteer-module-selected .nt-volunteer-story").html())},e=function(){d(),b.on("click",function(c){var e=a(c.currentTarget);e.hasClass("volunteer-module-selected")||(b.removeClass("volunteer-module-selected"),e.addClass("volunteer-module-selected"),d())})};return{init:function(a){0!==a.length&&e()}}}),function(a){"use strict";"function"==typeof c&&c.amd?c("slick",["jquery"],a):"undefined"!=typeof exports?module.exports=a(b("jquery")):a(jQuery)}(function(a){"use strict";var b=window.Slick||{};b=function(){function b(b,d){var e,f=this;f.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:a(b),appendDots:a(b),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(b,c){return a('<button type="button" />').text(c+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},f.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},a.extend(f,f.initials),f.activeBreakpoint=null,f.animType=null,f.animProp=null,f.breakpoints=[],f.breakpointSettings=[],f.cssTransitions=!1,f.focussed=!1,f.interrupted=!1,f.hidden="hidden",f.paused=!0,f.positionProp=null,f.respondTo=null,f.rowCount=1,f.shouldClick=!0,f.$slider=a(b),f.$slidesCache=null,f.transformType=null,f.transitionType=null,f.visibilityChange="visibilitychange",f.windowWidth=0,f.windowTimer=null,e=a(b).data("slick")||{},f.options=a.extend({},f.defaults,d,e),f.currentSlide=f.options.initialSlide,f.originalSettings=f.options,void 0!==document.mozHidden?(f.hidden="mozHidden",f.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(f.hidden="webkitHidden",f.visibilityChange="webkitvisibilitychange"),f.autoPlay=a.proxy(f.autoPlay,f),f.autoPlayClear=a.proxy(f.autoPlayClear,f),f.autoPlayIterator=a.proxy(f.autoPlayIterator,f),f.changeSlide=a.proxy(f.changeSlide,f),f.clickHandler=a.proxy(f.clickHandler,f),f.selectHandler=a.proxy(f.selectHandler,f),f.setPosition=a.proxy(f.setPosition,f),f.swipeHandler=a.proxy(f.swipeHandler,f),f.dragHandler=a.proxy(f.dragHandler,f),f.keyHandler=a.proxy(f.keyHandler,f),f.instanceUid=c++,f.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,f.registerBreakpoints(),f.init(!0)}var c=0;return b}(),b.prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},b.prototype.addSlide=b.prototype.slickAdd=function(b,c,d){var e=this;if("boolean"==typeof c)d=c,c=null;else if(c<0||c>=e.slideCount)return!1;e.unload(),"number"==typeof c?0===c&&0===e.$slides.length?a(b).appendTo(e.$slideTrack):d?a(b).insertBefore(e.$slides.eq(c)):a(b).insertAfter(e.$slides.eq(c)):!0===d?a(b).prependTo(e.$slideTrack):a(b).appendTo(e.$slideTrack),e.$slides=e.$slideTrack.children(this.options.slide),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.append(e.$slides),e.$slides.each(function(b,c){a(c).attr("data-slick-index",b)}),e.$slidesCache=e.$slides,e.reinit()},b.prototype.animateHeight=function(){var a=this;if(1===a.options.slidesToShow&&!0===a.options.adaptiveHeight&&!1===a.options.vertical){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.animate({height:b},a.options.speed)}},b.prototype.animateSlide=function(b,c){var d={},e=this;e.animateHeight(),!0===e.options.rtl&&!1===e.options.vertical&&(b=-b),!1===e.transformsEnabled?!1===e.options.vertical?e.$slideTrack.animate({left:b},e.options.speed,e.options.easing,c):e.$slideTrack.animate({top:b},e.options.speed,e.options.easing,c):!1===e.cssTransitions?(!0===e.options.rtl&&(e.currentLeft=-e.currentLeft),a({animStart:e.currentLeft}).animate({animStart:b},{duration:e.options.speed,easing:e.options.easing,step:function(a){a=Math.ceil(a),!1===e.options.vertical?(d[e.animType]="translate("+a+"px, 0px)",e.$slideTrack.css(d)):(d[e.animType]="translate(0px,"+a+"px)",e.$slideTrack.css(d))},complete:function(){c&&c.call()}})):(e.applyTransition(),b=Math.ceil(b),!1===e.options.vertical?d[e.animType]="translate3d("+b+"px, 0px, 0px)":d[e.animType]="translate3d(0px,"+b+"px, 0px)",e.$slideTrack.css(d),c&&setTimeout(function(){e.disableTransition(),c.call()},e.options.speed))},b.prototype.getNavTarget=function(){var b=this,c=b.options.asNavFor;return c&&null!==c&&(c=a(c).not(b.$slider)),c},b.prototype.asNavFor=function(b){var c=this,d=c.getNavTarget();null!==d&&"object"==typeof d&&d.each(function(){var c=a(this).slick("getSlick");c.unslicked||c.slideHandler(b,!0)})},b.prototype.applyTransition=function(a){var b=this,c={};!1===b.options.fade?c[b.transitionType]=b.transformType+" "+b.options.speed+"ms "+b.options.cssEase:c[b.transitionType]="opacity "+b.options.speed+"ms "+b.options.cssEase,!1===b.options.fade?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.autoPlay=function(){var a=this;a.autoPlayClear(),a.slideCount>a.options.slidesToShow&&(a.autoPlayTimer=setInterval(a.autoPlayIterator,a.options.autoplaySpeed))},b.prototype.autoPlayClear=function(){var a=this;a.autoPlayTimer&&clearInterval(a.autoPlayTimer)},b.prototype.autoPlayIterator=function(){var a=this,b=a.currentSlide+a.options.slidesToScroll;a.paused||a.interrupted||a.focussed||(!1===a.options.infinite&&(1===a.direction&&a.currentSlide+1===a.slideCount-1?a.direction=0:0===a.direction&&(b=a.currentSlide-a.options.slidesToScroll,a.currentSlide-1==0&&(a.direction=1))),a.slideHandler(b))},b.prototype.buildArrows=function(){var b=this;!0===b.options.arrows&&(b.$prevArrow=a(b.options.prevArrow).addClass("slick-arrow"),b.$nextArrow=a(b.options.nextArrow).addClass("slick-arrow"),b.slideCount>b.options.slidesToShow?(b.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.prependTo(b.options.appendArrows),b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.appendTo(b.options.appendArrows),!0!==b.options.infinite&&b.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):b.$prevArrow.add(b.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},b.prototype.buildDots=function(){var b,c,d=this;if(!0===d.options.dots){for(d.$slider.addClass("slick-dotted"),c=a("<ul />").addClass(d.options.dotsClass),b=0;b<=d.getDotCount();b+=1)c.append(a("<li />").append(d.options.customPaging.call(this,d,b)));d.$dots=c.appendTo(d.options.appendDots),d.$dots.find("li").first().addClass("slick-active")}},b.prototype.buildOut=function(){var b=this;b.$slides=b.$slider.children(b.options.slide+":not(.slick-cloned)").addClass("slick-slide"),b.slideCount=b.$slides.length,b.$slides.each(function(b,c){a(c).attr("data-slick-index",b).data("originalStyling",a(c).attr("style")||"")}),b.$slider.addClass("slick-slider"),b.$slideTrack=0===b.slideCount?a('<div class="slick-track"/>').appendTo(b.$slider):b.$slides.wrapAll('<div class="slick-track"/>').parent(),b.$list=b.$slideTrack.wrap('<div class="slick-list"/>').parent(),b.$slideTrack.css("opacity",0),!0!==b.options.centerMode&&!0!==b.options.swipeToSlide||(b.options.slidesToScroll=1),a("img[data-lazy]",b.$slider).not("[src]").addClass("slick-loading"),b.setupInfinite(),b.buildArrows(),b.buildDots(),b.updateDots(),b.setSlideClasses("number"==typeof b.currentSlide?b.currentSlide:0),!0===b.options.draggable&&b.$list.addClass("draggable")},b.prototype.buildRows=function(){var a,b,c,d,e,f,g,h=this;if(d=document.createDocumentFragment(),f=h.$slider.children(),h.options.rows>1){for(g=h.options.slidesPerRow*h.options.rows,e=Math.ceil(f.length/g),a=0;a<e;a++){var i=document.createElement("div");for(b=0;b<h.options.rows;b++){var j=document.createElement("div");for(c=0;c<h.options.slidesPerRow;c++){var k=a*g+(b*h.options.slidesPerRow+c);f.get(k)&&j.appendChild(f.get(k))}i.appendChild(j)}d.appendChild(i)}h.$slider.empty().append(d),h.$slider.children().children().children().css({width:100/h.options.slidesPerRow+"%",display:"inline-block"})}},b.prototype.checkResponsive=function(b,c){var d,e,f,g=this,h=!1,i=g.$slider.width(),j=window.innerWidth||a(window).width();if("window"===g.respondTo?f=j:"slider"===g.respondTo?f=i:"min"===g.respondTo&&(f=Math.min(j,i)),g.options.responsive&&g.options.responsive.length&&null!==g.options.responsive){e=null;for(d in g.breakpoints)g.breakpoints.hasOwnProperty(d)&&(!1===g.originalSettings.mobileFirst?f<g.breakpoints[d]&&(e=g.breakpoints[d]):f>g.breakpoints[d]&&(e=g.breakpoints[d]));null!==e?null!==g.activeBreakpoint?(e!==g.activeBreakpoint||c)&&(g.activeBreakpoint=e,"unslick"===g.breakpointSettings[e]?g.unslick(e):(g.options=a.extend({},g.originalSettings,g.breakpointSettings[e]),!0===b&&(g.currentSlide=g.options.initialSlide),g.refresh(b)),h=e):(g.activeBreakpoint=e,"unslick"===g.breakpointSettings[e]?g.unslick(e):(g.options=a.extend({},g.originalSettings,g.breakpointSettings[e]),!0===b&&(g.currentSlide=g.options.initialSlide),g.refresh(b)),h=e):null!==g.activeBreakpoint&&(g.activeBreakpoint=null,g.options=g.originalSettings,!0===b&&(g.currentSlide=g.options.initialSlide),g.refresh(b),h=e),b||!1===h||g.$slider.trigger("breakpoint",[g,h])}},b.prototype.changeSlide=function(b,c){var d,e,f,g=this,h=a(b.currentTarget);switch(h.is("a")&&b.preventDefault(),h.is("li")||(h=h.closest("li")),f=g.slideCount%g.options.slidesToScroll!=0,d=f?0:(g.slideCount-g.currentSlide)%g.options.slidesToScroll,b.data.message){case"previous":e=0===d?g.options.slidesToScroll:g.options.slidesToShow-d,g.slideCount>g.options.slidesToShow&&g.slideHandler(g.currentSlide-e,!1,c);break;case"next":e=0===d?g.options.slidesToScroll:d,g.slideCount>g.options.slidesToShow&&g.slideHandler(g.currentSlide+e,!1,c);break;case"index":var i=0===b.data.index?0:b.data.index||h.index()*g.options.slidesToScroll;g.slideHandler(g.checkNavigable(i),!1,c),h.children().trigger("focus");break;default:return}},b.prototype.checkNavigable=function(a){var b,c,d=this;if(b=d.getNavigableIndexes(),c=0,a>b[b.length-1])a=b[b.length-1];else for(var e in b){if(a<b[e]){a=c;break}c=b[e]}return a},b.prototype.cleanUpEvents=function(){var b=this;b.options.dots&&null!==b.$dots&&(a("li",b.$dots).off("click.slick",b.changeSlide).off("mouseenter.slick",a.proxy(b.interrupt,b,!0)).off("mouseleave.slick",a.proxy(b.interrupt,b,!1)),!0===b.options.accessibility&&b.$dots.off("keydown.slick",b.keyHandler)),b.$slider.off("focus.slick blur.slick"),!0===b.options.arrows&&b.slideCount>b.options.slidesToShow&&(b.$prevArrow&&b.$prevArrow.off("click.slick",b.changeSlide),b.$nextArrow&&b.$nextArrow.off("click.slick",b.changeSlide),!0===b.options.accessibility&&(b.$prevArrow&&b.$prevArrow.off("keydown.slick",b.keyHandler),b.$nextArrow&&b.$nextArrow.off("keydown.slick",b.keyHandler))),b.$list.off("touchstart.slick mousedown.slick",b.swipeHandler),b.$list.off("touchmove.slick mousemove.slick",b.swipeHandler),b.$list.off("touchend.slick mouseup.slick",b.swipeHandler),b.$list.off("touchcancel.slick mouseleave.slick",b.swipeHandler),b.$list.off("click.slick",b.clickHandler),a(document).off(b.visibilityChange,b.visibility),b.cleanUpSlideEvents(),!0===b.options.accessibility&&b.$list.off("keydown.slick",b.keyHandler),!0===b.options.focusOnSelect&&a(b.$slideTrack).children().off("click.slick",b.selectHandler),a(window).off("orientationchange.slick.slick-"+b.instanceUid,b.orientationChange),a(window).off("resize.slick.slick-"+b.instanceUid,b.resize),a("[draggable!=true]",b.$slideTrack).off("dragstart",b.preventDefault),a(window).off("load.slick.slick-"+b.instanceUid,b.setPosition)},b.prototype.cleanUpSlideEvents=function(){var b=this;b.$list.off("mouseenter.slick",a.proxy(b.interrupt,b,!0)),b.$list.off("mouseleave.slick",a.proxy(b.interrupt,b,!1))},b.prototype.cleanUpRows=function(){var a,b=this;b.options.rows>1&&(a=b.$slides.children().children(),a.removeAttr("style"),b.$slider.empty().append(a))},b.prototype.clickHandler=function(a){!1===this.shouldClick&&(a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault())},b.prototype.destroy=function(b){var c=this;c.autoPlayClear(),c.touchObject={},c.cleanUpEvents(),a(".slick-cloned",c.$slider).detach(),c.$dots&&c.$dots.remove(),c.$prevArrow&&c.$prevArrow.length&&(c.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.prevArrow)&&c.$prevArrow.remove()),c.$nextArrow&&c.$nextArrow.length&&(c.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),c.htmlExpr.test(c.options.nextArrow)&&c.$nextArrow.remove()),c.$slides&&(c.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){a(this).attr("style",a(this).data("originalStyling"))}),c.$slideTrack.children(this.options.slide).detach(),c.$slideTrack.detach(),c.$list.detach(),c.$slider.append(c.$slides)),c.cleanUpRows(),c.$slider.removeClass("slick-slider"),c.$slider.removeClass("slick-initialized"),c.$slider.removeClass("slick-dotted"),c.unslicked=!0,b||c.$slider.trigger("destroy",[c])},b.prototype.disableTransition=function(a){var b=this,c={};c[b.transitionType]="",!1===b.options.fade?b.$slideTrack.css(c):b.$slides.eq(a).css(c)},b.prototype.fadeSlide=function(a,b){var c=this;!1===c.cssTransitions?(c.$slides.eq(a).css({zIndex:c.options.zIndex}),c.$slides.eq(a).animate({opacity:1},c.options.speed,c.options.easing,b)):(c.applyTransition(a),c.$slides.eq(a).css({opacity:1,zIndex:c.options.zIndex}),b&&setTimeout(function(){c.disableTransition(a),b.call()},c.options.speed))},b.prototype.fadeSlideOut=function(a){var b=this;!1===b.cssTransitions?b.$slides.eq(a).animate({opacity:0,zIndex:b.options.zIndex-2},b.options.speed,b.options.easing):(b.applyTransition(a),b.$slides.eq(a).css({opacity:0,zIndex:b.options.zIndex-2}))},b.prototype.filterSlides=b.prototype.slickFilter=function(a){var b=this;null!==a&&(b.$slidesCache=b.$slides,b.unload(),b.$slideTrack.children(this.options.slide).detach(),b.$slidesCache.filter(a).appendTo(b.$slideTrack),b.reinit())},b.prototype.focusHandler=function(){var b=this;b.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(c){c.stopImmediatePropagation();var d=a(this);setTimeout(function(){b.options.pauseOnFocus&&(b.focussed=d.is(":focus"),b.autoPlay())},0)})},b.prototype.getCurrent=b.prototype.slickCurrentSlide=function(){return this.currentSlide},b.prototype.getDotCount=function(){var a=this,b=0,c=0,d=0;if(!0===a.options.infinite)if(a.slideCount<=a.options.slidesToShow)++d;else for(;b<a.slideCount;)++d,b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;else if(!0===a.options.centerMode)d=a.slideCount;else if(a.options.asNavFor)for(;b<a.slideCount;)++d,b=c+a.options.slidesToScroll,c+=a.options.slidesToScroll<=a.options.slidesToShow?a.options.slidesToScroll:a.options.slidesToShow;else d=1+Math.ceil((a.slideCount-a.options.slidesToShow)/a.options.slidesToScroll);return d-1},b.prototype.getLeft=function(a){var b,c,d,e,f=this,g=0;return f.slideOffset=0,c=f.$slides.first().outerHeight(!0),!0===f.options.infinite?(f.slideCount>f.options.slidesToShow&&(f.slideOffset=f.slideWidth*f.options.slidesToShow*-1,e=-1,!0===f.options.vertical&&!0===f.options.centerMode&&(2===f.options.slidesToShow?e=-1.5:1===f.options.slidesToShow&&(e=-2)),g=c*f.options.slidesToShow*e),f.slideCount%f.options.slidesToScroll!=0&&a+f.options.slidesToScroll>f.slideCount&&f.slideCount>f.options.slidesToShow&&(a>f.slideCount?(f.slideOffset=(f.options.slidesToShow-(a-f.slideCount))*f.slideWidth*-1,g=(f.options.slidesToShow-(a-f.slideCount))*c*-1):(f.slideOffset=f.slideCount%f.options.slidesToScroll*f.slideWidth*-1,g=f.slideCount%f.options.slidesToScroll*c*-1))):a+f.options.slidesToShow>f.slideCount&&(f.slideOffset=(a+f.options.slidesToShow-f.slideCount)*f.slideWidth,g=(a+f.options.slidesToShow-f.slideCount)*c),f.slideCount<=f.options.slidesToShow&&(f.slideOffset=0,g=0),!0===f.options.centerMode&&f.slideCount<=f.options.slidesToShow?f.slideOffset=f.slideWidth*Math.floor(f.options.slidesToShow)/2-f.slideWidth*f.slideCount/2:!0===f.options.centerMode&&!0===f.options.infinite?f.slideOffset+=f.slideWidth*Math.floor(f.options.slidesToShow/2)-f.slideWidth:!0===f.options.centerMode&&(f.slideOffset=0,f.slideOffset+=f.slideWidth*Math.floor(f.options.slidesToShow/2)),b=!1===f.options.vertical?a*f.slideWidth*-1+f.slideOffset:a*c*-1+g,!0===f.options.variableWidth&&(d=f.slideCount<=f.options.slidesToShow||!1===f.options.infinite?f.$slideTrack.children(".slick-slide").eq(a):f.$slideTrack.children(".slick-slide").eq(a+f.options.slidesToShow),b=!0===f.options.rtl?d[0]?-1*(f.$slideTrack.width()-d[0].offsetLeft-d.width()):0:d[0]?-1*d[0].offsetLeft:0,!0===f.options.centerMode&&(d=f.slideCount<=f.options.slidesToShow||!1===f.options.infinite?f.$slideTrack.children(".slick-slide").eq(a):f.$slideTrack.children(".slick-slide").eq(a+f.options.slidesToShow+1),b=!0===f.options.rtl?d[0]?-1*(f.$slideTrack.width()-d[0].offsetLeft-d.width()):0:d[0]?-1*d[0].offsetLeft:0,b+=(f.$list.width()-d.outerWidth())/2)),b},b.prototype.getOption=b.prototype.slickGetOption=function(a){return this.options[a]},b.prototype.getNavigableIndexes=function(){var a,b=this,c=0,d=0,e=[];for(!1===b.options.infinite?a=b.slideCount:(c=-1*b.options.slidesToScroll,d=-1*b.options.slidesToScroll,a=2*b.slideCount);c<a;)e.push(c),c=d+b.options.slidesToScroll,d+=b.options.slidesToScroll<=b.options.slidesToShow?b.options.slidesToScroll:b.options.slidesToShow;return e},b.prototype.getSlick=function(){return this},b.prototype.getSlideCount=function(){var b,c,d=this;return c=!0===d.options.centerMode?d.slideWidth*Math.floor(d.options.slidesToShow/2):0,!0===d.options.swipeToSlide?(d.$slideTrack.find(".slick-slide").each(function(e,f){if(f.offsetLeft-c+a(f).outerWidth()/2>-1*d.swipeLeft)return b=f,!1}),Math.abs(a(b).attr("data-slick-index")-d.currentSlide)||1):d.options.slidesToScroll},b.prototype.goTo=b.prototype.slickGoTo=function(a,b){this.changeSlide({data:{message:"index",index:parseInt(a)}},b)},b.prototype.init=function(b){var c=this;a(c.$slider).hasClass("slick-initialized")||(a(c.$slider).addClass("slick-initialized"),c.buildRows(),c.buildOut(),c.setProps(),c.startLoad(),c.loadSlider(),c.initializeEvents(),c.updateArrows(),c.updateDots(),c.checkResponsive(!0),c.focusHandler()),b&&c.$slider.trigger("init",[c]),!0===c.options.accessibility&&c.initADA(),c.options.autoplay&&(c.paused=!1,c.autoPlay())},b.prototype.initADA=function(){var b=this,c=Math.ceil(b.slideCount/b.options.slidesToShow),d=b.getNavigableIndexes().filter(function(a){return a>=0&&a<b.slideCount});b.$slides.add(b.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==b.$dots&&(b.$slides.not(b.$slideTrack.find(".slick-cloned")).each(function(c){var e=d.indexOf(c);a(this).attr({role:"tabpanel",id:"slick-slide"+b.instanceUid+c,tabindex:-1}),-1!==e&&a(this).attr({"aria-describedby":"slick-slide-control"+b.instanceUid+e})}),b.$dots.attr("role","tablist").find("li").each(function(e){var f=d[e];a(this).attr({role:"presentation"}),a(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+b.instanceUid+e,"aria-controls":"slick-slide"+b.instanceUid+f,"aria-label":e+1+" of "+c,"aria-selected":null,tabindex:"-1"})}).eq(b.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var e=b.currentSlide,f=e+b.options.slidesToShow;e<f;e++)b.$slides.eq(e).attr("tabindex",0);b.activateADA()},b.prototype.initArrowEvents=function(){var a=this;!0===a.options.arrows&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},a.changeSlide),a.$nextArrow.off("click.slick").on("click.slick",{message:"next"},a.changeSlide),!0===a.options.accessibility&&(a.$prevArrow.on("keydown.slick",a.keyHandler),a.$nextArrow.on("keydown.slick",a.keyHandler)))},b.prototype.initDotEvents=function(){var b=this;!0===b.options.dots&&(a("li",b.$dots).on("click.slick",{message:"index"},b.changeSlide),!0===b.options.accessibility&&b.$dots.on("keydown.slick",b.keyHandler)),!0===b.options.dots&&!0===b.options.pauseOnDotsHover&&a("li",b.$dots).on("mouseenter.slick",a.proxy(b.interrupt,b,!0)).on("mouseleave.slick",a.proxy(b.interrupt,b,!1))},b.prototype.initSlideEvents=function(){var b=this;b.options.pauseOnHover&&(b.$list.on("mouseenter.slick",a.proxy(b.interrupt,b,!0)),b.$list.on("mouseleave.slick",a.proxy(b.interrupt,b,!1)))},b.prototype.initializeEvents=function(){var b=this;b.initArrowEvents(),b.initDotEvents(),b.initSlideEvents(),b.$list.on("touchstart.slick mousedown.slick",{action:"start"},b.swipeHandler),b.$list.on("touchmove.slick mousemove.slick",{action:"move"},b.swipeHandler),b.$list.on("touchend.slick mouseup.slick",{action:"end"},b.swipeHandler),b.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},b.swipeHandler),b.$list.on("click.slick",b.clickHandler),a(document).on(b.visibilityChange,a.proxy(b.visibility,b)),!0===b.options.accessibility&&b.$list.on("keydown.slick",b.keyHandler),!0===b.options.focusOnSelect&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),a(window).on("orientationchange.slick.slick-"+b.instanceUid,a.proxy(b.orientationChange,b)),a(window).on("resize.slick.slick-"+b.instanceUid,a.proxy(b.resize,b)),a("[draggable!=true]",b.$slideTrack).on("dragstart",b.preventDefault),a(window).on("load.slick.slick-"+b.instanceUid,b.setPosition),a(b.setPosition)},b.prototype.initUI=function(){var a=this;!0===a.options.arrows&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.show(),a.$nextArrow.show()),!0===a.options.dots&&a.slideCount>a.options.slidesToShow&&a.$dots.show()},b.prototype.keyHandler=function(a){var b=this;a.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===a.keyCode&&!0===b.options.accessibility?b.changeSlide({data:{message:!0===b.options.rtl?"next":"previous"}}):39===a.keyCode&&!0===b.options.accessibility&&b.changeSlide({data:{message:!0===b.options.rtl?"previous":"next"}}))},b.prototype.lazyLoad=function(){function b(b){a("img[data-lazy]",b).each(function(){var b=a(this),c=a(this).attr("data-lazy"),d=a(this).attr("data-srcset"),e=a(this).attr("data-sizes")||g.$slider.attr("data-sizes"),f=document.createElement("img");f.onload=function(){b.animate({opacity:0},100,function(){d&&(b.attr("srcset",d),e&&b.attr("sizes",e)),b.attr("src",c).animate({opacity:1},200,function(){b.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),g.$slider.trigger("lazyLoaded",[g,b,c])})},f.onerror=function(){b.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),g.$slider.trigger("lazyLoadError",[g,b,c])},f.src=c})}var c,d,e,f,g=this;if(!0===g.options.centerMode?!0===g.options.infinite?(e=g.currentSlide+(g.options.slidesToShow/2+1),f=e+g.options.slidesToShow+2):(e=Math.max(0,g.currentSlide-(g.options.slidesToShow/2+1)),f=g.options.slidesToShow/2+1+2+g.currentSlide):(e=g.options.infinite?g.options.slidesToShow+g.currentSlide:g.currentSlide,f=Math.ceil(e+g.options.slidesToShow),!0===g.options.fade&&(e>0&&e--,f<=g.slideCount&&f++)),c=g.$slider.find(".slick-slide").slice(e,f),"anticipated"===g.options.lazyLoad)for(var h=e-1,i=f,j=g.$slider.find(".slick-slide"),k=0;k<g.options.slidesToScroll;k++)h<0&&(h=g.slideCount-1),c=c.add(j.eq(h)),c=c.add(j.eq(i)),h--,i++;b(c),g.slideCount<=g.options.slidesToShow?(d=g.$slider.find(".slick-slide"),b(d)):g.currentSlide>=g.slideCount-g.options.slidesToShow?(d=g.$slider.find(".slick-cloned").slice(0,g.options.slidesToShow),b(d)):0===g.currentSlide&&(d=g.$slider.find(".slick-cloned").slice(-1*g.options.slidesToShow),b(d))},b.prototype.loadSlider=function(){var a=this;a.setPosition(),a.$slideTrack.css({opacity:1}),a.$slider.removeClass("slick-loading"),a.initUI(),"progressive"===a.options.lazyLoad&&a.progressiveLazyLoad()},b.prototype.next=b.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},b.prototype.orientationChange=function(){var a=this;a.checkResponsive(),a.setPosition()},b.prototype.pause=b.prototype.slickPause=function(){var a=this;a.autoPlayClear(),a.paused=!0},b.prototype.play=b.prototype.slickPlay=function(){var a=this;a.autoPlay(),a.options.autoplay=!0,a.paused=!1,a.focussed=!1,a.interrupted=!1},b.prototype.postSlide=function(b){var c=this;if(!c.unslicked&&(c.$slider.trigger("afterChange",[c,b]),c.animating=!1,c.slideCount>c.options.slidesToShow&&c.setPosition(),c.swipeLeft=null,c.options.autoplay&&c.autoPlay(),!0===c.options.accessibility&&(c.initADA(),c.options.focusOnChange))){a(c.$slides.get(c.currentSlide)).attr("tabindex",0).focus()}},b.prototype.prev=b.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},b.prototype.preventDefault=function(a){a.preventDefault()},b.prototype.progressiveLazyLoad=function(b){b=b||1;var c,d,e,f,g,h=this,i=a("img[data-lazy]",h.$slider);i.length?(c=i.first(),d=c.attr("data-lazy"),e=c.attr("data-srcset"),f=c.attr("data-sizes")||h.$slider.attr("data-sizes"),g=document.createElement("img"),g.onload=function(){e&&(c.attr("srcset",e),f&&c.attr("sizes",f)),c.attr("src",d).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===h.options.adaptiveHeight&&h.setPosition(),h.$slider.trigger("lazyLoaded",[h,c,d]),h.progressiveLazyLoad()},g.onerror=function(){b<3?setTimeout(function(){h.progressiveLazyLoad(b+1)},500):(c.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),h.$slider.trigger("lazyLoadError",[h,c,d]),h.progressiveLazyLoad())},g.src=d):h.$slider.trigger("allImagesLoaded",[h])},b.prototype.refresh=function(b){var c,d,e=this;d=e.slideCount-e.options.slidesToShow,!e.options.infinite&&e.currentSlide>d&&(e.currentSlide=d),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),c=e.currentSlide,e.destroy(!0),a.extend(e,e.initials,{currentSlide:c}),e.init(),b||e.changeSlide({data:{message:"index",index:c}},!1)},b.prototype.registerBreakpoints=function(){var b,c,d,e=this,f=e.options.responsive||null;if("array"===a.type(f)&&f.length){e.respondTo=e.options.respondTo||"window";for(b in f)if(d=e.breakpoints.length-1,f.hasOwnProperty(b)){for(c=f[b].breakpoint;d>=0;)e.breakpoints[d]&&e.breakpoints[d]===c&&e.breakpoints.splice(d,1),d--;e.breakpoints.push(c),e.breakpointSettings[c]=f[b].settings}e.breakpoints.sort(function(a,b){return e.options.mobileFirst?a-b:b-a})}},b.prototype.reinit=function(){var b=this;b.$slides=b.$slideTrack.children(b.options.slide).addClass("slick-slide"),b.slideCount=b.$slides.length,b.currentSlide>=b.slideCount&&0!==b.currentSlide&&(b.currentSlide=b.currentSlide-b.options.slidesToScroll),b.slideCount<=b.options.slidesToShow&&(b.currentSlide=0),b.registerBreakpoints(),b.setProps(),b.setupInfinite(),b.buildArrows(),b.updateArrows(),b.initArrowEvents(),b.buildDots(),b.updateDots(),b.initDotEvents(),b.cleanUpSlideEvents(),b.initSlideEvents(),b.checkResponsive(!1,!0),!0===b.options.focusOnSelect&&a(b.$slideTrack).children().on("click.slick",b.selectHandler),b.setSlideClasses("number"==typeof b.currentSlide?b.currentSlide:0),b.setPosition(),b.focusHandler(),b.paused=!b.options.autoplay,b.autoPlay(),b.$slider.trigger("reInit",[b])},b.prototype.resize=function(){var b=this;a(window).width()!==b.windowWidth&&(clearTimeout(b.windowDelay),b.windowDelay=window.setTimeout(function(){b.windowWidth=a(window).width(),b.checkResponsive(),b.unslicked||b.setPosition()},50))},b.prototype.removeSlide=b.prototype.slickRemove=function(a,b,c){var d=this;if("boolean"==typeof a?(b=a,a=!0===b?0:d.slideCount-1):a=!0===b?--a:a,d.slideCount<1||a<0||a>d.slideCount-1)return!1;d.unload(),!0===c?d.$slideTrack.children().remove():d.$slideTrack.children(this.options.slide).eq(a).remove(),d.$slides=d.$slideTrack.children(this.options.slide),d.$slideTrack.children(this.options.slide).detach(),d.$slideTrack.append(d.$slides),d.$slidesCache=d.$slides,d.reinit()},b.prototype.setCSS=function(a){var b,c,d=this,e={};!0===d.options.rtl&&(a=-a),b="left"==d.positionProp?Math.ceil(a)+"px":"0px",c="top"==d.positionProp?Math.ceil(a)+"px":"0px",e[d.positionProp]=a,!1===d.transformsEnabled?d.$slideTrack.css(e):(e={},!1===d.cssTransitions?(e[d.animType]="translate("+b+", "+c+")",d.$slideTrack.css(e)):(e[d.animType]="translate3d("+b+", "+c+", 0px)",d.$slideTrack.css(e)))},b.prototype.setDimensions=function(){var a=this;!1===a.options.vertical?!0===a.options.centerMode&&a.$list.css({padding:"0px "+a.options.centerPadding}):(a.$list.height(a.$slides.first().outerHeight(!0)*a.options.slidesToShow),!0===a.options.centerMode&&a.$list.css({padding:a.options.centerPadding+" 0px"})),a.listWidth=a.$list.width(),a.listHeight=a.$list.height(),!1===a.options.vertical&&!1===a.options.variableWidth?(a.slideWidth=Math.ceil(a.listWidth/a.options.slidesToShow),a.$slideTrack.width(Math.ceil(a.slideWidth*a.$slideTrack.children(".slick-slide").length))):!0===a.options.variableWidth?a.$slideTrack.width(5e3*a.slideCount):(a.slideWidth=Math.ceil(a.listWidth),a.$slideTrack.height(Math.ceil(a.$slides.first().outerHeight(!0)*a.$slideTrack.children(".slick-slide").length)));var b=a.$slides.first().outerWidth(!0)-a.$slides.first().width();!1===a.options.variableWidth&&a.$slideTrack.children(".slick-slide").width(a.slideWidth-b)},b.prototype.setFade=function(){var b,c=this;c.$slides.each(function(d,e){b=c.slideWidth*d*-1,!0===c.options.rtl?a(e).css({position:"relative",right:b,top:0,zIndex:c.options.zIndex-2,opacity:0}):a(e).css({position:"relative",left:b,top:0,zIndex:c.options.zIndex-2,opacity:0})}),c.$slides.eq(c.currentSlide).css({zIndex:c.options.zIndex-1,opacity:1})},b.prototype.setHeight=function(){var a=this;if(1===a.options.slidesToShow&&!0===a.options.adaptiveHeight&&!1===a.options.vertical){var b=a.$slides.eq(a.currentSlide).outerHeight(!0);a.$list.css("height",b)}},b.prototype.setOption=b.prototype.slickSetOption=function(){var b,c,d,e,f,g=this,h=!1
;if("object"===a.type(arguments[0])?(d=arguments[0],h=arguments[1],f="multiple"):"string"===a.type(arguments[0])&&(d=arguments[0],e=arguments[1],h=arguments[2],"responsive"===arguments[0]&&"array"===a.type(arguments[1])?f="responsive":void 0!==arguments[1]&&(f="single")),"single"===f)g.options[d]=e;else if("multiple"===f)a.each(d,function(a,b){g.options[a]=b});else if("responsive"===f)for(c in e)if("array"!==a.type(g.options.responsive))g.options.responsive=[e[c]];else{for(b=g.options.responsive.length-1;b>=0;)g.options.responsive[b].breakpoint===e[c].breakpoint&&g.options.responsive.splice(b,1),b--;g.options.responsive.push(e[c])}h&&(g.unload(),g.reinit())},b.prototype.setPosition=function(){var a=this;a.setDimensions(),a.setHeight(),!1===a.options.fade?a.setCSS(a.getLeft(a.currentSlide)):a.setFade(),a.$slider.trigger("setPosition",[a])},b.prototype.setProps=function(){var a=this,b=document.body.style;a.positionProp=!0===a.options.vertical?"top":"left","top"===a.positionProp?a.$slider.addClass("slick-vertical"):a.$slider.removeClass("slick-vertical"),void 0===b.WebkitTransition&&void 0===b.MozTransition&&void 0===b.msTransition||!0===a.options.useCSS&&(a.cssTransitions=!0),a.options.fade&&("number"==typeof a.options.zIndex?a.options.zIndex<3&&(a.options.zIndex=3):a.options.zIndex=a.defaults.zIndex),void 0!==b.OTransform&&(a.animType="OTransform",a.transformType="-o-transform",a.transitionType="OTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.MozTransform&&(a.animType="MozTransform",a.transformType="-moz-transform",a.transitionType="MozTransition",void 0===b.perspectiveProperty&&void 0===b.MozPerspective&&(a.animType=!1)),void 0!==b.webkitTransform&&(a.animType="webkitTransform",a.transformType="-webkit-transform",a.transitionType="webkitTransition",void 0===b.perspectiveProperty&&void 0===b.webkitPerspective&&(a.animType=!1)),void 0!==b.msTransform&&(a.animType="msTransform",a.transformType="-ms-transform",a.transitionType="msTransition",void 0===b.msTransform&&(a.animType=!1)),void 0!==b.transform&&!1!==a.animType&&(a.animType="transform",a.transformType="transform",a.transitionType="transition"),a.transformsEnabled=a.options.useTransform&&null!==a.animType&&!1!==a.animType},b.prototype.setSlideClasses=function(a){var b,c,d,e,f=this;if(c=f.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),f.$slides.eq(a).addClass("slick-current"),!0===f.options.centerMode){var g=f.options.slidesToShow%2==0?1:0;b=Math.floor(f.options.slidesToShow/2),!0===f.options.infinite&&(a>=b&&a<=f.slideCount-1-b?f.$slides.slice(a-b+g,a+b+1).addClass("slick-active").attr("aria-hidden","false"):(d=f.options.slidesToShow+a,c.slice(d-b+1+g,d+b+2).addClass("slick-active").attr("aria-hidden","false")),0===a?c.eq(c.length-1-f.options.slidesToShow).addClass("slick-center"):a===f.slideCount-1&&c.eq(f.options.slidesToShow).addClass("slick-center")),f.$slides.eq(a).addClass("slick-center")}else a>=0&&a<=f.slideCount-f.options.slidesToShow?f.$slides.slice(a,a+f.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):c.length<=f.options.slidesToShow?c.addClass("slick-active").attr("aria-hidden","false"):(e=f.slideCount%f.options.slidesToShow,d=!0===f.options.infinite?f.options.slidesToShow+a:a,f.options.slidesToShow==f.options.slidesToScroll&&f.slideCount-a<f.options.slidesToShow?c.slice(d-(f.options.slidesToShow-e),d+e).addClass("slick-active").attr("aria-hidden","false"):c.slice(d,d+f.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==f.options.lazyLoad&&"anticipated"!==f.options.lazyLoad||f.lazyLoad()},b.prototype.setupInfinite=function(){var b,c,d,e=this;if(!0===e.options.fade&&(e.options.centerMode=!1),!0===e.options.infinite&&!1===e.options.fade&&(c=null,e.slideCount>e.options.slidesToShow)){for(d=!0===e.options.centerMode?e.options.slidesToShow+1:e.options.slidesToShow,b=e.slideCount;b>e.slideCount-d;b-=1)c=b-1,a(e.$slides[c]).clone(!0).attr("id","").attr("data-slick-index",c-e.slideCount).prependTo(e.$slideTrack).addClass("slick-cloned");for(b=0;b<d+e.slideCount;b+=1)c=b,a(e.$slides[c]).clone(!0).attr("id","").attr("data-slick-index",c+e.slideCount).appendTo(e.$slideTrack).addClass("slick-cloned");e.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")})}},b.prototype.interrupt=function(a){var b=this;a||b.autoPlay(),b.interrupted=a},b.prototype.selectHandler=function(b){var c=this,d=a(b.target).is(".slick-slide")?a(b.target):a(b.target).parents(".slick-slide"),e=parseInt(d.attr("data-slick-index"));if(e||(e=0),c.slideCount<=c.options.slidesToShow)return void c.slideHandler(e,!1,!0);c.slideHandler(e)},b.prototype.slideHandler=function(a,b,c){var d,e,f,g,h,i=null,j=this;if(b=b||!1,!(!0===j.animating&&!0===j.options.waitForAnimate||!0===j.options.fade&&j.currentSlide===a)){if(!1===b&&j.asNavFor(a),d=a,i=j.getLeft(d),g=j.getLeft(j.currentSlide),j.currentLeft=null===j.swipeLeft?g:j.swipeLeft,!1===j.options.infinite&&!1===j.options.centerMode&&(a<0||a>j.getDotCount()*j.options.slidesToScroll))return void(!1===j.options.fade&&(d=j.currentSlide,!0!==c?j.animateSlide(g,function(){j.postSlide(d)}):j.postSlide(d)));if(!1===j.options.infinite&&!0===j.options.centerMode&&(a<0||a>j.slideCount-j.options.slidesToScroll))return void(!1===j.options.fade&&(d=j.currentSlide,!0!==c?j.animateSlide(g,function(){j.postSlide(d)}):j.postSlide(d)));if(j.options.autoplay&&clearInterval(j.autoPlayTimer),e=d<0?j.slideCount%j.options.slidesToScroll!=0?j.slideCount-j.slideCount%j.options.slidesToScroll:j.slideCount+d:d>=j.slideCount?j.slideCount%j.options.slidesToScroll!=0?0:d-j.slideCount:d,j.animating=!0,j.$slider.trigger("beforeChange",[j,j.currentSlide,e]),f=j.currentSlide,j.currentSlide=e,j.setSlideClasses(j.currentSlide),j.options.asNavFor&&(h=j.getNavTarget(),h=h.slick("getSlick"),h.slideCount<=h.options.slidesToShow&&h.setSlideClasses(j.currentSlide)),j.updateDots(),j.updateArrows(),!0===j.options.fade)return!0!==c?(j.fadeSlideOut(f),j.fadeSlide(e,function(){j.postSlide(e)})):j.postSlide(e),void j.animateHeight();!0!==c?j.animateSlide(i,function(){j.postSlide(e)}):j.postSlide(e)}},b.prototype.startLoad=function(){var a=this;!0===a.options.arrows&&a.slideCount>a.options.slidesToShow&&(a.$prevArrow.hide(),a.$nextArrow.hide()),!0===a.options.dots&&a.slideCount>a.options.slidesToShow&&a.$dots.hide(),a.$slider.addClass("slick-loading")},b.prototype.swipeDirection=function(){var a,b,c,d,e=this;return a=e.touchObject.startX-e.touchObject.curX,b=e.touchObject.startY-e.touchObject.curY,c=Math.atan2(b,a),d=Math.round(180*c/Math.PI),d<0&&(d=360-Math.abs(d)),d<=45&&d>=0?!1===e.options.rtl?"left":"right":d<=360&&d>=315?!1===e.options.rtl?"left":"right":d>=135&&d<=225?!1===e.options.rtl?"right":"left":!0===e.options.verticalSwiping?d>=35&&d<=135?"down":"up":"vertical"},b.prototype.swipeEnd=function(a){var b,c,d=this;if(d.dragging=!1,d.swiping=!1,d.scrolling)return d.scrolling=!1,!1;if(d.interrupted=!1,d.shouldClick=!(d.touchObject.swipeLength>10),void 0===d.touchObject.curX)return!1;if(!0===d.touchObject.edgeHit&&d.$slider.trigger("edge",[d,d.swipeDirection()]),d.touchObject.swipeLength>=d.touchObject.minSwipe){switch(c=d.swipeDirection()){case"left":case"down":b=d.options.swipeToSlide?d.checkNavigable(d.currentSlide+d.getSlideCount()):d.currentSlide+d.getSlideCount(),d.currentDirection=0;break;case"right":case"up":b=d.options.swipeToSlide?d.checkNavigable(d.currentSlide-d.getSlideCount()):d.currentSlide-d.getSlideCount(),d.currentDirection=1}"vertical"!=c&&(d.slideHandler(b),d.touchObject={},d.$slider.trigger("swipe",[d,c]))}else d.touchObject.startX!==d.touchObject.curX&&(d.slideHandler(d.currentSlide),d.touchObject={})},b.prototype.swipeHandler=function(a){var b=this;if(!(!1===b.options.swipe||"ontouchend"in document&&!1===b.options.swipe||!1===b.options.draggable&&-1!==a.type.indexOf("mouse")))switch(b.touchObject.fingerCount=a.originalEvent&&void 0!==a.originalEvent.touches?a.originalEvent.touches.length:1,b.touchObject.minSwipe=b.listWidth/b.options.touchThreshold,!0===b.options.verticalSwiping&&(b.touchObject.minSwipe=b.listHeight/b.options.touchThreshold),a.data.action){case"start":b.swipeStart(a);break;case"move":b.swipeMove(a);break;case"end":b.swipeEnd(a)}},b.prototype.swipeMove=function(a){var b,c,d,e,f,g,h=this;return f=void 0!==a.originalEvent?a.originalEvent.touches:null,!(!h.dragging||h.scrolling||f&&1!==f.length)&&(b=h.getLeft(h.currentSlide),h.touchObject.curX=void 0!==f?f[0].pageX:a.clientX,h.touchObject.curY=void 0!==f?f[0].pageY:a.clientY,h.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(h.touchObject.curX-h.touchObject.startX,2))),g=Math.round(Math.sqrt(Math.pow(h.touchObject.curY-h.touchObject.startY,2))),!h.options.verticalSwiping&&!h.swiping&&g>4?(h.scrolling=!0,!1):(!0===h.options.verticalSwiping&&(h.touchObject.swipeLength=g),c=h.swipeDirection(),void 0!==a.originalEvent&&h.touchObject.swipeLength>4&&(h.swiping=!0,a.preventDefault()),e=(!1===h.options.rtl?1:-1)*(h.touchObject.curX>h.touchObject.startX?1:-1),!0===h.options.verticalSwiping&&(e=h.touchObject.curY>h.touchObject.startY?1:-1),d=h.touchObject.swipeLength,h.touchObject.edgeHit=!1,!1===h.options.infinite&&(0===h.currentSlide&&"right"===c||h.currentSlide>=h.getDotCount()&&"left"===c)&&(d=h.touchObject.swipeLength*h.options.edgeFriction,h.touchObject.edgeHit=!0),!1===h.options.vertical?h.swipeLeft=b+d*e:h.swipeLeft=b+d*(h.$list.height()/h.listWidth)*e,!0===h.options.verticalSwiping&&(h.swipeLeft=b+d*e),!0!==h.options.fade&&!1!==h.options.touchMove&&(!0===h.animating?(h.swipeLeft=null,!1):void h.setCSS(h.swipeLeft))))},b.prototype.swipeStart=function(a){var b,c=this;if(c.interrupted=!0,1!==c.touchObject.fingerCount||c.slideCount<=c.options.slidesToShow)return c.touchObject={},!1;void 0!==a.originalEvent&&void 0!==a.originalEvent.touches&&(b=a.originalEvent.touches[0]),c.touchObject.startX=c.touchObject.curX=void 0!==b?b.pageX:a.clientX,c.touchObject.startY=c.touchObject.curY=void 0!==b?b.pageY:a.clientY,c.dragging=!0},b.prototype.unfilterSlides=b.prototype.slickUnfilter=function(){var a=this;null!==a.$slidesCache&&(a.unload(),a.$slideTrack.children(this.options.slide).detach(),a.$slidesCache.appendTo(a.$slideTrack),a.reinit())},b.prototype.unload=function(){var b=this;a(".slick-cloned",b.$slider).remove(),b.$dots&&b.$dots.remove(),b.$prevArrow&&b.htmlExpr.test(b.options.prevArrow)&&b.$prevArrow.remove(),b.$nextArrow&&b.htmlExpr.test(b.options.nextArrow)&&b.$nextArrow.remove(),b.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},b.prototype.unslick=function(a){var b=this;b.$slider.trigger("unslick",[b,a]),b.destroy()},b.prototype.updateArrows=function(){var a=this;Math.floor(a.options.slidesToShow/2),!0===a.options.arrows&&a.slideCount>a.options.slidesToShow&&!a.options.infinite&&(a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===a.currentSlide?(a.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-a.options.slidesToShow&&!1===a.options.centerMode?(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):a.currentSlide>=a.slideCount-1&&!0===a.options.centerMode&&(a.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),a.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},b.prototype.updateDots=function(){var a=this;null!==a.$dots&&(a.$dots.find("li").removeClass("slick-active").end(),a.$dots.find("li").eq(Math.floor(a.currentSlide/a.options.slidesToScroll)).addClass("slick-active"))},b.prototype.visibility=function(){var a=this;a.options.autoplay&&(document[a.hidden]?a.interrupted=!0:a.interrupted=!1)},a.fn.slick=function(){var a,c,d=this,e=arguments[0],f=Array.prototype.slice.call(arguments,1),g=d.length;for(a=0;a<g;a++)if("object"==typeof e||void 0===e?d[a].slick=new b(d[a],e):c=d[a].slick[e].apply(d[a].slick,f),void 0!==c)return c;return d}}),c("carouselSlick",["jquery","slick"],function(a){var b=b||{};return b={init:function(){a(".nt-carousel-item-list-slick").each(function(b,c){a(c).slick({dots:!0})});var b=0;a(".nt-carousel-item-list-slick-article").each(function(c,d){b++,a(d).addClass("slider-"+b).slick({dots:!0,focusOnChange:!1,asNavFor:".slider-info-"+b,responsive:[{breakpoint:1168,settings:{dots:!1}}]})}),b=0,a(".nt-carousel-item-list-slick-article-info").each(function(c,d){b++,a(d).addClass("slider-info-"+b).slick({dots:!1,fade:!0,arrows:!1,focusOnChange:!1,asNavFor:".slider-"+b,responsive:[{breakpoint:1168,settings:{dots:!0}}]})})}},{init:function(a){0!==a.length&&b.init(a)}}}),c("ntAnimation",["jquery"],function(a){"use strict";var b=!1,c=0,d=0,e=0,f={animationStartDelay:500,startScrollBottom:10,cssTranslateYValue:100,animationStartClass:"init",scrollAnimatableClass:".nt-animatable-scroll",scrollFadeInClass:".nt-anim-scroll-fadein",trailReadMoreSlideInClass:".nt-anim-trail-readmore-slidein"},g=function(){setTimeout(function(){k()},f.animationStartDelay),i()},h=function(a){},i=function(){a(window).on("load resize",function a(){return j(),a}())},j=function(){var b;d=a(window).height(),e=a(document).height(),a(f.scrollAnimatableClass).each(function(c,d){b=a(d),b.data("posY",parseInt(b.offset().top,10)),void 0===b.data("isAnimFinished")&&b.data("isAnimFinished",!1)})},k=function(){a(window).on("scroll",function b(){return c=a(window).scrollTop(),l(),b}())},l=function(){b||window.requestAnimFrame(m),b=!0},m=function(){var c,d;b=!1,a(f.scrollAnimatableClass).each(function(b,e){c=a(e),!o(c)&&n(c)&&(d=p(c),h(d),c.data("isAnimFinished",!0))})},n=function(a){var b=c+d-f.startScrollBottom;return q(a)&&(b+=f.cssTranslateYValue),a.data("posY")<b},o=function(a){return a.data("isAnimFinished")},p=function(a){return q(a)?a:a.find(f.trailReadMoreSlideInClass).length>0?a.find(f.trailReadMoreSlideInClass):a.find(f.scrollFadeInClass).length>0?a.find(f.scrollFadeInClass):void 0},q=function(a){return a.hasClass(f.scrollFadeInClass.replace(".",""))||a.hasClass(f.trailReadMoreSlideInClass.replace(".",""))};return{init:function(a){0!==a.length&&g()}}}),c("videoAnalytics",["jquery"],function(a){"use strict";return{reportAAVideoEvent:function(a,b){var c={videoPlayEvent:{name:"event10",message:"YT Video Playing"},video25PlayEvent:{name:"event12",message:"YT Video Played 25%"},video50PlayEvent:{name:"event13",message:"YT Video Played 50%"},video75PlayEvent:{name:"event14",message:"YT Video Played 75%"},video90PlayEvent:{name:"event15",message:"YT Video Played 90%"},videoFullPlayEvent:{name:"event11",message:"YT Video Played 100%"}};if("function"==typeof s_gi){var d=s_gi(s_account),e=d.linkTrackVars+",eVar27,events";"videoPlayEvent"==a&&(e+=e+",prop27",d.prop27=b),d.linkTrackVars=e,d.eVar27=b,d.linkTrackEvents=c[a].name,d.events=c[a].name,d.tl(this,"o",c[a].message)}}}}),c("ntVideo",["jquery","videoAnalytics","modal"],function(a,b,c){"use strict";function d(){var c,d,e,f,g,h,i,j,k=["videoPlayEvent","video25PlayEvent","video50PlayEvent","video75PlayEvent","video90PlayEvent","videoFullPlayEvent"],l=function(a,b){c=a,d=b,m(),window.YT?f?f.loadVideoById(d):o():n()},m=function(){i=[],j=[],h=-1},n=function(){var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.src="https://www.youtube.com/iframe_api",b.parentNode.insertBefore(a,b)},o=function(){c&&(f=new YT.Player(c,{videoId:d,playerVars:{autoplay:1},events:{onReady:p,onStateChange:r}}))},p=function(a){a.target.setVolume(100)},q=function(){f&&(f.stopVideo(),f.destroy(),f=null),clearInterval(g)},r=function(b){f.getPlayerState()==YT.PlayerState.PLAYING?(h==YT.PlayerState.ENDED&&0==f.getCurrentTime()&&m(),h!=YT.PlayerState.BUFFERING&&h!=YT.PlayerState.PAUSED||t(),-1==a.inArray("videoPlayEvent",i)&&(j.push(0,Math.round(25*f.getDuration()/100),Math.round(50*f.getDuration()/100),Math.round(75*f.getDuration()/100),Math.round(90*f.getDuration()/100),Math.round(f.getDuration())),s()),g=setInterval(s,1e3)):(clearInterval(g),f.getPlayerState()==YT.PlayerState.ENDED&&u("videoFullPlayEvent")),h=f.getPlayerState()},s=function(){if(f.getPlayerState()==YT.PlayerState.PLAYING){var b=a.inArray(Math.round(f.getCurrentTime()),j);-1!=b&&u(k[b])}},t=function(){for(var a=Math.round(f.getCurrentTime()),b=0;b<j.length&&j[b]<=a;b++){var c=k[b];u(c)}},u=function(c){-1==a.inArray(c,i)&&(e?b.reportAAVideoEvent(c,e):a.getJSON("https://www.googleapis.com/youtube/v3/videos",{part:"snippet",id:d,key:"AIzaSyDKIzOcpR-5CcJAWJjkEJWNz-_8W7lKsmY"}).done(function(a){e=a.items[0].snippet.title,b.reportAAVideoEvent(c,e)}),i.push(c),"videoFullPlayEvent"==c&&clearInterval(g))};return{init:l,create:o,pause:q}}var e,f=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){e&&e.create(),f&&f()};var g=function(){e||(e=new d),a("body").off("click.video",".nt-js-launch-video").on("click.video",".nt-js-launch-video",function(b){var c=a(this).data("video-id");b.preventDefault(),e.init("player",c)}),a("body").off("click.videoClose",".nt-js-close-video").on("click.videoClose",".nt-js-close-video",function(a){a.preventDefault(),e.pause()}),a(window).on("keydown",function(b){a(".nt-modal-video.active").length&&27==b.keyCode&&e.pause()})};return{init:function(b){0!==b.length&&g(),window.bindVideo=function(){g(),c.init(a(".nt-js-launch-modal"))}}}}),c("ntVideoInline",["jquery","videoAnalytics"],function(a,b){"use strict";var c=!1,d=null,e=0,f=function(a){this.init(a)};f.prototype={isFullWidth:!1,player:null,playerWrap:null,playing:!1,playerHeight:0,playerWidth:0,thumbSrc:null,thumbnail:null,videoID:null,wrapper:null,currentVideoTitle:null,currentVideoIndex:null,videoAAEvents:[],videoTrackTimer:null,playerId:null,init:function(a){this.wrapper=a,this.playerWrap=this.wrapper.find(".nt-video--inline--player-wrapper").first(),this.thumbnail=this.wrapper.find(".nt-video--inline--thumbnail").first(),this.isFullWidth=!!this.wrapper.hasClass("nt-video--inline--full-width"),this.videoID=this.wrapper.data("video-id"),this.dimensionsSet(),this.registerEvents()},dimensionsSet:function(){this.playerWrap.removeAttr("style");var b=(this.isFullWidth,.9*a(window).height()),c=this.isFullWidth?a(window).width():this.playerWrap.outerWidth(),d=b,e=d/9*16;e>c&&(e=c,this.isFullWidth||(d=e/16*9)),this.playerWrap.css({"background-color":"#CCC",height:d+"px",width:e+"px"})},handlerPlayerReady:function(b){this.wrapper.addClass("nt-video--inline--player--ready"),this.thumbnail.on("click",a.proxy(this.handlerThumbClick,this)),this.storeVideoDetails(b.target)},handlerPlayerStartEvent:function(){this.player&&this.player.pauseVideo()},handlerPlayerStateChange:function(c){var d=this,e=this.videoID,f=a(".nt-video--inline[data-video-id='"+e+"']");this.currentVideoTitle=f.attr("video-title"),this.setCurrentVideoIndex();var g=c.data,h=this.videoAAEvents[this.currentVideoIndex].title;if(1===g){var d=this;this.videoTrackTimer=setInterval(function(){return d.trackVideoPlay()},1e3),this.wrapper.addClass("playing"),this.playing=!0,!1===this.videoAAEvents[this.currentVideoIndex].playFired&&(b.reportAAVideoEvent("videoPlayEvent",h),this.videoAAEvents[this.currentVideoIndex].playFired=!0)}else 0===g&&!1===this.videoAAEvents[this.currentVideoIndex].completeFired?(this.playing=!1,this.videoAAEvents[this.currentVideoIndex].completeFired=!0,this.wrapper.removeClass("playing"),b.reportAAVideoEvent("videoFullPlayEvent",h),clearInterval(this.videoTrackTimer)):3!==g&&(this.wrapper.removeClass("playing"),this.playing=!1,clearInterval(this.videoTrackTimer))},handlerThumbClick:function(){a(window).trigger("YTPlayerStart"),this.player.playVideo()},playerSet:function(){this.playerId="player--"+e++;var b=a("<div>",{id:this.playerId});this.playerWrap.html(b),this.player=new YT.Player(this.playerId,{videoId:this.videoID,playerVars:{autoplay:!1,playsinline:!0},events:{onReady:a.proxy(this.handlerPlayerReady,this),onStateChange:a.proxy(this.handlerPlayerStateChange,this)}})},storeVideoDetails:function(b){var c=a(".nt-video--inline[data-video-id='"+this.videoID+"']"),d=this;a.getJSON("https://www.googleapis.com/youtube/v3/videos",{part:"snippet",id:this.videoID,key:"AIzaSyDKIzOcpR-5CcJAWJjkEJWNz-_8W7lKsmY"}).done(function(a){var e=a.items[0].snippet.title;d.currentVideoTitle=e,d.storeVideoObj(b),c.attr("video-title",e)})},setCurrentVideoIndex:function(){var b=this.currentVideoTitle,c=this;a.map(this.videoAAEvents,function(a,d){a.title==b&&(c.currentVideoIndex=d)})},trackVideoPlay:function(){var c=this,d=Math.round(this.player.getCurrentTime()),e=this.videoAAEvents[this.currentVideoIndex].eventTimes;a(e).each(function(a,e){e.time<=d&&!1===e.fired&&(b.reportAAVideoEvent("video"+e.percentage+"PlayEvent",c.currentVideoTitle),e.fired=!0)})},storeVideoObj:function(b){var c=this.currentVideoTitle,d=!1;if(a.map(this.videoAAEvents,function(a){a.title==c&&(d=!0)}),!1===d){var e=b.getDuration(),f=[{percentage:25,time:25*e/100,fired:!1},{percentage:50,time:50*e/100,fired:!1},{percentage:75,time:75*e/100,fired:!1},{percentage:90,time:90*e/100,fired:!1}],g={title:c,playFired:!1,completeFired:!1,eventTimes:f};this.videoAAEvents.push(g)}},thumbnailSet:function(){this.thumbSrc=this.thumbnail.find("img").first().attr("src"),this.thumbnail.find(".nt-video--inline--thumbnail--cover-image").first().css({"background-image":'url("'+this.thumbSrc+'")'}),this.thumbnail.find("img").remove()},registerEvents:function(){a(window).one("load",a.proxy(this.dimensionsSet,this)),a(window).on("resize",a.proxy(this.dimensionsSet,this)),a(window).on("ytReady",a.proxy(this.playerSet,this)),a(window).on("YTPlayerStart",a.proxy(this.handlerPlayerStartEvent,this))}};var g=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){a(window).trigger("ytReady"),g&&g()};var h=function(b){if(c)return!0;d=b,a(d).each(function(){new f(a(this))}),window.YT?initialisePlayers():i(),c=!0},i=function(){var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.src="https://www.youtube.com/iframe_api",b.parentNode.insertBefore(a,b)};return{init:function(a){0!==a.length&&h(a)}}}),c("splash",["jquery"],function(a){"use strict";var b,c=function(){},d=function(){a(window).scrollTop(0),a(".nt-splash").fadeOut(function(){c()})};return{play:function(a,e){e=e||1e4,c=a||function(){},b=setTimeout(function(){d()},e)},skip:function(){clearTimeout(b),d()}}}),c("moreInsert",["jquery","checkViewport"],function(a,b){"use strict";var c,d={"timeline-posts":{parentId:"timeline-posts",contentId:"timeline-posts",multiplyContentsSelector:".nt-posts-line",insertSelector:".nt-see-more",insertMethod:"replaceWith"}},e=!1,f=function(b){var d=c.contentId?a(b).find("#"+c.contentId).html():a(b);a("#"+c.parentId).find(c.insertSelector)[c.insertMethod](d),c.multiplyContent&&a("#"+c.parentId).find(c.multiplyContentsSelector).append(c.multiplyContent)},g=function(b){b.preventDefault();var g=a(this);if(c=d[g.data("more-id")],e||!c.parentId)return!1;e=!0,a.get(a(this).attr("href"),f).fail(function(){}).always(function(){e=!1})},h=function(){var b=a(this),c=d[b.data("more-id")];c.multiplyContentsSelector&&(c.multiplyContent=a("#"+c.parentId).find(c.multiplyContentsSelector).html())},i=function(){a("body").off("click.more",".nt-js-more-button").on("click.more",".nt-js-more-button",g),a(".nt-js-more-button").each(h)};return{init:function(a){0!==a.length&&i()}}}),c("animFrame",[],function(){"use strict";window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}()}),c("menuNav",["jquery"],function(a){"use strict";function b(b){b.preventDefault(),g=a(b.target),j.fadeIn(function(){j.addClass("active"),j.focus()})}function c(b){b.preventDefault(),k.fadeIn(function(){k.addClass("active"),l.focus(),a(".nt-skip-to-search a").attr("aria-expanded",!0),k.attr("aria-hidden",!1)})}function d(b){b.preventDefault(),j.removeClass("active"),j.fadeOut(function(){g?g.focus():a(".nt-skip-to-nav a").focus()})}function e(b){b.preventDefault(),k.removeClass("active"),k.fadeOut(function(){a(".nt-skip-to-search a").focus(),a(".nt-skip-to-search a").attr("aria-expanded",!1),k.attr("aria-hidden",!0)})}function f(b){var c="expanded",d=o.find("li.has-children");d.click(function(b){var e=a(this),f=e.hasClass(c);d.removeClass(c),f||e.addClass(c),b.preventDefault()}),d.find("a.nt-link-dim").click(function(a){a.stopPropagation()}),d.find("ul.nt-mob-child-nav").click(function(a){a.stopPropagation()})}var g,h=(a("#more-link").width(),a("#more-link").detach()),i=a("#nt-masthead-nav ul"),j=a(".nt-main-navigation-container"),k=a(".nt-main-search-container"),l=a(".nt-primary-search-input"),m=[],n=i.find("li").length,o=a("#main-navigation-list"),p=function(){h.css("display","none")},q=function(){h.css("display","inline-block")},r=function(){m=[],i.find("li").each(function(){"more-link"!==a(this).attr("id")&&m.push(a(this).width())})},s=function(a){var b,c=m.length,d=0;for(b=0;b<c&&(d+=m[b],!(a<d));b++);return b},t=function(a){var b=a;for(b;b<=m.length;b++)i.find("li:eq("+b+")").hide()},u=function(a){var b=0;for(b;b<a;b++)i.find("li:eq("+b+")").show()},v=function(){var a=i.width(),b=s(a);b===m.length?(i.find("li").show(),p()):b<=n?(q(),i.find("li:eq("+(b-2)+")").after(h),t(b)):b>n&&(q(),i.find("li:eq("+(b-1)+")").after(h),u(b)),n=b},w=function(){a(window).on("resize",function a(){return r(),v(),a}())},x=function(b){var c=!0;a(document).on("focusin",function(a){c&&(!b.hasClass("active")||b.is(":focus")||b.find(a.target).length||(a.preventDefault(),c=!1,b.focus(),c=!0))})},y=function(){j.attr("tabindex","-1"),k.attr("tabindex","-1")},z=function(){w(),y(),x(j),x(k),f(),a(".nt-skip-to-nav a").on("click",b),a(".nt-skip-to-search a").on("click",c),h.on("click",b),j.find(" .nt-back-to-top a").on("click",function(a){d(a)}),k.find(" .nt-back-to-top a").on("click",function(a){e(a)}),a(window).on("keydown",function(a){j.hasClass("active")&&27==a.keyCode&&d(a),k.hasClass("active")&&27==a.keyCode&&e(a)})};return{init:function(){z()}}}),c("fixWebLinkHeight",["jquery"],function(a){"use strict";var b=a(".nt-related-items-container .regular-related-item"),c=a(".nt-related-items-container .external-link-related-item"),d=function(){setTimeout(function(){a(window).on("resize",function a(){return c.height(b.height()),a}())},50)};return{init:function(){d()}}}),c("backButton",["jquery"],function(a){"use strict";function b(){document.cookie=v+"="+JSON.stringify(s)+";path=/"}function c(){var b=a("div:not(.nt-splash-content) > h1:first").text();return b?(b=b.replace(/(\r\n|\n|\r)/gm,"").replace(/\s+/gm," "),b=a.trim(b)):document.title.indexOf("|")?a.trim(document.title.split("|")[0]):"Not available"}function d(){return window.location.href}function e(){var a=w.exec(document.cookie);return null!=a?JSON.parse(a[1]):[]}function f(b,c){n=a('<a href="'+c+'" ><span class="icon" data-icon="&#xe61b;"></span><span>'+b+"</span></a>"),u.html(n),u.addClass("active")}function g(b){var c={};return b=b||1,s.length-b>=0&&(s=e(),c=a.extend(!0,{},s[s.length-b]),c.name=q+" "+c.name,c.name.length>r&&(c.name=c.name.slice(0,r-3)+"&hellip;")),c}function h(){s.length>0&&t.url===s[s.length-1].url||(s.length>10&&s.shift(),s.push(t),b())}function i(a){s=e();var d;s.length>0?(d=s[s.length-1],d.url=a):(d={name:c(),url:a},s.push(d)),b()}function j(){var b;s.length>0&&(b=t.url===s[s.length-1].url?g(2):g(),a.isEmptyObject(b)||f(b.name,b.url))}function k(){s.pop(),b()}function l(){s=[],b()}function m(){return!!a(".nt-main-wrapper").is(o)&&!(a(".nt-main-wrapper").hasClass("nt-search-template")&&a(".nt-main-wrapper").find(p).length>0)}var n,o=".nt-home-template, .nt-days-out-template, .nt-join-template, .nt-search-template",p=".nt-masonry-results, .nt-search-campaign-item",q="Back to",r=40,s=[],t={},u=a(".nt-js-backlink"),v="pageStack",w=new RegExp(v+"=([^;]+)"),x=function(){m()&&l(),s=e(),t={name:c(),url:d()},j(),h(),a(n).on("click",function(){k()})};return{init:function(){x()},replaceCurrentPageUrlInCookie:function(a){i(a)}}}),c("search",["jquery"],function(a){"use strict";var b=".nt-js-search",c=".nt-js-search-predictive",d=".nt-search-container",e=".nt-js-disable-overflow-on-search",f="nt-js-search-submit-disabled",g="nt-show-geolocation",h="nt-show-suggestions",i="#search-place",j=3,k=function(a){return a.closest(d)},l=function(a){return a.closest(e)},m=function(a,b){"focusin"===a.type?b.css("overflow","visible"):"focusout"===a.type&&b.css("overflow","hidden")},n=function(b){var c=a(this),d=k(c),e=l(c);e.length>0&&m(b,e),d.toggleClass(g,!d.hasClass(g)),d.removeClass(h)},o=function(b){var c=a(b.target),d=c.val().length;k(c).toggleClass(h,d>=j)},p=function(b){var c=a(this),d=k(c),e=d.find("button:first");c.val().length>=j||a(i).hasClass("active")?(e.removeAttr("disabled"),d.removeClass(f)):(e.attr("disabled","disabled"),d.addClass(f))},q=function(){a(b).each(p),a(b).on("focusin keyup",p),a(c).on("focusin focusout",n),a(c).on("focusin keyup",o)};return a.fn.putCursorAtEnd=function(){return this.each(function(){if(a(this).focus(),this.setSelectionRange){var b=2*a(this).val().length;this.setSelectionRange(b,b)}else a(this).val(a(this).val());this.scrollTop=999999})},{init:function(a){0!==a.length&&q()}}}),c("site-search",["jquery"],function(a){"use strict";function b(){d=a("#cse-search-input-box-id"),(c=a.getParameterByName("q"))&&d.val(c)}var c,d;return{init:function(a){0!==a.length&&b()}}}),c("footer",["jquery"],function(a){"use strict";var b=a(".nt-footer-cookie-statement"),c=a('<a class="cls-btn" href="javascript:void(0);"><span data-icon="&#xe602;"></span></a>'),d=function(){b.find(".columns p").first().append(c),a("body").append(b)},e=function(){c.click(function(a){a.preventDefault(),b.hide()})};return{init:function(a){0!==a.length&&(e(),d())}}}),c("searchRefine",["jquery"],function(a){"use strict";var b="#refine-by-category-modal",c=".nt-apply-filter",d=".nt-clear-filter",e="nt-filter-groups",f=".nt-filter-group",g="toggle-all",h="undo-filter-changes",i=".nt-search-filters-tag",j=".nt-undo-filter-changes",k=function(b,c,d){a(b).trigger(a.extend({type:c},d))},l=function(){k(a(this),h,{filterGroups:a(this).data(e).split(",")})},m=function(a){return"input"+f+'[name="'+a+'"]'},n=function(a){return"#"+a+"-actual"},o=function(c){a.each(c.filterGroups,function(d,e){a(m(e),b).prop("checked",c.isSelected).trigger("change.refine")})},p=function(){var b=a(this).prop("id");a(n(b)).prop("checked",a(this).prop("checked"))},q=function(){var b=a(this).prop("id"),c=a(n(b)).prop("checked");a(this).prop("checked",c).trigger("change.refine")},r=function(){a("#search-submit")[0].click()},s=function(c){var d=a(this).data(e).split(",");a.each(d,function(c,d){a(m(d),b).each(p)}),r(),c.preventDefault()},t=function(c){a.each(c.filterGroups,function(c,d){a(m(d),b).each(q)})},u=function(b){k(a(this),g,{isSelected:!1,filterGroups:a(this).data(e).split(",")}),b.preventDefault()},v=function(a){a.preventDefault()},w=function(){var b=a("body");b.off("click.undo-filters").on("click.undo-filters",j,l),b.off(g).on(g,o),b.off(h).on(h,t),b.off("click.apply-search").on("click.apply-search",c,s),b.off("click.clear-search").on("click.clear-search",d,u),b.off("click.tag").on("click.tag",i,v)};return{init:function(a){0!==a.length&&w(a)}}}),c("backToTop",["jquery","gotoSmooth"],function(a,b){"use strict";var c=function(c){c.find("a").on("click",function(c){var d=a(document).scrollTop(),e=2,f=d/e;c.preventDefault(),b.gotoElement(a("#top"),f)}),a(window).on("scroll",function b(){var d=a(window).height(),e=2.25*d;return a(document).scrollTop()+d>e?c.addClass("back-to-top-active"):c.removeClass("back-to-top-active"),b}())};return{init:function(a){0!==a.length&&c(a)}}}),
function(a,b){"use strict";"function"==typeof c&&c.amd?c("viewportUnitsBuggyfill",[],b):"object"==typeof exports?module.exports=b():a.viewportUnitsBuggyfill=b()}(this,function(){"use strict";function a(a,b){var c;return function(){var d=this,e=arguments,f=function(){a.apply(d,e)};clearTimeout(c),c=setTimeout(f,b)}}function b(){try{return window.self!==window.top}catch(a){return!0}}function c(c){if(!t){if(!0===c&&(c={force:!0}),p=c||{},p.isMobileSafari=A,p.isBadStockAndroid=B,y||!p.force&&!A&&!x&&!B&&!z&&(!p.hacks||!p.hacks.required(p)))return window.console,{init:function(){}};window.dispatchEvent(new C("viewport-units-buggyfill-init")),p.hacks&&p.hacks.initialize(p),t=!0,s=document.createElement("style"),s.id="patched-viewport",document.head.appendChild(s),l(function(){var c=a(e,p.refreshDebounceWait||100);window.addEventListener("orientationchange",c,!0),window.addEventListener("pageshow",c,!0),(p.force||x||b())&&(window.addEventListener("resize",c,!0),p._listeningToResize=!0),p.hacks&&p.hacks.initializeEvents(p,e,c),e()})}}function d(){s.textContent=h(),s.parentNode.appendChild(s),window.dispatchEvent(new C("viewport-units-buggyfill-style"))}function e(){t&&(f(),setTimeout(function(){d()},1))}function f(){return r=[],w.call(document.styleSheets,function(a){"patched-viewport"!==a.ownerNode.id&&a.cssRules&&"ignore"!==a.ownerNode.getAttribute("data-viewport-units-buggyfill")&&(a.media&&a.media.mediaText&&window.matchMedia&&!window.matchMedia(a.media.mediaText).matches||w.call(a.cssRules,g))}),r}function g(a){if(7===a.type){var b;try{b=a.cssText}catch(a){return}return v.lastIndex=0,void(v.test(b)&&(r.push([a,null,b]),p.hacks&&p.hacks.findDeclarations(r,a,null,b)))}if(!a.style){if(!a.cssRules)return;return void w.call(a.cssRules,function(a){g(a)})}w.call(a.style,function(b){var c=a.style.getPropertyValue(b);a.style.getPropertyPriority(b)&&(c+=" !important"),v.lastIndex=0,v.test(c)&&(r.push([a,b,c]),p.hacks&&p.hacks.findDeclarations(r,a,b,c))})}function h(){q=k();var a,b,c=[],d=[];return r.forEach(function(e){var f=i.apply(null,e),g=f.selector.length?f.selector.join(" {\n")+" {\n":"",h=new Array(f.selector.length+1).join("\n}");if(!g||g!==a)return d.length&&(c.push(a+d.join("\n")+b),d.length=0),void(g?(a=g,b=h,d.push(f.content)):(c.push(f.content),a=null,b=null));g&&!a&&(a=g,b=h),d.push(f.content)}),d.length&&c.push(a+d.join("\n")+b),z&&c.push("* { content: normal !important; }"),c.join("\n\n")}function i(a,b,c){var d,e=[];d=c.replace(v,j),p.hacks&&(d=p.hacks.overwriteDeclaration(a,b,d)),b&&(e.push(a.selectorText),d=b+": "+d+";");for(var f=a.parentRule;f;)e.unshift("@media "+f.media.mediaText),f=f.parentRule;return{selector:e,content:d}}function j(a,b,c){var d=q[c];return parseFloat(b)/100*d+"px"}function k(){var a=window.innerHeight,b=window.innerWidth;return{vh:a,vw:b,vmax:Math.max(b,a),vmin:Math.min(b,a)}}function l(a){var b=0,c=function(){--b||a()};w.call(document.styleSheets,function(a){a.href&&m(a.href)!==m(location.href)&&"ignore"!==a.ownerNode.getAttribute("data-viewport-units-buggyfill")&&(b++,n(a.ownerNode,c))}),b||a()}function m(a){return a.slice(0,a.indexOf("/",a.indexOf("://")+3))}function n(a,b){o(a.href,function(){var c=document.createElement("style");c.media=a.media,c.setAttribute("data-href",a.href),c.textContent=this.responseText,a.parentNode.replaceChild(c,a),b()},b)}function o(a,b,c){var d=new XMLHttpRequest;if("withCredentials"in d)d.open("GET",a,!0);else{if("undefined"==typeof XDomainRequest)throw new Error("cross-domain XHR not supported");d=new XDomainRequest,d.open("GET",a)}return d.onload=b,d.onerror=c,d.send(),d}var p,q,r,s,t=!1,u=window.navigator.userAgent,v=/([+-]?[0-9.]+)(vh|vw|vmin|vmax)/g,w=[].forEach,x=/MSIE [0-9]\./i.test(u),y=/MSIE [0-8]\./i.test(u),z=u.indexOf("Opera Mini")>-1,A=/(iPhone|iPod|iPad).+AppleWebKit/i.test(u)&&function(){var a=u.match(/OS (\d)/);return a&&a.length>1&&parseInt(a[1])<8}(),B=function(){return u.indexOf(" Android ")>-1&&(u.indexOf("Version/")>-1&&parseFloat((u.match("Android ([0-9.]+)")||[])[1])<=4.4)}();x||(x=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./));try{new C("test")}catch(a){var C=function(a,b){var c;return b=b||{bubbles:!1,cancelable:!1,detail:void 0},c=document.createEvent("CustomEvent"),c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c};C.prototype=window.Event.prototype,window.CustomEvent=C}return{version:"0.5.5",findProperties:f,getCss:h,init:c,refresh:e}}),c("cookieStatement",["jquery","setParentHeight"],function(a,b){"use strict";var c="cookieStatementDisplayedOnce",d="cookieStatementShownOnce",e=new RegExp(c+"=([^;]+)"),f=new RegExp(d+"=([^;]+)"),g=function(a){var b,d=new Date;d.setTime(d.getTime()+94608e6),b=d.toGMTString(),document.cookie=c+"="+a+"; expires="+b+"; path=/"},h=function(){return e.exec(document.cookie)},i=function(){f.exec(document.cookie)&&(document.cookie=d+"=true; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/")},j=function(a){i(),h()||(a.show(),b.updateAll(),g(!0))};return{init:function(a){j(a)}}}),c("NtPromoCodes",["jquery"],function(a){"use strict";function b(){k=g(location.search)}function c(){k[m]=l,k[n]=l}function d(){a(".nt-modal-membership-table-cta a").on("click",function(b){var c=a(this).attr("href");b.preventDefault(),-1!==c.indexOf("?")?location=c+"&"+j(k):location=c+"?"+j(k)})}function e(a){return a.indexOf("?")>=0?a.split("?")[1]:a.indexOf("=")>=0?a:""}function f(a){a=decodeURIComponent(a);try{return JSON.parse(a)}catch(b){return a}}function g(b){var c={},d=e(b);return d?(a.each(d.split("&"),function(a,b){var d,e,g;b=b.split("="),d=b[0].replace("[]",""),e=f(b[1]||""),c.hasOwnProperty(d)?(c[d].push||(g=c[d],c[d]=[g]),c[d].push(e)):c[d]=e}),c):c}function h(a){var b="; "+document.cookie,c=b.split("; "+a+"=");if(2==c.length)return c.pop().split(";").shift()}function i(){var a=k[m];if(a){var b=(new Date).addDays(7);document.cookie="sc="+a+"; Path=/; Expires="+b.toUTCString()+";",l=a}else l=h("sc")}function j(a){var b,c,d=[];for(var e in a)if(a.hasOwnProperty(e))if(b=e,"object"==typeof(c=a[e]))for(subKey in c)c.hasOwnProperty(subKey)&&d.push(b+"["+(isNaN(subKey,10)?subKey:"")+"]="+encodeURIComponent(c[subKey]));else d.push(b+"="+encodeURIComponent(c));return d.join("&")}var k,l,m="sc",n="promoCode";return{init:function(){b(),i(),l&&(c(),d())}}}),c("mediaCards",["jquery"],function(a){"use strict";function b(){a(".js-term-check").on("change",function(b){!0===a(this).is(":checked")?a(this).parent().next().removeClass("is-disabled"):a(this).parent().next().addClass("is-disabled")})}function c(){for(var b=a(".js-pagination"),c=a(".js-pagination-content"),d=c.children(),e=d.length,f=18,g=e/f,h=0;h<g;h++){a('<a href="" class="js-pagination-link">'+(h+1)+"</a>").appendTo(b)}for(var h=0;h<d.length;h+=f)d.slice(h,h+f).wrapAll("<div class='js-pagination-page  pagination-page'></div>");a(".js-pagination-link").first().addClass("is-active"),a(".js-pagination-link").on("click",function(b){b.preventDefault();var c=a(this).index();a(this).siblings().removeClass("is-active"),a(this).addClass("is-active"),a(".js-pagination-page").hide(),a(".js-pagination-page").eq(c).show(),a("html, body").animate({scrollTop:0},"fast")})}return{init:function(a){0!==a.length&&(b(),c())}}}),c("walkingTrailsMap",["jquery"],function(a){"use strict";var b={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string;if(this.versionSearchString=a[b].subString,-1!==c.indexOf(a[b].subString))return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!==b){var c=a.indexOf("rv:");return"Trident"===this.versionSearchString&&-1!==c?parseFloat(a.substring(c+3)):parseFloat(a.substring(b+this.versionSearchString.length+1))}},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"MS Edge"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]},c={TRAILS_MAP:"",MARKER_CLUSTERER:"",CENTRAL_ENGLAND:{lat:52.438713,lng:-1.647794},MOBILE_BREAKPOINT:550,allMarkers:[],allInfowindows:[],searchMarkers:[],activeMarker:"",activeInfowindow:"",infowindowVisible:null,resizeScheduled:!1,init:function(){"undefined"!=typeof google&&google.maps.event.addDomListener(window,"load",a.proxy(function(){this.initializeMap(),this.initSearch()},this))},initializeMap:function(){this.TRAILS_MAP=new google.maps.Map(document.getElementById("mapCanvas"),{zoom:6,center:this.CENTRAL_ENGLAND,panControl:!1,streetViewControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}}),this.initMarkers(),this.initEvents(),this._resize()},initMarkers:function(){var c=this;a.getJSON("/search/data/walking-trails.geojson",function(a){for(var d=0;d<a.features.length;d++)!function(b,c){var c=c,d=a.features[b],e=d.geometry.coordinates[0],f=d.geometry.coordinates[1],g=new google.maps.LatLng(f,e),h=c.addMarker(d,g);h.setMap(null),google.maps.event.addListener(h,"click",function(){c._closeInfowindows();var a={position:g,pixelOffset:new google.maps.Size(-200,-60),infoBoxClearance:new google.maps.Size(1,1),maxWidth:400,isHidden:!1,pane:"floatPane",alignBottom:!0,disableAutoPan:!1,enableEventPropagation:!1,closeBoxMargin:"2px 2px 2px 2px",closeBoxURL:"/assets/img/nt-close-card-bk.png",content:c.addInfowindowContent(d),boxStyle:{width:"400px",backgroundColor:"blue"}},b=new InfoBox(a);google.maps.event.addListener(b,"closeclick",function(){c.infowindowVisible=null}),c.activeMarker=h,c.activeInfowindow=b,c.allInfowindows.push(b),c.infowindowVisible=!0,c._checkWindowWidth()<=c.MOBILE_BREAKPOINT?c.openMobileCard(b):(b.open(c.TRAILS_MAP,h),c.TRAILS_MAP.setCenter(h.getPosition()))}),c.allMarkers.push(h)}(d,c);var e="../../assets/img/svg-icons/44-location-searched-purple.svg";"Explorer"===b.browser&&(e="../../assets/img/44-location-searched-purple.png");var f={gridSize:50,maxZoom:21,styles:[{url:e,height:32,width:32,textColor:"white"}]};c.MARKER_CLUSTERER=new MarkerClusterer(c.TRAILS_MAP,c.allMarkers,f)})},initEvents:function(){a(window).on("resize",a.proxy(this._windowResize,this)),a(document).on("change",".nt-trails-map-filters .dropdown",a.proxy(this.filterTrailsMap,this)),a(document).on("touchstart click","#ntJsLaunchModal",a.proxy(this._refreshMap,this)),a(document).on("touchstart click","#closeCardBtn",a.proxy(function(){this.closeMobileCard(),setTimeout(function(){a(".walking-trails-card").empty()},600),this.infowindowVisible=null},this)),a(document).on("touchstart click","#clearFilters",a.proxy(function(){this._closeInfowindows(),this._clearFilters()},this))},initSearch:function(){var b=this,c=document.getElementById("pac-input"),d=new google.maps.places.SearchBox(c);b.TRAILS_MAP.addListener("BOUNDS_changed",function(){d.setBounds(b.TRAILS_MAP.getBounds())}),d.addListener("places_changed",function(){var c=d.getPlaces();0!==c.length&&(b._deleteSearchMarkers(),a.each(c,function(a,c){var d=new google.maps.Marker({map:b.TRAILS_MAP,position:c.geometry.location});b.searchMarkers.push(d),b.TRAILS_MAP.setCenter(c.geometry.location),b.TRAILS_MAP.setZoom(12)}))})},addMarker:function(a,b){var c=b;return new google.maps.Marker({map:this.TRAILS_MAP,icon:{url:"../../assets/img/43-location-pin-pink.png",size:new google.maps.Size(25,34)},position:c,title:a.properties.name,grade:a.properties.grade.toLowerCase(),distance:a.properties.distance,hours:a.properties.timeHours,mins:a.properties.timeMins})},addInfowindowContent:function(a){var b=a.properties.title,c=a.properties.abstract,d=a.properties.imageUrl,e=a.properties.imageDescription,f=a.properties.grade,g=a.properties.distance+" miles",h=a.properties.timeHours+"h "+a.properties.timeMins+"mins",i=a.properties.articleUrl,j='<div class="card nt-masonry-single-result" id="walking-card">';return j+='<div class="card-inner nt-masonry-single-result-inner">',j+='<div class="icon close-card-btn" id="closeCardBtn" data-icon="&#xe61b;"></div>',j+='<div class="image nt-masonry-single-result-image nt-image-wrap nt-image-wrap-16x9">',j+='<img src="'+d+'" alt="'+e+'">',j+="</div>",j+='<div class="content nt-masonry-single-result-inner">',j+='<div class="nt-masonry-single-result-category">Walking Trail</div>',j+='<h3 class="card-title nt-link-chevron">',j+='<a href="',j+=i,j+='">',j+=b,j+="</a>",j+="</h3>",j+="<p>",j+=c,j+="</p>",j+='<ul class="nt-masonry-single-result-list">',j+="<li>",j+='<span class="icon icon-grade" data-icon="&#xe61f;"></span>',j+=f,j+="</li>",j+="<li>",j+='<span class="icon icon-distance" data-icon="&#xe621;"></span>',j+=g,j+="</li>",j+="<li>",j+='<span class="icon icon-duration" data-icon="&#xe61e;"></span>',j+=h,j+="</li>",j+="</ul>",j+="</div>",j+="</div>",j+="</div>"},openMobileCard:function(b){a(".walking-trails-card").html(b.content_),a("#mapWrapper").addClass("active")},closeMobileCard:function(){a("#mapWrapper").removeClass("active")},filterTrailsMap:function(){var b=this;b._closeInfowindows();var c=a("#grade option:selected").val().toLowerCase(),d=a("#distance option:selected").attr("value"),e=a("#duration option:selected").attr("value");b.MARKER_CLUSTERER.clearMarkers(),a.each(this.allMarkers,function(a,f){return"all"!=c&&!b.filterDifficulty(c,f)||("all"!=d&&!b.filterDistance(d,f)||("all"!=e&&!b.filterDuration(e,f)||void b.MARKER_CLUSTERER.addMarker(f)))})},filterDifficulty:function(a,b){return a===b.grade},filterDistance:function(a,b){var c=parseInt(a.substring(0,a.indexOf("-"))),d=parseInt(a.substr(a.indexOf("-")+1));return!!this._between(b.distance,c,d)},filterDuration:function(a,b){var c=this._hoursToMinutes(parseFloat(a.substr(0,a.indexOf("-")))),d=this._hoursToMinutes(parseFloat(a.substr(a.indexOf("-")+1))),e=parseInt(this._hoursToMinutes(b.hours)),f=parseInt(b.mins),g=e+f;return!!this._between(g,c,d)},_checkWindowWidth:function(){return a(window).width()},_between:function(a,b,c){return a>=b&&a<=c},_hoursToMinutes:function(a){return 60*a},_windowResize:function(){var a=this;a.resizeScheduled||(a.resizeScheduled=!0,setTimeout(function(){a.resizeScheduled=!1,a._resizeModalStyle(),a._resize()},500))},_resizeModalStyle:function(){this._checkWindowWidth()<=this.MOBILE_BREAKPOINT&&this.infowindowVisible&&(this.activeInfowindow.close(),this.openMobileCard(this.activeInfowindow)),this._checkWindowWidth()>=this.MOBILE_BREAKPOINT&&this.infowindowVisible&&(this.closeMobileCard(),this.activeInfowindow.open(this.TRAILS_MAP,this.activeMarker))},_clearFilters:function(){this.infowindowVisible=null,this._centerMap(),this._deleteSearchMarkers(),this.MARKER_CLUSTERER.addMarkers(this.allMarkers),a(".dropdown").val("all")},_deleteSearchMarkers:function(){for(var a=0;a<this.searchMarkers.length;a+=1)this.searchMarkers[a].setMap(null)},_centerMap:function(){this.TRAILS_MAP.setCenter(this.CENTRAL_ENGLAND),this.TRAILS_MAP.setZoom(6)},_refreshMap:function(){var a=this;window.setTimeout(function(){google.maps.event.trigger(a.TRAILS_MAP,"resize"),a.TRAILS_MAP.setCenter(a.CENTRAL_ENGLAND)},400)},_closeInfowindows:function(){for(var a=0;a<this.allInfowindows.length;a+=1)this.allInfowindows[a].close()},_calculateHeight:function(){var a=220,b=window.innerHeight-a;return Math.min(b,510)},_resize:function(){var a=this._calculateHeight();document.getElementById("mapCanvas").style.height=a+"px",google.maps.event.trigger(this.TRAILS_MAP,"resize")}};return{init:function(a){0!==a.length&&(b.init(),c.init())}}}),c("carouselHome",["jquery","splash","imageLoadListener","gotoSmooth","slick"],function(a,b,c,d){"use strict";var e=function(b){var c=b.carouselPauseSelector,d=b.carouselWrapper,e=b.carouselAutoPlaySpeed,f=b.carouselContentDelay,g=null,h={};this.init=function(){a(d).on("init",function(b,c){a("button.nt-home-carousel-pause").length||a(".slick-dots").append(a("<button type='button' role='button' class='nt-home-carousel-pause'></button>")),setTimeout(function(){a(".slick-slide.slick-active").addClass("nt-home-carousel-content-active")},f),a(".slick-slide.slick-active").addClass("pan")}),h=a(d).not(".slick-initialized").slick({dots:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,fade:!0,autoplay:!0,autoplaySpeed:e,cssEase:"linear",pauseOnHover:!1,pauseOnFocus:!1})},a(d).on("click",c,function(){if(a(this).hasClass("nt-home-carousel-play"))a(this).removeClass("nt-home-carousel-play"),a(".slick-slide.slick-active .nt-content-header-home-content").css("opacity",""),a(".slick-slide.slick-active .nt-content-header-home-media-overlay").css("opacity",""),a(".slick-slide.slick-active .nt-background-image").addClass("playing"),h.slick("slickPlay");else{a(this).addClass("nt-home-carousel-play"),a(".slick-slide.slick-active .nt-background-image").removeClass("playing");var b=a(".slick-slide.slick-active .nt-content-header-home-content").css("opacity"),c=a(".slick-slide.slick-active .nt-content-header-home-media-overlay").css("opacity");if(a(".slick-slide.slick-active .nt-content-header-home-content").css("opacity",b),a(".slick-slide.slick-active .nt-content-header-home-media-overlay").css("opacity",c),Modernizr.cssanimations){var d=a(".slick-slide.slick-active .nt-background-image"),e=d.css("-webkit-transform")||d.css("-moz-transform")||d.css("-ms-transform")||d.css("-o-transform")||d.css("transform"),f=e.replace(/[^0-9\-.,]/g,"").split(","),g=f[12]||f[4];a(".slick-active .nt-background-image").css({"-webkit-transform":"translate3d("+g+"px, 0, 0)","-moz-transform":"translate3d("+g+"px, 0, 0)","-ms-transform":"translate3d("+g+"px, 0, 0)","-o-transform":"translate3d("+g+"px, 0, 0)",transform:"translate3d("+g+"px, 0, 0)"})}h.slick("slickPause")}}),a(d).on("afterChange",function(b,c,d){function e(){a(c.$slides.get(d)).addClass("nt-home-carousel-content-active")}h.slick("slickPlay"),setTimeout(function(){a(".slick-slide").not(".slick-slide.slick-active").removeClass("pan"),a(".slick-slide").not(".slick-slide.slick-active").addClass("notransition")},300),a(".nt-home-carousel-pause").removeClass("nt-home-carousel-play"),clearTimeout(g),g=null,g=setTimeout(e,f)}),a(d).on("beforeChange",function(b,c,d,e){a(".slick-slide").removeClass("nt-home-carousel-content-active"),a(c.$slides.get(e)).removeClass("notransition"),a(c.$slides.get(e)).addClass("pan"),a(".slick-slide.slick-active .nt-background-image").css({"-webkit-transform":"","-moz-transform":"","-ms-transform":"","-o-transform":"",transform:""}),a(".slick-slide .nt-content-header-home-content").css("opacity",""),a(".slick-slide .nt-content-header-home-media-overlay").css("opacity","")})},f="cookieSplashShownOnce",g=new RegExp(f+"=([^;]+)"),h=function(a){document.cookie=f+"="+a+"; path=/"},i=function(){return g.exec(document.cookie)},j=function(d){var e=3500;i()?e=500:h(!0),b.play(function(){d.init()},e),c.imageLoadListener(a(".nt-content-header-home"),null,function(){b.skip()})},k=function(){var a=new e({carouselPauseSelector:".nt-home-carousel-pause",carouselWrapper:".nt-content-header-home-group",carouselAutoPlaySpeed:5e3,carouselContentDelay:2e3});j(a)};return{init:function(a){0!==a.length&&k()}}}),c("carouselHolidayProperty",["jquery","splash","slick"],function(a,b){"use strict";var c=function(){var b=new f({carouselWrapper:".nt-hol-property-images__images",carouselNavigation:".nt-hol-property-images__thumbs",carouselImage:".nt-hol-property-image--image",carouselNext:".nt-hol-property-images__next",carouselPrev:".nt-hol-property-images__prev",carouselThumb:".nt-hol-property-images__thumb",carouselThumbPrev:".nt-hol-property-thumbs__prev",carouselThumbNext:".nt-hol-property-thumbs__next",carouselParent:".nt-hol-property-images"});a(".nt-hol-property-image").length>1&&d(b)},d=function(a){a.init()},e=function(b,c){for(var d=b.find("figure").not(".slick-cloned"),e=c.find("img"),f=0;f<d.length;f++){var g=a(d[f]).attr("data-slick-index");a(e[f]).attr("data-slick-index",g)}a(e[0]).addClass("nt-hol-property-images__thumb--active")},f=function(b){var c=b.carouselWrapper,d=b.carouselNext,f=b.carouselPrev,g=b.carouselThumb,h=b.carouselThumbPrev,i=b.carouselThumbNext,j=b.carouselNavigation,k=b.carouselParent,l=b.carouselImage;a(c).on("init",function(){a(k).removeClass("nt-hol-property-images--no-slider")}),this.init=function(){var b=a(g),k=a(c),m=a(j),n=b.length;if(a(c).slick({centerMode:!0,centerPadding:"100px",slidesToShow:1,infinite:!0,slidesToScroll:1,variableWidth:!1,responsive:[{breakpoint:600,settings:{arrows:!0,centerMode:!1,centerPadding:"0",slidesToShow:1,variableWidth:!1}},{breakpoint:900,settings:{centerMode:!1,slidesToShow:1,slidesToScroll:1,variableWidth:!1}}],arrows:!0,prevArrow:a(f),nextArrow:a(d),asNavFor:!(n<7)&&".nt-hol-property-images__thumbs"}),n<7)e(k,m),a(g).on("click",function(){a(".nt-hol-property-images__thumb--active").removeClass("nt-hol-property-images__thumb--active"),a(this).addClass("nt-hol-property-images__thumb--active"),a(c).slick("slickGoTo",a(this).attr("data-slick-index"))}),a(c).on("afterChange",function(b,c,d,e){var f='[data-slick-index="'+d+'"]',g="nt-hol-property-images__thumb--active";a("."+g).removeClass(g),m.find(f).addClass(g)});else{var o=n-1;a(j).slick({slidesToShow:Math.min(7,o),slidesToScroll:1,variableWidth:!1,infinite:!0,centerMode:!0,responsive:[{breakpoint:600,settings:{arrows:!0,centerMode:!1,centerPadding:"0",slidesToShow:1}},{breakpoint:900,settings:{arrows:!0,centerMode:!0,centerPadding:"0",slidesToShow:Math.min(4,o)}}],arrows:!0,dots:!1,prevArrow:a(h),nextArrow:a(i),focusOnSelect:!0,asNavFor:".nt-hol-property-images__images"})}var p=function(){var a=0;return function(b,c){clearTimeout(a),a=setTimeout(b,c)}}(),q=a(c).find("iframe");q&&(q.height(a(c).find(l).first().height()),a(window).resize(function(){p(function(){q.height(a(c).find(l).first().height())},100)}))}};return{init:function(a){0!==a.length&&c()}}}),c("carouselLongFormStory",["jquery","gotoSmooth","slick"],function(a,b){"use strict";var c=7e3,d=".nt-content-header-longform-story--media--cover-image",e=!1,f=null,g=1e3,h=null,i=function(a){if(e)return!0;h=a,j(),e=!0},j=function(){var b=h.find(".nt-content-header-longform-story--group").first();b.addClass("nt-content-header-longform-story--carousel"),f=a(b).slick({arrows:!1,dots:!1,draggable:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,fade:!0,autoplay:!1,autoplaySpeed:c,speed:g,cssEase:"linear",pauseOnHover:!1,pauseOnFocus:!1}),a(b).on("afterChange",l),a(b).on("beforeChange",k)},k=function(b,c,d,e){if(f.slick("getSlick").slideCount<=1)return!0;a(c.$slides.get(e)).addClass("pan")},l=function(b,c,e){if(f.slick("getSlick").slideCount<=1)return!0;a(".slick-slide").not(".slick-slide.slick-active").removeClass("pan"),a(c.$slides.get(e)).find(d).first().css({"-webkit-transform":"","-moz-transform":"","-ms-transform":"","-o-transform":"",transform:""})};return{init:function(a){0!==a.length&&i(a.first())}}}),c("holidayCottagesSecondaryNav",["jquery"],function(a){"use strict";function b(b){b.preventDefault(),d=a(b.target),g.fadeIn(function(){g.addClass("active"),g.focus()})}function c(b){b.preventDefault(),g.removeClass("active"),g.fadeOut(function(){d?d.focus():a(".nt-skip-to-nav a").focus()})}var d,e=(a("#more-link-hol").width(),a("#more-link-hol").detach()),f=a("#nt-holiday-secondary-nav ul"),g=a(".nt-holiday-secondary-nav-container"),h=[],i=f.find("li").length,j=(a(".nt-holiday-secondary-nav-wrapper"),function(){e.css("display","none")}),k=function(){e.css("display","inline-block")},l=function(){h=[],f.find("li").each(function(){"more-link"!==a(this).attr("id")&&h.push(a(this).width())})},m=function(a){var b,c=h.length,d=0;for(b=0;b<c&&(d+=h[b],!(a<d));b++);return b},n=function(a){var b=a;for(b;b<=h.length;b++)f.find("li:eq("+b+")").hide()},o=function(a){var b=0;for(b;b<a;b++)f.find("li:eq("+b+")").show()},p=function(){var a=f.width(),b=m(a);b===h.length?(f.find("li").show(),j()):b<=i?(k(),f.find("li:eq("+(b-2)+")").after(e),n(b)):b>i&&(k(),f.find("li:eq("+(b-1)+")").after(e),o(b)),i=b},q=function(){a(window).on("resize",function a(){return l(),p(),a}())},r=function(b){var c=!0;a(document).on("focusin",function(a){c&&(!b.hasClass("active")||b.is(":focus")||b.find(a.target).length||(a.preventDefault(),c=!1,b.focus(),c=!0))})},s=function(){g.attr("tabindex","-1")},t=function(){q(),s(),r(g),e.on("click",b),g.find(" .nt-back-to-top a").on("click",function(a){c(a)}),a(window).on("keydown",function(a){g.hasClass("active")&&27==a.keyCode&&c(a)})},u=function(){setTimeout(function(){var b=a(".nt-holiday-secondary-nav-wrapper").css("background-color");a("#nt-masthead-nav .nt-primary-item.active").css({"background-color":b,color:"#ffffff"})},1500)};return{init:function(a){0!==a.length&&(u(),t())}}}),function(a){"function"==typeof c&&c.amd?c("jqueryDatepicker",["jquery"],a):a(jQuery)}(function(a){function b(a){for(var b,c;a.length&&a[0]!==document;){if(("absolute"===(b=a.css("position"))||"relative"===b||"fixed"===b)&&(c=parseInt(a.css("zIndex"),10),!isNaN(c)&&0!==c))return c;a=a.parent()}return 0}function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.regional.en=a.extend(!0,{},this.regional[""]),this.regional["en-US"]=a.extend(!0,{},this.regional.en),this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.on("mouseout",c,function(){a(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",c,e)}function e(){a.datepicker._isDisabledDatepicker(g.inline?g.dpDiv.parent()[0]:g.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))}function f(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.ui=a.ui||{},a.ui.version="1.12.1",a.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},a.extend(a.ui,{datepicker:{version:"1.12.1"}});var g;a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return f(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(c),a.data(b,"datepicker",c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.off("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),("focus"===d||"both"===d)&&b.on("focus",this._showDatepicker),("button"===d||"both"===d)&&(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.on("click",function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;a.length>e;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,e,g){var h,i,j,k,l,m=this._dialogInst;return m||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),a("body").append(this._dialogInput),m=this._dialogInst=this._newInst(this._dialogInput,!1),m.settings={},a.data(this._dialogInput[0],"datepicker",m)),f(m.settings,e||{}),c=c&&c.constructor===Date?this._formatDate(m,c):c,this._dialogInput.val(c),this._pos=g?g.length?g:[g.pageX,g.pageY]:null,this._pos||(i=document.documentElement.clientWidth,j=document.documentElement.clientHeight,k=document.documentElement.scrollLeft||document.body.scrollLeft,
l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[i/2-100+k,j/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),m.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",m),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,"datepicker");d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty(),g===e&&(g=null))},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(b,c,d){var e,g,h,i,j=this._getInst(b);return 2===arguments.length&&"string"==typeof c?"defaults"===c?a.extend({},a.datepicker._defaults):j?"all"===c?a.extend({},j.settings):this._get(j,c):null:(e=c||{},"string"==typeof c&&(e={},e[c]=d),void(j&&(this._curInst===j&&this._hideDatepicker(),g=this._getDateDatepicker(b,!0),h=this._getMinMaxDate(j,"min"),i=this._getMinMaxDate(j,"max"),f(j.settings,e),null!==h&&void 0!==e.dateFormat&&void 0===e.minDate&&(j.settings.minDate=this._formatDate(j,h)),null!==i&&void 0!==e.dateFormat&&void 0===e.maxDate&&(j.settings.maxDate=this._formatDate(j,i)),"disabled"in e&&(e.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),j),this._autoSize(j),this._setDate(j,g),this._updateAlternate(j),this._updateDatepicker(j))))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,d,e=a.datepicker._getInst(b.target);return a.datepicker._get(e,"constrainInput")?(c=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),d=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">d||!c||c.indexOf(d)>-1):void 0},_doKeyUp:function(b){var c=a.datepicker._getInst(b.target);if(c.input.val()!==c.lastVal)try{a.datepicker.parseDate(a.datepicker._get(c,"dateFormat"),c.input?c.input.val():null,a.datepicker._getFormatConfig(c))&&(a.datepicker._setDateFromField(c),a.datepicker._updateAlternate(c),a.datepicker._updateDatepicker(c))}catch(a){}return!0},_showDatepicker:function(c){if(c=c.target||c,"input"!==c.nodeName.toLowerCase()&&(c=a("input",c.parentNode)[0]),!a.datepicker._isDisabledDatepicker(c)&&a.datepicker._lastInput!==c){var d,e,g,h,i,j,k;d=a.datepicker._getInst(c),a.datepicker._curInst&&a.datepicker._curInst!==d&&(a.datepicker._curInst.dpDiv.stop(!0,!0),d&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),e=a.datepicker._get(d,"beforeShow"),!1!==(g=e?e.apply(c,[c,d]):{})&&(f(d.settings,g),d.lastVal=null,a.datepicker._lastInput=c,a.datepicker._setDateFromField(d),a.datepicker._inDialog&&(c.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(c),a.datepicker._pos[1]+=c.offsetHeight),h=!1,a(c).parents().each(function(){return!(h|="fixed"===a(this).css("position"))}),i={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,d.dpDiv.empty(),d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(d),i=a.datepicker._checkOffset(d,i,h),d.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":h?"fixed":"absolute",display:"none",left:i.left+"px",top:i.top+"px"}),d.inline||(j=a.datepicker._get(d,"showAnim"),k=a.datepicker._get(d,"duration"),d.dpDiv.css("z-index",b(a(c))+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[j]?d.dpDiv.show(j,a.datepicker._get(d,"showOptions"),k):d.dpDiv[j||"show"](j?k:null),a.datepicker._shouldFocusInput(d)&&d.input.trigger("focus"),a.datepicker._curInst=d))}},_updateDatepicker:function(b){this.maxRows=4,g=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b);var c,d=this._getNumberOfMonths(b),f=d[1],h=b.dpDiv.find("."+this._dayOverClass+" a");h.length>0&&e.apply(h.get(0)),b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&b.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.trigger("focus"),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,g=this._curInst;!g||b&&g!==a.data(b,"datepicker")||this._datepickerShowing&&(c=this._get(g,"showAnim"),d=this._get(g,"duration"),e=function(){a.datepicker._tidyDialog(g)},a.effects&&(a.effects.effect[c]||a.effects[c])?g.dpDiv.hide(c,a.datepicker._get(g,"showOptions"),d,e):g.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(g,"onClose"),f&&f.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id!==a.datepicker._mainDivId&&0===c.parents("#"+a.datepicker._mainDivId).length&&!c.hasClass(a.datepicker.markerClassName)&&!c.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||c.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).val(e))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";if(""===(c="object"==typeof c?""+c:c+""))return null;var e,f,g,h,i=0,j=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,k="string"!=typeof j?j:(new Date).getFullYear()%100+parseInt(j,10),l=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,m=(d?d.dayNames:null)||this._defaults.dayNames,n=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,o=(d?d.monthNames:null)||this._defaults.monthNames,p=-1,q=-1,r=-1,s=-1,t=!1,u=function(a){var c=b.length>e+1&&b.charAt(e+1)===a;return c&&e++,c},v=function(a){var b=u(a),d="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e="y"===a?d:1,f=RegExp("^\\d{"+e+","+d+"}"),g=c.substring(i).match(f);if(!g)throw"Missing number at position "+i;return i+=g[0].length,parseInt(g[0],10)},w=function(b,d,e){var f=-1,g=a.map(u(b)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(g,function(a,b){var d=b[1];return c.substr(i,d.length).toLowerCase()===d.toLowerCase()?(f=b[0],i+=d.length,!1):void 0}),-1!==f)return f+1;throw"Unknown name at position "+i},x=function(){if(c.charAt(i)!==b.charAt(e))throw"Unexpected literal at position "+i;i++};for(e=0;b.length>e;e++)if(t)"'"!==b.charAt(e)||u("'")?x():t=!1;else switch(b.charAt(e)){case"d":r=v("d");break;case"D":w("D",l,m);break;case"o":s=v("o");break;case"m":q=v("m");break;case"M":q=w("M",n,o);break;case"y":p=v("y");break;case"@":h=new Date(v("@")),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"!":h=new Date((v("!")-this._ticksTo1970)/1e4),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"'":u("'")?x():t=!0;break;default:x()}if(c.length>i&&(g=c.substr(i),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(-1===p?p=(new Date).getFullYear():100>p&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(k>=p?0:-100)),s>-1)for(q=1,r=s;!((f=this._getDaysInMonth(p,q-1))>=r);)q++,r-=f;if(h=this._daylightSavingAdjust(new Date(p,q-1,r)),h.getFullYear()!==p||h.getMonth()+1!==q||h.getDate()!==r)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=a.length>d+1&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;c>d.length;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;a.length>d;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(10>b.getFullYear()%100?"0":"")+b.getFullYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=a.length>b+1&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;a.length>b;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(a){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(a){}for(var d=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(c);i;){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=7*parseInt(i[1],10);break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,a.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,a.datepicker._getDaysInMonth(e,f))}i=h.exec(c)}return new Date(e,f,g)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"==""+g?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).on(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,aa=a.drawYear;if(0>_&&(_+=12,aa--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&Z>b?Z:b;this._daylightSavingAdjust(new Date(aa,_,1))>b;)0>--_&&(_=11,aa--);for(a.drawMonth=_,a.drawYear=aa,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(aa,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,aa,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(aa,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,aa,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;U[0]>w;w++){for(x="",this.maxRows=4,y=0;U[1]>y;y++){if(z=this._daylightSavingAdjust(new Date(aa,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,aa,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;7>v;v++)D=(v+k)%7,C+="<th scope='col'"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(aa,_),aa===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(aa,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(aa,_,1-F)),J=0;H>J;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;7>v;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&Z>I||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,aa++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;12>k;k++)(!i||k>=d.getMonth())&&(!j||e.getMonth()>=k)&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p>=o;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.selectedYear+("Y"===c?b:0),e=a.selectedMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"===c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||h>=b.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).on("mousedown",a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new c,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.12.1",a.datepicker}),c("holidayAvailabilityCalendar",["jquery"],function(a){"use strict";function b(a){return null===a?"":a.toISOString().substring(0,10)}function c(a,c){var d=i,e=0;for(a=a.addDays(2);a<=c;)-1!=h.booked.indexOf(b(a.addDays(-1)))&&(d=j),a=a.addDays(1),e++;return d}function d(){var a=window.location.hostname;return"https://secure"+(-1!=a.indexOf(".")?a.substring(a.indexOf(".")):a)+"/holidays/booking?accommodationId="+travellerId+"&holidayStartDate="+b(h.selected.date)+"&numberOfNights="+h.holidayDuration}function e(){for(var a=0;a<h.availabilityData.availability.dates.length;a++){var c=h.availabilityData.availability.dates[a];if(c.date===b(h.selected.date))if(void 0!==c.holiday){var e="",f=1===h.holidayDuration?"night":"nights";c.holiday.bookable&&(e+=r(q(c.date,h.holidayDuration))),!0===c.holiday.bookable&&!1===c.holiday.discounted&&(e+='<div class="nt-hol-availability-book__selection">'+l[h.selected.date.getUTCDay()]+" "+h.selected.date.getUTCDate()+" "+m[h.selected.date.getUTCMonth()]+" for "+h.holidayDuration+" "+f+'<div class="nt-hol-availability-book__price-wrapper"><span class="nt-hol-availability-book__price--actual">&pound;'+c.holiday.actualCost+"</span></div></div>"),!0===c.holiday.bookable&&!0===c.holiday.discounted&&(void 0!==c.holiday.discountDescription&&(e+='<div class="nt-hol-availability-book__discount-title">'+c.holiday.discountDescription+"</div>"),e+='<div class="nt-hol-availability-book__selection">'+l[h.selected.date.getUTCDay()]+" "+h.selected.date.getUTCDate()+" "+m[h.selected.date.getUTCMonth()]+" for "+h.holidayDuration+" "+f+'<div class="nt-hol-availability-book__price-wrapper"><span class="nt-hol-availability-book__price--before">&pound;'+c.holiday.originalCost+'</span> <span class="nt-hol-availability-book__price--actual">&pound;'+c.holiday.actualCost+"</span></div></div>"),!0===c.holiday.bookable&&(e+='<div class="nt-hol-availability-book__button"><a class="button round nt-button primary small" href="'+d()+'" role="button">Book Now</a></div>',h.calTars.info.html(e)),!1===c.holiday.bookable&&(void 0!==h.selected.date&&(e='<div class="nt-hol-availability-book__selection">'+l[h.selected.date.getUTCDay()]+" "+h.selected.date.getUTCDate()+" "+m[h.selected.date.getUTCMonth()]+" for "+h.holidayDuration+" "+f+"</div>"),e+='<div class="nt-hol-availability-book__message nt-hol-availability-book__message--warning">'+c.holiday.bookingRestrictionReason+"</div>",h.holidayType=j,h.calTars.info.html(e))}else h.holidayType=j,e='<div class="nt-hol-availability-book__message nt-hol-availability-book__message--warning">'+h.messages.warning+"</div>",h.calTars.info.html(e)}
h.calTars.desktop.datepicker("refresh")}var f="127.0.0.1",g=function(){return window.location.hostname===f?"http://localhost/holidays/data/accommodation/"+travellerId+"/availability-calendar-data":"/holidays/data/accommodation/"+travellerId+"/availability-calendar-data"},h={},i="bookable-holiday",j="unbookable-holiday",k=0;h.messages={warning:"Those dates are not available, please adjust your search."},h.calTars={desktop:a(".nt-hol-availability-calendar"),month:a(".nt-hol-availability-book__month"),duration:a(".nt-hol-availability-book__duration"),info:a(".nt-hol-availability-book__info"),prevMonth:a(".nt-hol-previous-month"),nextMonth:a(".nt-hol-next-month")};var l=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"],m=["Jan","Feb","March","April","May","June","July","Aug","Sep","Oct","Nov","Dec"],n=function(a){var b=a.getTimezoneOffset();return new Date(a.getTime()+60*b*1e3)},o=function(a){var b=a.getTimezoneOffset();return new Date(a.getTime()-60*b*1e3)},p=function(a,c){var d=Date.parse(a),e=new Date(d);return e.setDate(e.getDate()+c),Date.parse(b(e))},q=function(a,b){var c=Date.parse(a),d=p(a,b),e=h.availabilityData.availability.notes,f=[];return e&&e.length>0&&(f=e.filter(function(a){var b=Date.parse(a.dateRange.start),e=Date.parse(a.dateRange.end);return b>=c&&b<=d||e>=c&&e<=d||b<c&&e>d})),f.map(function(a){return a.note})},r=function(a){var b="";return a&&a.length>0&&(b+='<div class="nt-hol-availability-book__note alert-box bottom icon-block warning">',a.forEach(function(a){b+="<p>"+a+"</p>"}),b+="</div>"),b},s=function(a){var b="";return a&&a.length>0&&(b+='<div class="nt-hol-availability-book__disabled alert-box bottom icon-block warning">',a.forEach(function(a){b+="<p>"+a+"</p>"}),b+="</div>"),b};Date.prototype.addDays=function(a){return new Date(this.getTime()+864e5*a)};var t=function(){a("body").append('<div id="calendar-refresh" data-id="0"/>')},u=function(){a("#calendar-refresh").attr("data-id",++k)},v=function(a){return a.availability.hasOwnProperty("numberOfNights")?a.availability.numberOfNights:a.selectedDates.hasOwnProperty("numberOfNights")?a.selectedDates.numberOfNights:7},w=function(){function d(){null!==h.defaultDate?(h.prv=h.defaultDate.getTime(),h.cur=h.defaultDate.addDays(h.holidayDuration).getTime(),h.holidayType=c(new Date(h.prv),new Date(h.cur))):a(".nt-hol-availability-book__info").text("Select a date on the calendar to check availability."),h.calendarDisabled||e(),h.calTars.desktop.datepicker({showOtherMonths:!0,selectOtherMonths:!0,firstDay:1,defaultDate:w(),changeMonth:!0,beforeShowDay:function(a){if(h.calendarDisabled)return[!1,"",""];var c=o(a),d=b(c),e="",f="",g=!0,i=C(c),j=C(D(c));return null===i?[!1,""]:(i.preferredChangeoverDay&&(e+=" nt-hol-availability-calendar__day--changeover ",h.changeover.push(d)),i.available?null==j||j.available?e+=" nt-hol-availability-calendar__day--available-am nt-hol-availability-calendar__day--available-pm ":e+=" nt-hol-availability-calendar__day--unavailable-am nt-hol-availability-calendar__day--available-pm ":(h.booked.push(d),g=!1,null!=j&&j.available?e+="nt-hol-availability-calendar__day--available-am nt-hol-availability-calendar__day--unavailable-pm ":e+=" nt-hol-availability-calendar__day--unavailable-am nt-hol-availability-calendar__day--unavailable-pm "),null!==h.cur&&c.getTime()>=Math.min(h.prv,h.cur)-36e5&&c.getTime()<=Math.max(h.prv,h.cur)+36e5&&(c.getTime()<=Math.min(h.prv,h.cur)?f=" date-range-selected-"+h.holidayType+"-pm ":c.getTime()>=Math.max(h.prv,h.cur)?f=" date-range-selected-"+h.holidayType+"-am ":(f=" date-range-selected-"+h.holidayType+"-am ",f+=" date-range-selected-"+h.holidayType+"-pm ")),[g,f+e])},onSelect:function(a,b){var d=o(new Date(b.selectedYear,b.selectedMonth,b.selectedDay)),f=h.holidayDuration;h.prv=d.getTime(),h.cur=d.addDays(f).getTime(),h.holidayType=c(new Date(h.prv),new Date(h.cur)),h.defaultDate=d,h.selected.date=d,h.calendarDisabled||e()}}),h.calTars.desktop.datepicker("refresh"),h.calendarInit=!0}h.holidayDuration=7,h.holidayType=i,h.defaultDate=null,h.changeover=[],h.booked=[],h.selected={date:h.defaultDate},h.calendarInit=!1;var f=(void 0!==window.travellerId&&window.travellerId,function(b){return a(b).closest(".nt-hol-availability-book")}),j=function(a){return f(a).find(".nt-hol-availability-book__month")},k=function(a){return f(a).find(".nt-hol-availability-book__duration")},l=function(a,b){var c=a.prop("selectedIndex"),d=c+b,e=a.find("option").size();d>=0&&d<e&&a.prop("selectedIndex",d).trigger("change")},p=function(){var b=j(a(this));l(b,-1)},q=function(){var b=j(a(this));l(b,1)},r=function(){a(".nt-hol-availability-book").each(function(b,c){var d=a(c).find(".nt-hol-availability-book__month"),e=d.find("option").size(),f=d.prop("selectedIndex");a(c).find(".nt-hol-previous-month").toggleClass("disabled",0==f),a(c).find(".nt-hol-next-month").toggleClass("disabled",f==e-1),a(c).find(".nt-hol-current-month-title").text(d.find("option:selected").text())})},w=function(){return n(null===h.defaultDate?new Date(h.defaultMonth+"-01"):h.defaultDate)},x=function(){a.get(g(),function(b){h.availabilityData=b,A(b),h.defaultDate=void 0===b.selectedDates.startDate?null:new Date(b.selectedDates.startDate),h.selected.date=h.defaultDate,h.holidayDuration=v(b),h.defaultMonth=b.selectedDates.month,h.prv=h.defaultDate,h.cur=null===h.prv?null:h.prv.addDays(h.holidayDuration),a(".nt-hol-availability-book__preferred-day").html(b.availability.changeoverDay.toLowerCase()),h.calTars.month.empty();for(var c=0;c<b.formOptions.months.length;c++){var f=b.formOptions.months[c],g=-1!==f.value.indexOf(h.defaultMonth);h.calTars.month.append(a("<option>",{value:f.value,selected:g,text:f.displayName}))}h.calTars.duration.empty();for(var c=0;c<b.formOptions.nights.length;c++){var f=b.formOptions.nights[c],g=f.displayName==h.holidayDuration,i="1"===f.displayName?f.displayName+" night":f.displayName+" nights";h.calTars.duration.append(a("<option>",{value:f.value,selected:g,text:i}))}for(var c=0;c<b.availability.dates.length;c++)b.availability.dates[c].preferredChangeoverDay&&h.changeover.push(b.availability.dates[c].date),b.availability.dates[c].available||h.booked.push(b.availability.dates[c].date);if(h.calendarInit){var j=w();h.calTars.desktop.datepicker("setDate",j),h.calTars.desktop.datepicker("refresh")}else d();e(),r(),t()}).fail(function(){z()})},y=function(b,f){a.get(g()+"?month="+b.month+"&nights="+b.duration,function(g){if(h.availabilityData=g,A(g),a(".nt-hol-availability-book__preferred-day").html(g.availability.changeoverDay.toLowerCase()),!1===h.calendarInit)return void d();f?h.calTars.desktop.datepicker("setDate",n(new Date(b.month+"-01"))):(h.holidayDuration=parseInt(b.duration),null!==h.defaultDate&&(h.prv=h.defaultDate.getTime(),h.cur=h.defaultDate.addDays(h.holidayDuration).getTime(),h.holidayType=c(new Date(h.prv),new Date(h.cur))),h.calTars.desktop.datepicker("refresh")),e(),r(),u()}).fail(function(){z()})},z=function(){var b,c;if(void 0===h.calendarDisabled||!h.calendarDisabled){if(h.calendarInit)b=E(h.calTars.month),c=new Date(b.month+"-01");else{c=new Date;var e=m[c.getMonth()]+" "+c.getFullYear();h.calTars.month.empty(),h.calTars.month.append(a("<option>",{value:"",selected:!0,text:e})),h.calTars.duration.append(a("<option>",{value:"",selected:!0,text:""}))}if(h.calTars.month.attr("disabled",!0),h.calTars.duration.attr("disabled",!0),h.calTars.prevMonth.css("pointerEvents","none"),h.calTars.nextMonth.css("pointerEvents","none"),!a("#nt-hol-availability-book__preferred-spacer").is(":visible")){a(".nt-hol-availability-book__preferred").hide();a(".nt-hol-availability-book__preferred").after('<div id="nt-hol-availability-book__preferred-spacer" class="nt-hol-availability-book__preferred"></div>')}B(b),h.calendarDisabled=!0,h.calendarInit?(h.calTars.desktop.datepicker("setDate",n(c)),h.calTars.desktop.datepicker("refresh")):d()}r(),u()},A=function(b){h.calendarDisabled&&(a("#nt-hol-availability-book__preferred-spacer").remove(),a(".nt-hol-availability-book__preferred").show(),a(".nt-hol-availability-book__info").show(),a(".nt-hol-availability-book__disabled").remove(),a(".nt-hol-availability-book__try-again").remove(),h.calTars.month.attr("disabled",!1),h.calTars.duration.attr("disabled",!1),h.calTars.prevMonth.css("pointerEvents","auto"),h.calTars.nextMonth.css("pointerEvents","auto"),h.calendarDisabled=!1)},B=function(b){var c=[];c[0]="Sorry, we were unable to retrieve calendar data for the accommodation.",c[1]="Please try again or call the contact centre on:",c[2]="0344 800 2070",a(".nt-hol-availability-book__info").hide(),h.calTars.info.after(s(c)+'<div class="nt-hol-availability-book__try-again nt-hol-availability-book__button"><p><a class="button round nt-button primary small" href="#">Please Try Again</a></p></div>'),a(".nt-hol-availability-book__try-again a").off("click").on("click",function(a){return function(b){b.preventDefault(),void 0!==a?y(a,!1):x()}}(b))},C=function(b){var c=a(h.availabilityData.availability.dates).filter(function(a,c){return"function"==typeof b.toDateString&&"undefined"!==c.date&&b.getTime()===new Date(c.date).getTime()});return 0===c.length?null:c[0]},D=function(a){var b=new Date(a.getTime());return b.setDate(a.getDate()-1),b},E=function(b){var c=j(a(b)),d=k(a(b));return{month:c.val(),duration:d.val()}};x(),h.calTars.month.on("change",function(){var b=E(a(this));y(b,!0)}),h.calTars.duration.on("change",function(){var b=E(a(this));y(b,!1)}),a("body").on("click",".nt-hol-previous-month",p),a("body").on("click",".nt-hol-next-month",q)},x=function(){a(function(){var b,c=document.cookie.split(";").filter(function(a){return 0===a.trim().indexOf("booking-reference")}),d=c.length>0?c[0]:void 0;void 0!==d&&(b=JSON.parse(JSON.parse(d.replace("booking-reference=",""))),b.accommodationId===window.travellerId&&""!==b.bookingUrl&&(a(".panel").prepend('<div id="booking-in-progress-msg" class="row"><div class="column small-12"><div class="alert-box"><div class="c-notice c-notice__info--default"><h4>We see you have a booking in progress, would you like to continue?</h4><a id="accommodationPageInProgressBookingYes" class="button round nt-button primary small" href="'+b.bookingUrl+'">Yes</a> <a id="accommodationPageInProgressBookingNo" class="nt-hol-clear-booking-reference button round nt-button primary small" href="#">No thanks</a></div></div></div></div>'),a("body").on("click",".nt-hol-clear-booking-reference",function(b){b.preventDefault(),document.cookie="booking-reference=; Path=/; Domain=nationaltrust.org.uk; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",a("#booking-in-progress-msg").remove()})))})},y=function(){return void 0!==window.travellerId&&null!==window.travellerId};return{init:function(a){0!==a.length&&y()&&(w(),x())}}}),c("holidaySearchForm",["jquery"],function(a){"use strict";!function(a){function b(b,d){a.getJSON(d.url,function(d){function g(b){return a(b).closest("form")}function h(a,b){var d=g(a.target),e=i[b.toLowerCase()];"NT_PLACE"===e.type?(d.find('input[name="ntPlaceId"]').val(e.id),d.find('input[name="lat"]').val(e.latitudeLongitude.latitude),d.find('input[name="lon"]').val(e.latitudeLongitude.longitude)):(c(d,e),window.location.href=e.websiteUrl)}var i=e(d);a(b).typeahead({hint:!0,highlight:!0,minLength:2},{name:"accommodation",source:f(d),limit:5}).on("typeahead:selected",h)});var f=function(b){return function(c,d){var e=XRegExp.replace(c,XRegExp("/[^\\w\\s\\p{L}'&,:-]/g"),"");e=a.trim(XRegExp.replace(e,XRegExp("\\s+")," "));var f=XRegExp("\\b"+e,"i"),g=[],h=[];a.each(b,function(a,b){0===b.name.toLowerCase().indexOf(e.toLowerCase())&&(g.push(b.name),h.push(b))}),g.sort(),h.sort(function(a,b){return a.name>b.name});var i=[],j=[];a.each(b,function(a,b){f.test(b.name)&&0!==b.name.toLowerCase().indexOf(e.toLowerCase())&&(i.push(b.name),j.push(b))}),i.sort(),j.sort(function(a,b){return a.name>b.name}),g=g.concat(i),h=h.concat(j),1===h.length&&h[0].name.toLowerCase()===e.toLowerCase()?(a.fn.nt_autosuggestAccommodation.exactMatchUrl=h[0].websiteUrl,a.fn.nt_autosuggestAccommodation.exactMatchName=h[0].name):(a.fn.nt_autosuggestAccommodation.exactMatchUrl="",a.fn.nt_autosuggestAccommodation.exactMatchName=""),d(g)}}}function d(b,d,f){a.getJSON(f.url,function(g){function h(b){return a(b).closest("form")}var i=a.trim(a(d).val()).toLowerCase(),j=e(g)[i];if(void 0!==j&&"NT_PLACE"!==j.type){var k=h(b.target);c(k,j),b.preventDefault(),window.location.href=j.websiteUrl}else f.handle(b)})}a.fn.nt_autosuggestAccommodation=function(a){return this.each(function(){b(this,a)})},a.fn.nt_autosuggestAccommodation.exactMatchUrl="",a.fn.nt_autosuggestAccommodation.exactMatchName="",a.fn.nt_accommodationDirectSearch=function(a,b){return this.each(function(){d(a,this,b)})};var e=function(a){for(var b={},c=0,d=a.length;c<d;c++)b[a[c].name.toLowerCase()]=a[c];return b}}(jQuery);var b=function(a){return a.replace("/20","/")},c=function(a,c){if(localStorage){var d="accommodation-"+c.id,e={searchTerm:a.find('input[name="textualQuery"]').val(),directSearch:"True",searchType:"holidays search – location",searchSuccess:!0,searchAccomSize:a.find('select[name="sleepsCapacity"] option:selected').val(),searchAccomDuration:a.find('select[name="numberOfNights"] option:selected').val(),searchAccomCheckInDate:b(a.find('input[name="startDate"]').val())};localStorage.setItem(d,JSON.stringify(e))}},d={autosuggest:"/holidays/fragments/autosuggest"},e=e||{};e.init=function(){e.targets={container:a(".nt-hol-search-form"),containerInner:a(".nt-hol-search-form__inner"),title:a(".nt-hol-search-form__title"),switch:a(".nt-hol-search__switch-init"),switchTarget:a(".nt-hol-search-form__switch-target"),date:a("#search-form-start-date"),header:a(".nt-hol-results-header"),mobileSubmenu:a(".nt-hol-search-submenu"),mobileSubmenuInner:a(".nt-hol-search-submenu__inner"),home:a(".nt-hol-home-header__search")};var b=new Date,c=new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0,0),f=(a(".nt-hol-datepicker").fdatepicker({onRender:function(a){return a.valueOf()<c.valueOf()?"disabled":""}}).on("changeDate",function(a){}).data("datepicker"),function(){var b=a(window).scrollTop();if(e.targets.mobileSubmenuInner.length){b>e.targets.header.position().top+e.targets.header.outerHeight(!0)-e.targets.mobileSubmenu.outerHeight()?requestAnimationFrame(function(){e.targets.mobileSubmenuInner.addClass("nt-hol-search-submenu__inner--fixed")}):requestAnimationFrame(function(){e.targets.mobileSubmenuInner.removeClass("nt-hol-search-submenu__inner--fixed")})}b>=e.targets.title.offset().top+e.targets.title.outerHeight()?requestAnimationFrame(function(){var a=e.targets.container.outerHeight();e.targets.containerInner.addClass("nt-hol-search-form__inner--fixed"),e.targets.container.css("height",a)}):g()}),g=function(){requestAnimationFrame(function(){e.targets.containerInner.removeClass("nt-hol-search-form__inner--fixed"),e.targets.container.css("height","auto")})},h=function(){var b=a("#search-form-mobile");b.unbind("submit"),b.submit()},i=function(){var b=a("#search-form");b.unbind("submit"),b.submit()},j=function(b,c,d){c&&d?(a("#search-form-lat").val(c),a("#search-form-lon").val(d)):(a("#search-form-lat").remove(),a("#search-form-lon").remove()),i()},k=function(b,c,d){c&&d?(a("#search-form-lat-mobile").val(c),a("#search-form-lon-mobile").val(d)):(a("#search-form-lat-mobile").remove(),a("#search-form-lon-mobile").remove()),h()},l=function(b){if(""!==a("#search-form-ntPlaceId").val().trim())i();else{var c=a("#search-form-textualQuery").val();NtGeocode.geocode(c,j),b.preventDefault()}},m=function(b){if(""!==a("#search-form-ntPlaceId-mobile").val().trim())h();else{var c=a("#search-form-textualQuery-mobile").val();NtGeocode.geocode(c,k),b.preventDefault()}},n=function(){a("#search-form-ntPlaceId").val("")},o=function(){a("#search-form-ntPlaceId-mobile").val("")};!1==(0!==e.targets.home.length)&&(f(),a(window).on("scroll",f),a(window).on("resize",function(){g(),f()})),this.targets.switch.on("click",function(b){a(this).parent().hasClass("nt-hol-search__switch-one")?(e.targets.switchTarget.removeClass("nt-hol-search-form__switch-target--hidden"),a(".nt-hol-search__switch").removeClass("nt-hol-search__switch--hidden"),a(".nt-hol-search__switch-one").addClass("nt-hol-search__switch--hidden"),a(".nt-hol-search-form__switch-target-one").attr("disabled",!0).addClass("nt-hol-search-form__switch-target--hidden"),a(".nt-hol-search-form__switch-target-two").attr("disabled",!1),a("#twitter-typeahead-desktop").addClass("nt-hol-twitter-typeahead-visible").removeClass("hidden"),a(".nt-hol-search-form__switch-target-two.tt-input").focus().select()):(e.targets.switchTarget.removeClass("nt-hol-search-form__switch-target--hidden"),a(".nt-hol-search__switch").removeClass("nt-hol-search__switch--hidden"),a(".nt-hol-search__switch-two").addClass("nt-hol-search__switch--hidden"),a(".nt-hol-search-form__switch-target-two").attr("disabled",!0).addClass("nt-hol-search-form__switch-target--hidden"),a("#twitter-typeahead-desktop").removeClass("nt-hol-twitter-typeahead-visible").addClass("hidden"),a(".nt-hol-search-form__switch-target-one").attr("disabled",!1).focus()),b.preventDefault()}),a("#search-form-textualQuery").on("textInput input",function(){n()}),a("#search-form-textualQuery-mobile").on("textInput input",function(){o()});var p=function(b,c,e){""!==(void 0!==c.val()?a.trim(c.val()):"")?(b.preventDefault(),a(c).nt_accommodationDirectSearch(b,{url:[[d.autosuggest]],handle:e})):e(b)};a("#search-form").off("submit").on("submit",function(b){p(b,a("#search-form-textualQuery"),l)}),a("#search-form-mobile").off("submit").on("submit",function(b){p(b,a("#search-form-textualQuery-mobile"),m)}),nt_loadLibraries([{src:"/assets/js/lib/typeahead.jquery.min.js",path:"$.fn.typeahead"},{src:"/assets/js/lib/xregexp-all-min.js",path:"XRegExp"}],function(){a("#search-form-textualQuery").nt_autosuggestAccommodation({url:[[d.autosuggest]]}),a("#search-form-textualQuery-mobile").nt_autosuggestAccommodation({url:[[d.autosuggest]]})})};var f,g=function(){return a(".search-form-month").length>0},h=function(b,c){var d;a(".search-form-month").empty().append(['<option value="">All months</option>',f.filter("option[data="+c+"]")]),d='.search-form-month option[value="'+b+'"]',a(d).length?a(d).prop("selected",!0):a('.search-form-month option[value=""]').prop("selected",!0)},i=function(b){var c=a("#search-form-month").val(),d=a("#search-form-year").val();h(c,d)},j=function(b){var c=a("#search-form-month-mobile").val(),d=a("#search-form-year-mobile").val();h(c,d)},k=function(a,b){if(localStorage){var c="accommodation-"+b.id,d={searchTerm:a.find('input[name="textualQuery"]').val(),directSearch:"True",searchType:"working holidays search – title",searchSuccess:!0,searchAccomDuration:a.find('select[name="numberOfNights"] option:selected').val()};localStorage.setItem(c,JSON.stringify(d))}},l=function(){if(g()){var b=a("#search-form-month").val(),e=a("#search-form-year").val();f=a("#search-form-month option").detach(),h(b,e),a("#search-form-year").on("change",i),a("#search-form-year-mobile").on("change",j),d.autosuggest="/holidays/fragments/working-holiday/autosuggest",c=k}};return{init:function(a){0!==a.length&&(l(),e.init())}}}),c("ntCommonUtils",["jquery"],function(a){"use strict";a.getParameterByName=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);if(null!==c)return decodeURIComponent(c[1].replace(/\+/g," "))},a.getURLParameters=function(a){var b=[];if(-1!=a.indexOf("?"))for(var c=(a.substring(0,a.indexOf("?")),a.substring(a.indexOf("?")+1).split("&")),b=[],d=0;d<c.length;d++){var e=c[d].split("=");b[e[0]]?("object"!=typeof b[e[0]]&&(b[e[0]]=[b[e[0]]]),b[e[0]].push(e[1])):b[e[0]]=e[1]}return b},a.setURLParameters=function(a,b){var c=a;if(-1!=a.indexOf("?"))var c=a.substring(0,a.indexOf("?"));var d="";for(var e in b)if(0===d.length?d+="?":d+="&","object"==typeof b[e])for(var f=0;f<b[e].length;f++)f>0&&(d+="&"),d+=e+"="+b[e][f];else d+=e+"="+b[e];return c+d}}),function(a){function b(){return new Date(Date.UTC.apply(Date,arguments))}var c=function(b,c){var f=this;this.element=a(b),this.autoShow=c.autoShow||!0,this.appendTo=c.appendTo||"body",this.closeButton=c.closeButton,this.language=c.language||this.element.data("date-language")||"en",this.language=this.language in d?this.language:this.language.split("-")[0],this.language=this.language in d?this.language:"en",this.isRTL=d[this.language].rtl||!1,this.format=e.parseFormat(c.format||this.element.data("date-format")||d[this.language].format||"mm/dd/yyyy"),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".prefix, .postfix"),this.hasInput=this.component&&this.element.find("input").length,this.disableDblClickSelection=c.disableDblClickSelection,this.onRender=c.onRender||function(){},this.component&&0===this.component.length&&(this.component=!1),this.linkField=c.linkField||this.element.data("link-field")||!1,this.linkFormat=e.parseFormat(c.linkFormat||this.element.data("link-format")||"yyyy-mm-dd hh:ii:ss"),this.minuteStep=c.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=c.pickerPosition||this.element.data("picker-position")||"bottom-right",this._attachEvents(),this.minView=0,"minView"in c?this.minView=c.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=e.convertViewMode(this.minView),this.maxView=e.modes.length-1,"maxView"in c?this.maxView=c.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=e.convertViewMode(this.maxView),this.startViewMode="month","startView"in c?this.startViewMode=c.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=e.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,"minView"in c||"maxView"in c||this.element.data("min-view")&&!this.element.data("max-view")||(this.pickTime=!1,"pickTime"in c&&(this.pickTime=c.pickTime),1==this.pickTime?(this.minView=0,this.maxView=4):(this.minView=2,this.maxView=4)),this.forceParse=!0,"forceParse"in c?this.forceParse=c.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=a(e.template).appendTo(this.isInline?this.element:this.appendTo).on({click:a.proxy(this.click,this),mousedown:a.proxy(this.mousedown,this)}),this.closeButton?this.picker.find("a.datepicker-close").show():this.picker.find("a.datepicker-close").hide(),this.isInline?this.picker.addClass("datepicker-inline"):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.isRTL&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("fa fa-chevron-left fa-chevron-right").toggleClass("fa-chevron-left fa-chevron-right")),a(document).on("mousedown",function(b){0===a(b.target).closest(".datepicker.datepicker-inline, .datepicker.datepicker-dropdown").length&&f.hide()}),this.autoclose=!0,"autoclose"in c?this.autoclose=c.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in c?this.keyboardNavigation=c.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=c.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=c.todayHighlight||this.element.data("date-today-highlight")||!1,this.calendarWeeks=!1,"calendarWeeks"in c?this.calendarWeeks=c.calendarWeeks:"dateCalendarWeeks"in this.element.data()&&(this.calendarWeeks=this.element.data("date-calendar-weeks")),this.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(a,b){return parseInt(b)+1}),this.weekStart=(c.weekStart||this.element.data("date-weekstart")||d[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(c.startDate||this.element.data("date-startdate")),this.setEndDate(c.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(c.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:this.autoShow?a.proxy(this.show,this):function(){},keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:this.autoShow?a.proxy(this.show,this):function(){},keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}],[this.component,{click:a.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:a.proxy(this.show,this)}]],this.disableDblClickSelection&&(this._events[this._events.length]=[this.element,{dblclick:function(b){b.preventDefault(),b.stopPropagation(),a(this).blur()}}]);for(var b,c,d=0;d<this._events.length;d++)b=this._events[d][0],c=this._events[d][1],b.on(c)},_detachEvents:function(){for(var a,b,c=0;c<this._events.length;c++)a=this._events[c][0],b=this._events[c][1],a.off(b);this._events=[]},show:function(b){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.update(),this.place(),a(window).on("resize",a.proxy(this.place,this)),b&&(b.stopPropagation(),b.preventDefault()),this.element.trigger({type:"show",date:this.date})},hide:function(b){this.isInline||this.picker.is(":visible")&&(this.picker.hide(),a(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||a(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.element.trigger({type:"hide",date:this.date}))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.element.data().datepicker},getDate:function(){var a=this.getUTCDate();return new Date(a.getTime()+6e4*a.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(new Date(a.getTime()-6e4*a.getTimezoneOffset()))},setUTCDate:function(a){this.date=a,this.setValue()},setValue:function(){var a=this.getFormattedDate();this.isInput?this.element.val(a):(this.component&&this.element.find("input").val(a),this.element.data("date",a))},getFormattedDate:function(a){return void 0===a&&(a=this.format),e.formatDate(this.date,a,this.language)},setStartDate:function(a){this.startDate=a||-1/0,this.startDate!==-1/0&&(this.startDate=e.parseDate(this.startDate,this.format,this.language)),this.update(),this.updateNavArrows()},setEndDate:function(a){this.endDate=a||1/0,this.endDate!==1/0&&(this.endDate=e.parseDate(this.endDate,this.format,this.language)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(b){this.daysOfWeekDisabled=b||[],a.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=a.map(this.daysOfWeekDisabled,function(a){return parseInt(a,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var b=parseInt(this.element.parents().filter(function(){return"auto"!=a(this).css("z-index")}).first().css("z-index"))+1e3,c=this.component?this.component:this.element,d=c.offset(),e=c.outerHeight()+parseInt(c.css("margin-top")),f=c.outerWidth()+parseInt(c.css("margin-left")),g=d.top+e+12,h=d.left-25;g+this.picker.outerHeight()>=a(window).scrollTop()+a(window).height()&&(g=d.top-this.picker.outerHeight()),d.left+this.picker.width()>=a(window).width()&&(h=d.left+f-this.picker.width()),this.picker.css({top:g,left:h,zIndex:b})}},update:function(){var a,b=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(a=arguments[0],b=!0):a=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),this.date=e.parseDate(a,this.format,this.language),isNaN(this.date)||(b&&this.setValue(),this.date<this.startDate?this.viewDate=new Date(this.startDate.valueOf()):this.date>this.endDate?this.viewDate=new Date(this.endDate.valueOf()):this.viewDate=new Date(this.date.valueOf()),this.fill())},fillDow:function(){var a=this.weekStart,b="<tr>";if(this.calendarWeeks){var c='<th class="cw">&nbsp;</th>';b+=c,this.picker.find(".datepicker-days thead tr:first-child").prepend(c)}for(;a<this.weekStart+7;)b+='<th class="dow">'+d[this.language].daysMin[a++%7]+"</th>";b+="</tr>",this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;b<12;)a+='<span class="month">'+d[this.language].monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").html(a)},fill:function(){if(null!=this.date&&null!=this.viewDate){var c=new Date(this.viewDate.valueOf()),f=c.getUTCFullYear(),g=c.getUTCMonth(),h=c.getUTCDate(),i=c.getUTCHours(),j=c.getUTCMinutes(),k=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,l=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,m=this.endDate!==1/0?this.endDate.getUTCFullYear():1/0,n=this.endDate!==1/0?this.endDate.getUTCMonth():1/0,o=this.date&&this.date.valueOf(),p=new Date;d[this.language].titleFormat||d.en.titleFormat;this.picker.find(".datepicker-days thead th:eq(1)").text(d[this.language].months[g]+" "+f),this.picker.find(".datepicker-hours thead th:eq(1)").text(h+" "+d[this.language].months[g]+" "+f),this.picker.find(".datepicker-minutes thead th:eq(1)").text(h+" "+d[this.language].months[g]+" "+f),this.picker.find("tfoot th.today").text(d[this.language].today).toggle(!1!==this.todayBtn),this.updateNavArrows(),this.fillMonths();var q=b(f,g-1,28,0,0,0,0),r=e.getDaysInMonth(q.getUTCFullYear(),q.getUTCMonth());q.setUTCDate(r),q.setUTCDate(r-(q.getUTCDay()-this.weekStart+7)%7);var s=new Date(q.valueOf());s.setUTCDate(s.getUTCDate()+42),s=s.valueOf();for(var t,u=[];q.valueOf()<s;){if(q.getUTCDay()==this.weekStart&&(u.push("<tr>"),this.calendarWeeks)){var v=new Date(q.getUTCFullYear(),q.getUTCMonth(),q.getUTCDate()-q.getDay()+10-(this.weekStart&&this.weekStart%7<5&&7)),w=new Date(v.getFullYear(),0,4),x=~~((v-w)/864e5/7+1.5);u.push('<td class="cw">'+x+"</td>")}t=" "+this.onRender(q)+" ",q.getUTCFullYear()<f||q.getUTCFullYear()==f&&q.getUTCMonth()<g?t+=" old":(q.getUTCFullYear()>f||q.getUTCFullYear()==f&&q.getUTCMonth()>g)&&(t+=" new"),this.todayHighlight&&q.getUTCFullYear()==p.getFullYear()&&q.getUTCMonth()==p.getMonth()&&q.getUTCDate()==p.getDate()&&(t+=" today"),o&&q.valueOf()==o&&(t+=" active"),(q.valueOf()<this.startDate||q.valueOf()>this.endDate||-1!==a.inArray(q.getUTCDay(),this.daysOfWeekDisabled))&&(t+=" disabled"),u.push('<td class="day'+t+'">'+q.getUTCDate()+"</td>"),q.getUTCDay()==this.weekEnd&&u.push("</tr>"),q.setUTCDate(q.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(u.join("")),u=[];for(var y=0;y<24;y++){var z=b(f,g,h,y);t="",z.valueOf()+36e5<this.startDate||z.valueOf()>this.endDate?t+=" disabled":i==y&&(t+=" active"),u.push('<span class="hour'+t+'">'+y+":00</span>")}this.picker.find(".datepicker-hours td").html(u.join("")),u=[];for(var y=0;y<60;y+=this.minuteStep){var z=b(f,g,h,i,y);t="",z.valueOf()<this.startDate||z.valueOf()>this.endDate?t+=" disabled":Math.floor(j/this.minuteStep)==Math.floor(y/this.minuteStep)&&(t+=" active"),u.push('<span class="minute'+t+'">'+i+":"+(y<10?"0"+y:y)+"</span>")}this.picker.find(".datepicker-minutes td").html(u.join(""));var A=this.date&&this.date.getUTCFullYear(),B=this.picker.find(".datepicker-months").find("th:eq(1)").text(f).end().find("span").removeClass("active");A&&A==f&&B.eq(this.date.getUTCMonth()).addClass("active"),(f<k||f>m)&&B.addClass("disabled"),f==k&&B.slice(0,l).addClass("disabled"),f==m&&B.slice(n+1).addClass("disabled"),u="",f=10*parseInt(f/10,10)
;var C=this.picker.find(".datepicker-years").find("th:eq(1)").text(f+"-"+(f+9)).end().find("td");f-=1;for(var y=-1;y<11;y++)u+='<span class="year'+(-1==y||10==y?" old":"")+(A==f?" active":"")+(f<k||f>m?" disabled":"")+'">'+f+"</span>",f+=1;C.html(u)}},updateNavArrows:function(){var a=new Date(this.viewDate),b=a.getUTCFullYear(),c=a.getUTCMonth(),d=a.getUTCDate(),e=a.getUTCHours();switch(this.viewMode){case 0:this.startDate!==-1/0&&b<=this.startDate.getUTCFullYear()&&c<=this.startDate.getUTCMonth()&&d<=this.startDate.getUTCDate()&&e<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&b>=this.endDate.getUTCFullYear()&&c>=this.endDate.getUTCMonth()&&d>=this.endDate.getUTCDate()&&e>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:this.startDate!==-1/0&&b<=this.startDate.getUTCFullYear()&&c<=this.startDate.getUTCMonth()&&d<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&b>=this.endDate.getUTCFullYear()&&c>=this.endDate.getUTCMonth()&&d>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:this.startDate!==-1/0&&b<=this.startDate.getUTCFullYear()&&c<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&b>=this.endDate.getUTCFullYear()&&c>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:this.startDate!==-1/0&&b<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&b>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},click:function(c){c.stopPropagation(),c.preventDefault(),(a(c.target).hasClass("datepicker-close")||a(c.target).parent().hasClass("datepicker-close"))&&this.hide();var d=a(c.target).closest("span, td, th");if(1==d.length){if(d.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(d[0].nodeName.toLowerCase()){case"th":switch(d[0].className){case"date-switch":this.showMode(1);break;case"prev":case"next":var f=e.modes[this.viewMode].navStep*("prev"==d[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,f);break;case 1:this.viewDate=this.moveDate(this.viewDate,f);break;case 2:this.viewDate=this.moveMonth(this.viewDate,f);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,f)}this.fill();break;case"today":var g=new Date;g=b(g.getFullYear(),g.getMonth(),g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds()),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(g)}break;case"span":if(!d.is(".disabled")){if(d.is(".month"))if(3===this.minView){var h=d.parent().find("span").index(d)||0,i=this.viewDate.getUTCFullYear(),j=1,k=this.viewDate.getUTCHours(),l=this.viewDate.getUTCMinutes(),m=this.viewDate.getUTCSeconds();this._setDate(b(i,h,j,k,l,m,0))}else{this.viewDate.setUTCDate(1);var h=d.parent().find("span").index(d);this.viewDate.setUTCMonth(h),this.element.trigger({type:"changeMonth",date:this.viewDate})}else if(d.is(".year")){this.viewDate.setUTCDate(1);var i=parseInt(d.text(),10)||0;this.viewDate.setUTCFullYear(i),this.element.trigger({type:"changeYear",date:this.viewDate})}else if(d.is(".hour")){var k=parseInt(d.text(),10)||0,i=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth(),j=this.viewDate.getUTCDate(),l=this.viewDate.getUTCMinutes(),m=this.viewDate.getUTCSeconds();this._setDate(b(i,h,j,k,l,m,0))}else if(d.is(".minute")){var l=parseInt(d.text().substr(d.text().indexOf(":")+1),10)||0,i=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth(),j=this.viewDate.getUTCDate(),k=this.viewDate.getUTCHours(),m=this.viewDate.getUTCSeconds();this._setDate(b(i,h,j,k,l,m,0))}if(0!=this.viewMode){var n=this.viewMode;this.showMode(-1),this.fill(),n==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(d.is(".day")&&!d.is(".disabled")){var j=parseInt(d.text(),10)||1,i=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth(),k=this.viewDate.getUTCHours(),l=this.viewDate.getUTCMinutes(),m=this.viewDate.getUTCSeconds();d.is(".old")?0===h?(h=11,i-=1):h-=1:d.is(".new")&&(11==h?(h=0,i+=1):h+=1),this._setDate(b(i,h,j,k,l,m,0))}var n=this.viewMode;this.showMode(-1),this.fill(),n==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(a,b){b&&"date"!=b||(this.date=a),b&&"view"!=b||(this.viewDate=a),this.fill(),this.setValue(),this.element.trigger({type:"changeDate",date:this.date});var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&(c.change(),this.autoclose)},moveHour:function(a,b){if(!b)return a;var c=new Date(a.valueOf());return b=b>0?1:-1,c.setUTCHours(c.getUTCHours()+b),c},moveDate:function(a,b){if(!b)return a;var c=new Date(a.valueOf());return b=b>0?1:-1,c.setUTCDate(c.getUTCDate()+b),c},moveMonth:function(a,b){if(!b)return a;var c,d,e=new Date(a.valueOf()),f=e.getUTCDate(),g=e.getUTCMonth(),h=Math.abs(b);if(b=b>0?1:-1,1==h)d=-1==b?function(){return e.getUTCMonth()==g}:function(){return e.getUTCMonth()!=c},c=g+b,e.setUTCMonth(c),(c<0||c>11)&&(c=(c+12)%12);else{for(var i=0;i<h;i++)e=this.moveMonth(e,b);c=e.getUTCMonth(),e.setUTCDate(f),d=function(){return c!=e.getUTCMonth()}}for(;d();)e.setUTCDate(--f),e.setUTCMonth(c);return e},moveYear:function(a,b){return this.moveMonth(a,12*b)},dateWithinRange:function(a){return a>=this.startDate&&a<=this.endDate},keydown:function(a){if(this.picker.is(":not(:visible)"))return void(27==a.keyCode&&this.show());var b,c,d,e=!1;switch(a.keyCode){case 27:this.hide(),a.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;b=37==a.keyCode?-1:1,a.ctrlKey?(c=this.moveYear(this.date,b),d=this.moveYear(this.viewDate,b)):a.shiftKey?(c=this.moveMonth(this.date,b),d=this.moveMonth(this.viewDate,b)):(c=new Date(this.date.valueOf()),c.setUTCDate(this.date.getUTCDate()+b),d=new Date(this.viewDate.valueOf()),d.setUTCDate(this.viewDate.getUTCDate()+b)),this.dateWithinRange(c)&&(this.date=c,this.viewDate=d,this.setValue(),this.update(),a.preventDefault(),e=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;b=38==a.keyCode?-1:1,a.ctrlKey?(c=this.moveYear(this.date,b),d=this.moveYear(this.viewDate,b)):a.shiftKey?(c=this.moveMonth(this.date,b),d=this.moveMonth(this.viewDate,b)):(c=new Date(this.date.valueOf()),c.setUTCDate(this.date.getUTCDate()+7*b),d=new Date(this.viewDate.valueOf()),d.setUTCDate(this.viewDate.getUTCDate()+7*b)),this.dateWithinRange(c)&&(this.date=c,this.viewDate=d,this.setValue(),this.update(),a.preventDefault(),e=!0);break;case 13:this.hide(),a.preventDefault();break;case 9:this.hide()}if(e){this.element.trigger({type:"changeDate",date:this.date});var f;this.isInput?f=this.element:this.component&&(f=this.element.find("input")),f&&f.change()}},showMode:function(a){if(a){var b=Math.max(0,Math.min(e.modes.length-1,this.viewMode+a));b>=this.minView&&b<=this.maxView&&(this.viewMode=b)}this.picker.find(">div").hide().filter(".datepicker-"+e.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(a){this._setDate(null,"date")}},a.fn.fdatepicker=function(b){var d=Array.apply(null,arguments);return d.shift(),this.each(function(){var e=a(this),f=e.data("datepicker"),g="object"==typeof b&&b;f||e.data("datepicker",f=new c(this,a.extend({},a.fn.fdatepicker.defaults,g))),"string"==typeof b&&"function"==typeof f[b]&&f[b].apply(f,d)})},a.fn.fdatepicker.defaults={onRender:function(a){return""}},a.fn.fdatepicker.Constructor=c;var d=a.fn.fdatepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",titleFormat:"MM yyyy"}},e={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return a%4==0&&a%100!=0||a%400==0},getDaysInMonth:function(a,b){return[31,e.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/hh?|ii?|ss?|dd?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var b=a.replace(this.validParts,"\0").split("\0"),c=a.match(this.validParts);if(!b||!b.length||!c||0===c.length)throw new Error("Invalid date format.");return{separators:b,parts:c}},parseDate:function(c,e,f){if(c instanceof Date)return new Date(c.valueOf()-6e4*c.getTimezoneOffset());if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(c)&&(e=this.parseFormat("yyyy-mm-dd")),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(c)&&(e=this.parseFormat("yyyy-mm-dd hh:ii")),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(c)&&(e=this.parseFormat("yyyy-mm-dd hh:ii:ss")),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(c)){var g,h,i=/([-+]\d+)([dmwy])/,j=c.match(/([-+]\d+)([dmwy])/g);c=new Date;for(var k=0;k<j.length;k++)switch(g=i.exec(j[k]),h=parseInt(g[1]),g[2]){case"d":c.setUTCDate(c.getUTCDate()+h);break;case"m":c=Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype,c,h);break;case"w":c.setUTCDate(c.getUTCDate()+7*h);break;case"y":c=Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype,c,h)}return b(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds())}var l,m,g,j=c&&c.match(this.nonpunctuation)||[],c=new Date,n={},o=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","d","dd"],p={hh:function(a,b){return a.setUTCHours(b)},h:function(a,b){return a.setUTCHours(b)},ii:function(a,b){return a.setUTCMinutes(b)},i:function(a,b){return a.setUTCMinutes(b)},ss:function(a,b){return a.setUTCSeconds(b)},s:function(a,b){return a.setUTCSeconds(b)},yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2e3+b)},m:function(a,b){if(isNaN(a.getUTCMonth()))return a;for(b-=1;b<0;)b+=12;for(b%=12,a.setUTCMonth(b);a.getUTCMonth()!=b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};if(p.M=p.MM=p.mm=p.m,p.dd=p.d,c=b(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0),j.length==e.parts.length){for(var k=0,q=e.parts.length;k<q;k++){if(l=parseInt(j[k],10),g=e.parts[k],isNaN(l))switch(g){case"MM":m=a(d[f].months).filter(function(){var a=this.slice(0,j[k].length);return a==j[k].slice(0,a.length)}),l=a.inArray(m[0],d[f].months)+1;break;case"M":m=a(d[f].monthsShort).filter(function(){var a=this.slice(0,j[k].length);return a==j[k].slice(0,a.length)}),l=a.inArray(m[0],d[f].monthsShort)+1}n[g]=l}for(var r,k=0;k<o.length;k++)(r=o[k])in n&&!isNaN(n[r])&&p[r](c,n[r])}return c},formatDate:function(b,c,e){if(null==b)return"";var f={h:b.getUTCHours(),i:b.getUTCMinutes(),s:b.getUTCSeconds(),d:b.getUTCDate(),m:b.getUTCMonth()+1,M:d[e].monthsShort[b.getUTCMonth()],MM:d[e].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};f.hh=(f.h<10?"0":"")+f.h,f.ii=(f.i<10?"0":"")+f.i,f.ss=(f.s<10?"0":"")+f.s,f.dd=(f.d<10?"0":"")+f.d,f.mm=(f.m<10?"0":"")+f.m;for(var b=[],g=a.extend([],c.separators),h=0,i=c.parts.length;h<i;h++)g.length&&b.push(g.shift()),b.push(f[c.parts[h]]);return b.join("")},convertViewMode:function(a){switch(a){case 4:case"decade":a=4;break;case 3:case"year":a=3;break;case 2:case"month":a=2;break;case 1:case"day":a=1;break;case 0:case"hour":a=0}return a},headTemplate:'<thead><tr><th class="prev"><i class="fa fa-chevron-left fi-arrow-left"/></th><th colspan="5" class="date-switch"></th><th class="next"><i class="fa fa-chevron-right fi-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};e.template='<div class="datepicker"><div class="datepicker-minutes"><table class=" table-condensed">'+e.headTemplate+e.contTemplate+e.footTemplate+'</table></div><div class="datepicker-hours"><table class=" table-condensed">'+e.headTemplate+e.contTemplate+e.footTemplate+'</table></div><div class="datepicker-days"><table class=" table-condensed">'+e.headTemplate+"<tbody></tbody>"+e.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+e.headTemplate+e.contTemplate+e.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+e.headTemplate+e.contTemplate+e.footTemplate+'</table></div><a class="button datepicker-close tiny alert right" style="width:auto;"><i class="fa fa-remove fa-times fi-x"></i></a></div>',a.fn.fdatepicker.DPGlobal=e}(window.jQuery),c("foundationDatePicker",function(){}),c("holidayBookingPanel",["jquery"],function(a){"use strict";var b=b||{};return b.targets={button:a(".nt-hol-booking-phone-panel__button"),panel:a(".nt-hol-booking-phone-panel")},b.init=function(){this.targets.button.on("click",function(){b.targets.panel.hasClass("nt-hol-booking-phone-panel--closed")?b.targets.panel.removeClass("nt-hol-booking-phone-panel--closed"):b.targets.panel.addClass("nt-hol-booking-phone-panel--closed")})},{init:function(a){0!==a.length&&b.init()}}}),c("NtClientStorage",[],function(){var a,b,c={},d={},e=function(){var a={LOCAL_STORAGE:1,COOKIE:2,SESSION_STORAGE:3};return d=Object.freeze?Object.freeze(a):a}(),f=function(c){if(void 0!==c)return void(a=c);a="undefined"!=typeof Storage?e.LOCAL_STORAGE:e.COOKIE,b=!0},g=function(a){b||f(a)},h=function(a){var b=!1;return void 0!==a&&null!==a&&a.constructor===Array&&a.length>0&&(b=!0),b},i=function(a){var b=[];return h(a)?b=a:b.push(a),b},j=function(a){return a&&(a=JSON.parse(decodeURIComponent(a)),isNaN(a)||(a=String(a))),h(a)||(a=i(a)),a},k=function(a){for(var b=[],c=0;c<a.length;c++)a[c]&&b.push(a[c]);return b},l=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return""},m=function(a){return localStorage.getItem(a)},n=function(a){return sessionStorage.getItem(a)},o=function(a,b,c){for(var d=0;d<a.length;d++)if(void 0!==a[d].key&&void 0!==a[d].value){var e=a[d].key+"="+a[d].value;void 0!==b&&null!==b&&(e=e+";path="+b),void 0!==c&&null!==c&&(e=e+";expires="+c.toUTCString()),document.cookie=e}},p=function(a){for(var b=0;b<a.length;b++){var c=a[b];localStorage.setItem(c.key,c.value)}},q=function(a){for(var b=0;b<a.length;b++){var c=a[b];sessionStorage.setItem(c.key,c.value)}},r=function(a){localStorage.removeItem(a)},s=function(a){sessionStorage.removeItem(a)},t=function(a){document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT"},u=function(a,b,c,d,e,f,g){var h=a(d);h=j(h),h.push(e),"function"==typeof c&&(h=c(h)),h=k(h),b([{key:d,value:encodeURIComponent(JSON.stringify(h))}],f,g)};return c.replaceData=function(b,c,d,f){g(c);var h=function(){return"no function found capable of replacing data"};switch(a){case e.LOCAL_STORAGE:h=p;break;case e.SESSION_STORAGE:h=q;break;case e.COOKIE:h=o}return h(i(b),d,f)},c.getData=function(b,c){if(void 0!==b){g(c);var d=function(){return"no function found capable of getting data"};switch(a){case e.LOCAL_STORAGE:d=m;break;case e.SESSION_STORAGE:d=n;break;case e.COOKIE:d=l}return d(b)}},c.deleteData=function(b,c){if(void 0!==b){g(c);var d=function(){return"no function found capable of deleting data"};switch(a){case e.LOCAL_STORAGE:d=r;break;case e.SESSION_STORAGE:d=s;break;case e.COOKIE:d=t}return d(b)}},c.pushData=function(a,b,c,d,f,h){if(void 0===a)throw"no key provided to get array to be pushed onto";switch(g(c),c){case e.LOCAL_STORAGE:u(m,p,d,a,b);break;case e.SESSION_STORAGE:u(n,q,d,a,b);break;case e.COOKIE:u(l,o,d,a,b,f,h);break;default:throw"no function found capable of pushing data"}},new function(){this.pushData=c.pushData,this.deleteData=c.deleteData,this.getData=c.getData,this.replaceData=c.replaceData,this.StorageOptionEnum=e}}),c("NtHistory",["NtClientStorage"],function(a){var b="pagesVisited",c=20,d=function(a){return a.length>c&&(a=a.slice(a.length-c,a.length)),a},e=function(){var a=!1;return"undefined"!=typeof globalDataLayer&&null!==globalDataLayer&&globalDataLayer.taxonomy&&(a=!0),a},f=function(c){e()&&(globalDataLayer.contentType&&"PlaceHomePage"===globalDataLayer.contentType?a.pushData(b,globalDataLayer.propertyID,a.StorageOptionEnum.COOKIE,d,"/",c):a.pushData(b,globalDataLayer.cid,a.StorageOptionEnum.COOKIE,d,"/",c))};return new function(){this.writeHistoryToCookie=f}}),c("NtDom",[],function(){var a=function(a,b){var c=document.createElement(a);c.id=b,document.body.appendChild(c)},b=function(b,c){document.getElementById(c)||a(b,c)},c=function(a){return null!==document.getElementById(a)};return new function(){this.checkForExistenceOfId=c,this.addElementWithIdIfIdDoesNotExist=b}}),c("NtLatLngCapture",[],function(){"undefined"==typeof currentPosition&&(currentPosition=null);var a=function(){var a=!1;return"geolocation"in window.navigator&&(a=!0),a},b={timeout:0,maximumAge:1/0,enableHighAccuracy:!1},c={timeout:5e3,maximumAge:601e3,enableHighAccuracy:!1},d=function(e,f){if(void 0===f&&(f=c),null!=currentPosition)return void e(currentPosition);a()&&window.navigator.geolocation.getCurrentPosition(function(a){var b={latitude:a.coords.latitude,longitude:a.coords.longitude};currentPosition=b,e(b)},function(a){a.code===a.TIMEOUT&&f!=b&&d(e,b)},f)};return new function(){this.capture=d}}),c("NtPersonalisation",["jquery"],function(a){"use strict";return new function(){var b=this,c=null,d=null,e=!1,f={},g=null,h={HAVE_VISITED:"visited",WANT_TO_VISIT:"want-to-visit"},i={ADD_TO_VISIT_LIST:"WANT_TO_VISIT",ADD_TO_VISITED_LIST:"HAVE_VISITED",REMOVE_FROM_LIST:null};b.getPersonalisedResource=function(b,c,d,e){a.ajax({url:b,beforeSend:function(a){d&&a.setRequestHeader(d.header,d.token),a.setRequestHeader("Accept","text/html")},type:"GET",xhrFields:{withCredentials:!0},crossDomain:!0,processData:!1,success:function(a,b,d){j(a,b,d,c,e)},error:function(a){k(a)}})},b.postLoginForm=function(b,d,e){a.ajax({url:b,type:"POST",xhrFields:{withCredentials:!0},beforeSend:function(a){a.setRequestHeader(d.header,d.token),a.setRequestHeader("Accept","text/html")},crossDomain:!0,processData:!1,data:e,success:function(b,d,e){null!==e.getResponseHeader("myNTAccountRef")&&(globalDataLayer.myNTAccountType=e.getResponseHeader("myNTAccountType"),globalDataLayer.myNTAccountRef=e.getResponseHeader("myNTAccountRef"),globalDataLayer.myNTAccountSignInSuccessOverlay="True",a(document).trigger("logInTrigger",globalDataLayer)),j(b,d,e,c)},error:function(a){k(a)}})},b.handleSavePlace=function(b,c){b.html(c),a("html, body").css({"overflow-y":""}),a("#modal-login").hide(),a("#modal-login").removeClass("active")},b.showFavouriteDropDown=function(b){b.hasClass("f-open-dropdown")||Foundation.libs.dropdown.open(b,a("[data-toggle="+b.attr("id")+"]"))},b.openFavouritesHelp=function(){return a.get("/personalisation-request/first-saved-place-modal.html",function(b){a("body").append(b),a(".nt-main-navigation-container").removeClass("active").hide(),a("#modal-favourites").addClass("active").show(),a("html, body").css({"overflow-y":"hidden"})}),!1},b.closeFavouritesHelp=function(){return a("html, body").css({"overflow-y":""}),a("#modal-favourites").hide(),a("#modal-favourites").removeClass("active"),!1};var j=function(d,e,f,g,h){var i=f.getResponseHeader("NT-NTAuth-Login-Type");if("FORM_ONLY"==i||"FORM_LOGIN_ONLY"==i){if(h)return;a("#protected-resource-login").html(d),c=g,a(".nt-main-navigation-container").removeClass("active").hide(),a(".nt-holiday-secondary-nav-container").removeClass("active").hide(),a("#modal-login").addClass("active").show(),a("html, body").css({"overflow-y":"hidden"})}else l()||(b.closeLoginModal(),a("body").trigger("login-success")),g(d)},k=function(a){null!=d&&d(a)},l=function(){return a("#top-nav-profile, #hamburger-nav-profile").length>0};b.getUserProfile=function(c,d){!c&&e||(e=!0,b.getPersonalisedResource("/personalisation-request/user/profile-menu",function(b){var c=a(b).filter("#top-nav-profile"),d=a(b).filter("#hamburger-nav-profile");a("#sign-in-register-btn-TopNavigation").replaceWith(c),a("li.c-profile--responsive-menu").replaceWith(d),a(document).foundation("dropdown","reflow"),a("body").trigger("get-user-profile-success")},nt_csrf,d))},b.closeLoginModal=function(){return a("html, body").css({"overflow-y":""}),a("#modal-login").hide().removeClass("active"),!1},a("#close-button-protected-resource").on("click",function(){a("body").unbind("get-user-profile-success.show-profile-menu"),b.closeLoginModal()}),a(".sign-in-register-btn").on("click",function(){return b.getUserProfile(!0,!1),a("body").on("get-user-profile-success.show-profile-menu",function(){a(".nt-masthead nav").is(":visible")?Foundation.libs.dropdown.open(a("#c-profile-menu"),a("[data-toggle=c-profile-menu]")):a(".nt-main-navigation-container").addClass("active").show()}),!1}),a("body").on("login-success",function(){l()||b.getUserProfile()}),b.handlePlaceButtonClick=function(){g={id:a(this).data("placeId"),region:a(this).data("placeRegion")};var c=nt_cookieDomain,d=a(this).next("ul.my-places-actions");if("undefined"==typeof nt_hasNtAuthSession){var e=new Date;e.setDate(e.getDate()+3),document.cookie="savePlaceWaiting="+g.id+";path=/; expires="+e.toUTCString()+"; domain="+c}b.getPersonalisedResource("/personalisation-request/user/my-places/place/"+g.id+"/save",function(a){b.handleSavePlace(d,a),b.showFavouriteDropDown(d)},nt_csrf)},b.handleMyPlaceActionsClick=function(){var c=a(this).data("visit-status-action");nt.NtPersonalisation.getPersonalisedResource("/personalisation-request/user/my-places/place/"+g.id+"/save?listAction="+c,function(d){b.handleSavePlace(a(this).parents("ul.my-places-actions"),d),"REMOVE_FROM_LIST"===c?b.nt_showFavourite(!1):("ADD_TO_VISIT_LIST"===c?m(g,"MyNTPlacesSearchPlacesIWantToVisit"):"ADD_TO_VISITED_LIST"===c&&m(g,"MyNTPlacesSearchPlacesIHaveVisited"),0!=b.getShowFavouritesHelp()&&b.openFavouritesHelp(),b.nt_showFavourite(i[c]))},nt_csrf)};var m=function(b,c){globalDataLayer.triggerPropertyID=b.id,globalDataLayer.triggerPropertyRegion=b.region,a(document).trigger(c,globalDataLayer)};a("body").on("click",".save-place-btn",b.handlePlaceButtonClick),a("body").on("click",".my-places-actions a[data-visit-status-action]",b.handleMyPlaceActionsClick),b.nt_showFavourite=function(b,c){var c=c||a(".save-place-btn[data-place-id="+g.id+"]"),d=c.data("place-id"),e=f[d];b?e?e.visitStatus=b:f[d]={placeId:d,visitStatus:b}:e&&delete f[d],c.each(function(){a(this).removeClass("unfavourited want-to-visit visited"),b?a(this).addClass(h[b]):a(this).addClass("unfavourited")})},b.loadSavedPlaces=function(b,c){!f||b?a.ajax({url:"/personalisation-request/my-places/",success:function(a){f=a.reduce(function(a,b){return a[b.placeId]=b,a},{}),c()}}):c()},b.decorateFavouriteButtons=function(c){a(".save-place-btn").length&&b.loadSavedPlaces(c,function(){a.each(f,function(c,d){b.nt_showFavourite(d.visitStatus,a(".save-place-btn[data-place-id="+d.placeId+"]"))})})},b.decorateFavouriteButton=function(c){b.loadSavedPlaces(!1,function(){if(f&&f[c]){var d=f[c];b.nt_showFavourite(d.visitStatus,a(".save-place-btn[data-place-id="+d.placeId+"]"))}})},a("body").on("login-success",function(){b.decorateFavouriteButtons(!0)}),a("body").on("click","#close-button-favourites",b.closeFavouritesHelp),a("body").on("click","#favourites-dont-show-again",function(){b.setShowFavouritesHelp(!1),b.closeFavouritesHelp()}),"undefined"==typeof nt_hasNtAuthSession||l()||b.getUserProfile(!0,!0),b.getShowFavouritesHelp=function(){return null==document.cookie.match(/cookieShowFavouritesHelp=false/g)},b.setShowFavouritesHelp=function(a){document.cookie="cookieShowFavouritesHelp="+a+"; path=/"},a("body").on("map-card-opened",function(){if(a(".save-place-btn").length){var c=a(".save-place-btn").attr("data-place-id");b.loadSavedPlaces(!(f&&f[c]),function(){b.decorateFavouriteButton(c),a(".save-place-btn").on("click",b.handlePlaceButtonClick),a(".my-places-actions").on("click","a[data-visit-status-action]",b.handleMyPlaceActionsClick),a(".my-places-actions").on("click","li",function(){Foundation.libs.dropdown.closeall()})})}}),b.init=function(){b.decorateFavouriteButtons(!0)}}}),c("nt",["NtHistory","NtDom","NtLatLngCapture","NtClientStorage","NtPersonalisation","NtPromoCodes"],function(a,b,c,d,e,f){return new function(){this.history=a,this.dom=b,this.NtLatLngCapture=c,this.NtClientStorage=d,this.NtPersonalisation=e,this.NtPromoCodes=f,this.NtAnalytics=new function(){var a=function(a,b){var c=JSON.stringify({ids:[a],fromUrl:window.location.pathname,eventType:"CLICKED",personalisedState:b});$.ajax({url:"/personalisation-analytics/event",contentType:"application/json",mimeType:"application/json",dataType:"json",cache:!1,type:"POST",async:!0,data:c})},b=function(){$(".analytic-data").on("click",function(){a(this.dataset.placeId,this.dataset.personalisedState),window.location=$(this).attr("href")})};return new function(){this.registerClickHandler=b}}}}),c("holidayBookingForm",["jquery"],function(a){"use strict";var b=b||{};return b.targets={extras:a(".nt-holiday-booking-form__group--extra"),extraCheckboxes:a(".nt-holiday-booking-form__group-checkbox"),extraSelectLists:a(".nt-holiday-booking-form__group-select"),autotabs:a(".nt-autotab"),useSameAddress:a("#use-same-address"),billAddress:a("#billing-address")},b.init=function(){var b=this;this.targets.autotabs.each(function(c){a(this).keyup(function(){if(this.value.length==this.maxLength){var d=a(b.targets.autotabs[c+1]);d.length?(d.focus(),d.select()):a(this).blur()}})});var c=function(){b.targets.useSameAddress.is(":checked")?b.targets.billAddress.hide():b.targets.billAddress.show()};c(),this.targets.useSameAddress.change(c)},{init:function(a){0!==a.length&&b.init()}}}),c("holidayPropertyKeyInfo",["jquery"],function(a){"use strict";var b=b||{};return b.targets={acornLink:a("#nt-hol-acorn-link"),acornInfo:a("#nt-hol-acorn-info")},b.init=function(){var a=this;this.targets.acornLink.click(function(b){a.targets.acornInfo.toggle(),b.preventDefault()})},{init:function(a){0!==a.length&&b.init()}}}),c("priceGuide",["jquery"],function(a){"use strict";var b=b||{};return b.targets={periodSelectList:a(".nt-hol-price-guide-select"),tabSelector:" .nt-hol-price-guide",periodSelector:" .nt-hol-price-guide-period-wrapper"},b.bindEvents=function(){var c=b.targets,d=function(){var b=a(this).attr("data-year"),d=a(this).val(),e=a(c.tabSelector+"[data-year='"+b+"']"+c.periodSelector);e.removeClass("active"),e.filter("[data-period='"+d+"']").addClass("active")};c.periodSelectList.each(d),c.periodSelectList.change(d)},{init:function(a){0!==a.length&&b.bindEvents()}}}),c("propertyReviews",["jquery","readMore"],function(a,b){"use strict";var c={reviewSection:a(".nt-hol-property-reviews"),review:a(".nt-hol-property-review")},d=function(){c.reviewSection.each(function(){var d=a(this).find(c.review);d.length&&b.makeExpandable(d,300,125)})};return{init:function(a){0!==a.length&&d()}}}),c("appealDonate",["jquery"],function(a){"use strict";var b=b||{};b.init=function(){a.fn.isOnScreen=function(){var a=this.get(0),b=a.getBoundingClientRect();return b.top<window.innerHeight&&b.bottom>0},this.donateModule=".nt-appeal-donate",this.stickyDonateBarCta=".nt-appeal-sticky-donate__cta",this.stickyDonateBar=".nt-appeal-sticky-donate",this.form=".nt-appeal-donate__form",this.formAmountButton=".nt-appeal-donate__button",this.formErrorMessage=".nt-appeal-donate__amount-error",this.formInputField=".nt-appeal-donate__amount-input",this.formSubmitBtn=".nt-appeal-donate__submit",this.errors={invalidNumber:"Please enter a number",minValue:"Please enter an amount that is £<number> or more",maxValue:"To make a high-value donation, please get in touch with us on 01793 817703"},this.registerEvents()},b.errorSet=function(b){a(this.formErrorMessage).show(),a(this.formErrorMessage).html(b),a(this.formSubmitBtn).attr("disabled",!0)},b.formValidate=function(){var b=parseFloat(a(this.formInputField).val()),c=a(this.formInputField).attr("data-max"),e=a(this.formInputField).attr("data-min");return isNaN(b)?(this.errorSet(this.errors.invalidNumber),!1):b<e?(this.errorSet(this.errors.minValue.replace("<number>",e)),!1):b>c?(this.errorSet(this.errors.maxValue),!1):(d(),!0)},b.handlerCtaClick=function(b){var c=a(this.donateModule).offset().top;a("html, body").animate({scrollTop:c},1500)},b.handlerFormAmountClick=function(b){var c=a(b.currentTarget);a(this.formAmountButton).removeClass("active"),c.addClass("active");var d=c.attr("data-donate-value");a(this.formInputField).first().val(d),a(this.form).submit()},b.handlerFormSubmit=function(a){this.formValidate()||a.preventDefault()},b.handlerKeyPress=function(a){if(!(a.which>=48&&a.which<=57)){switch(a.which){case 8:case 46:case 37:case 38:case 39:case 40:return}a.preventDefault()}},b.handlerKeyUp=function(a){this.formValidate()},b.handlerWindowScroll=function(a){this.scrollAnimationFrame()},b.scrollAnimationFrame=function(){a(this.donateModule).isOnScreen()?(a(this.stickyDonateBar).removeClass("nt-appeal-sticky-donate--active"),a("body").removeClass("nt-appeal-sticky-donate-bar--stuck")):(a(this.stickyDonateBar).addClass("nt-appeal-sticky-donate--active"),a("body").addClass("nt-appeal-sticky-donate-bar--stuck")),window.pageYOffset>a(this.donateModule).offset().top?a(this.stickyDonateBarCta).addClass("nt-appeal-sticky-donate__cta--up"):a(this.stickyDonateBarCta).removeClass("nt-appeal-sticky-donate__cta--up"),"function"==typeof requestAnimationFrame&&requestAnimationFrame(a.proxy(this.scrollAnimationFrame,this))},b.registerEvents=function(){a("body").on("click",this.stickyDonateBarCta,a.proxy(this.handlerCtaClick,this)),a(this.formInputField).on("keypress",a.proxy(this.handlerKeyPress,this)),a(this.formInputField).on("keyup",a.proxy(this.handlerKeyUp,this)),a(this.formInputField).on("blur",a.proxy(this.handlerKeyUp,this)),a(this.form).on("submit",a.proxy(this.handlerFormSubmit,this)),a(this.formAmountButton).on("click",a.proxy(this.handlerFormAmountClick,this)),"function"==typeof requestAnimationFrame?requestAnimationFrame(a.proxy(this.scrollAnimationFrame,this)):a(window).on("scroll",a.proxy(this.handlerWindowScroll,this))};var c={controlClass:".nt-appeal-donate__tab-control",formClass:".nt-appeal-donate__form",panelClass:".nt-appeal-donate__donation-tab-panel",titleClass:".nt-appeal-donate h4",init:function(){if(!a(".nt-appeal-donate__tab-list").length)return!0;var b=a(this.formClass).find('input[name="donationType"]').val();this.setActiveTab(b),this.registerEvents()},handlerClickEvent:function(b){var c=a(b.currentTarget),d=c.attr("data-type");a(this.formClass).find('input[name="donationType"]').val(d),this.setActiveTab(d)},registerEvents:function(){a(this.controlClass).on("click",a.proxy(this.handlerClickEvent,this))},setActiveTab:function(b){a(".nt-appeal-donate__tab-control").removeClass("active").attr("aria-selected","false"),a(".nt-appeal-donate__donation-tab-panel").removeClass("inactive"),a(this.panelClass).not('div[data-type="'+b+'"]').addClass("inactive"),a('button[data-type="'+b+'"]').addClass("active").attr("aria-selected","true")
;var c=a('button[data-type="'+b+'"]').attr("data-title"),e=a('button[data-type="'+b+'"]').attr("data-min"),f=a('button[data-type="'+b+'"]').attr("data-max");a(this.titleClass).html(c),a(this.formClass).find('input[name="amount"]').attr("data-min",e),a(this.formClass).find('input[name="amount"]').attr("data-max",f),a(".nt-appeal-donate__amount-input").val(""),d()}},d=function(){a(".nt-appeal-donate__amount-error").hide(),a(".nt-appeal-donate__amount-input").html(""),a(".nt-appeal-donate__submit").attr("disabled",!1)};return{init:function(a){0!==a.length&&(b.init(),c.init())}}}),c("checkAvailabilityScroll",["jquery","gotoSmooth"],function(a,b){"use strict";var c=function(c){c.find("a").on("click",function(c){var d=a(document).scrollTop(),e=2,f=d/e;c.preventDefault();var g=a(a(".nt-hol-booking-card").is(":visible")?".nt-hol-booking-card":".nt-hol-availability-book");b.gotoElement(g.first(),0,f)})};return{init:function(a){0!==a.length&&c(a)}}}),c("longFormTextWithStaticImage",["jquery"],function(a,b){"use strict";var c=function(a){this.init(a)};return c.prototype={imageClass:".nt-long-form-text-with-static-image--image",image:null,wrapper:null,init:function(a){this.wrapper=a,this.image=this.wrapper.find(this.imageClass).first(),this.registerEvents(),this.handlerWindowResize()},imageLoad:function(){var b=this.image.data("background-image"),c=a("<img>",{src:b});c.one("load",a.proxy(this.handlerImageLoad,this)),this.image.append(c),c.attr("src",c.attr("src"))},handlerImageLoad:function(b){var c=a(b.currentTarget),d=c.parent(),e=c.attr("src");d.css({"background-image":'url("'+e+'")'}),c.remove()},handlerWindowResize:function(){if(this.image.css({height:"",bottom:"",position:"",top:""}),"absolute"==this.image.css("position")){var b=a(window).height(),c=this.wrapper.outerHeight();c>b?this.image.css({height:b+"px"}):this.image.css({height:c+"px"})}},handlerWindowScroll:function(){var b=a(window).scrollTop(),c=this.wrapper.offset().top,d=c+this.wrapper.outerHeight()-a(window).height();"absolute"!=this.image.css("position")&&"fixed"!=this.image.css("position")||(b>c&&b<d?this.image.css({bottom:"auto",position:"fixed",top:"0px"}):b>=d?this.image.css({bottom:"0px",position:"",top:"auto"}):this.image.css({bottom:"auto",position:"",top:"0px"})),window.requestAnimationFrame(a.proxy(this.handlerWindowScroll,this))},registerEvents:function(){a(window).on("resize",a.proxy(this.handlerWindowResize,this)),window.requestAnimationFrame(a.proxy(this.handlerWindowScroll,this))}},{init:function(b){0!==b.length&&a(b).each(function(){new c(a(this))})}}}),c("cardCarousel",["jquery","slick"],function(a){"use strict";var b=function(a){new c({carouselWrapper:a}).init()},c=function(b){var c=b.carouselWrapper;this.init=function(){var b=a(c),d={};0!==a(".nt-hol-property-card").length&&(d={nextArrow:'<button type="button" data-role="none" aria-label="Next" role="button" class="nt-hol-property-card__slider__arrow  nt-hol-property-card__slider__arrow--right" style="display: inline-block;"></button>',prevArrow:'<button type="button" data-role="none" aria-label="Previous" role="button" class="nt-hol-property-card__slider__arrow  nt-hol-property-card__slider__arrow--left" style="display: inline-block;"></button>'}),b.slick(d),a(".nt-js-card-slider:visible").find(".nt-hol-lazy-card-image").removeClass("hidden")}};return{init:function(c){0!==c.length&&b(".nt-js-card-slider:not(.slick-initialized):visible"),a("body").off("initialise-carousel").on("initialise-carousel",function(a){b(".nt-js-card-slider:not(.slick-initialized):visible")})}}}),c("locationSearch",["jquery","NtLatLngCapture","ntCommonUtils"],function(a,b){"use strict";var c=function(b){a('a[href*="location=true"]').each(function(){var c=a(this).attr("href");if(-1!==c.indexOf("/search")){var d=a.getURLParameters(c);d.lat=b.latitude,d.lon=b.longitude,d.query="My location";var e=a.setURLParameters(c,d);a(this).attr("href",e)}})},d=function(){b.capture(c)};return{init:function(a){0!==a.length&&d()}}}),c("slickLazyloadFix",["jquery"],function(a){"use strict";return a.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b||200),h&&a.apply(e,f)}},{init:function(){a(document).on("lazyloaded",a.debounce(function(){a(".slick-track .lazyloaded, .slick-track .lazyloading").each(function(){var b=a(this);b.closest(".slick-track").find("img.lazyload[src='"+b.attr("src")+"']").addClass("lazypreload")})},500))}}}),c("jquery",[],function(){return jQuery}),b(["foundation","breakpoints","checkViewport","jsLink","jsSocialLink","secondaryMenu","gotoSmooth","gotoNextModule","stick","stickItem","vhOpacity","print","toggle","modal","tabs","readMore","equalHeight","volunteerStoryItem","carouselSlick","ntAnimation","ntVideo","ntVideoInline","splash","moreInsert","animFrame","setParentHeight","imageLoadListener","iframeEvents","menuNav","fixWebLinkHeight","backButton","search","site-search","footer","searchRefine","backToTop","viewportUnitsBuggyfill","cookieStatement","NtPromoCodes","mediaCards","walkingTrailsMap","carouselHome","carouselHolidayProperty","carouselLongFormStory","holidayCottagesSecondaryNav","jqueryDatepicker","holidayAvailabilityCalendar","holidaySearchForm","ntCommonUtils","foundationDatePicker","holidayBookingPanel","nt","holidayBookingForm","holidayPropertyKeyInfo","priceGuide","holidayBookingForm","propertyReviews","appealDonate","checkAvailabilityScroll","longFormTextWithStaticImage","cardCarousel","locationSearch","videoAnalytics","slickLazyloadFix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,aa,ba,_,ca,da,ea,fa,ga,ha,ia,ja){window.nt=Z;var ka=setInterval(function(){if("complete"===document.readyState){clearInterval(ka);var a=new Date;a.setYear(a.getFullYear()+10),Z.history.writeHistoryToCookie(a)}},10);$(document).foundation({interchange:{named_queries:{small:"only screen and (max-width: 40em)",medium:"only screen and (min-width: 40.063em) and (max-width: 59.875em)",large:"only screen and (min-width: 59.938em) and (max-width: 73em)",xLarge:"only screen and (min-width: 73.125em)"}}}),d.init($(".nt-js-link")),e.init($(".nt-js-social-link")),f.init($(".nt-js-secondary-menu")),g.init($(".nt-js-goto-smooth")),h.init(),i.init($(".nt-js-stick")),j.init($(".nt-js-stick-item")),k.init($(".nt-js-vh-opacity")),l.init($(".nt-js-print")),m.init($(".nt-js-toggle")),n.init($(".nt-js-launch-modal")),n.init($(".nt-js-more-button")),o.init($(".nt-tabs, .nt-tabs-inline")),ca.init($(".nt-hol-property-reviews")),q.init($(".nt-js-equal-height")),r.init($(".nt-volunteer")),s.init($(".nt-carousel--slick")),t.init($('[class^="nt-anim"]')),u.init($(".nt-js-launch-video")),u.init($(".nt-js-more-button")),v.init($(".nt-video--inline")),x.init($(".nt-js-more-button")),z.init($(".nt-js-set-parent-height")),B.init($(".nt-js-launch-iframe")),F.init($(".nt-search-container")),G.init($("#cse-search-input-box-id")),H.init($(".nt-footer")),I.init($(".search-modal input")),J.init($(".nt-main-back-to-top")),L.init($(".nt-footer-cookie-statement")),M.init($(".nt-membership-table")),N.init($(".media-card-wrapper")),C.init(),D.init(),E.init(),K.init(),O.init($(".nt-walking-trails-map")),P.init($(".nt-content-header-home-group")),Q.init($(".nt-hol-property-images__images")),ga.init($(".nt-js-card-slider:not(.slick-initialized):visible")),R.init($(".nt-content-header-longform-story")),V.init($(".nt-hol-search-form")),S.init($(".nt-holiday-secondary-nav")),U.init($(".nt-hol-availability-calendar")),Y.init($(".nt-hol-booking-phone-panel")),_.init($(".nt-holiday-booking-form")),aa.init($(".nt-hol-property-key-info")),ba.init($(".nt-hol-price-guide")),da.init($(".nt-appeal-donate")),ea.init($(".nt-hol-property-additional-book-link__book")),fa.init($(".nt-long-form-text-with-static-image")),ha.init($('a[href*="location=true"]')),ja.init(),Z.NtPersonalisation.init()}),c("develop/js/main.js",function(){})}();